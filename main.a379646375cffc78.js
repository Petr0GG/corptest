"use strict";(self.webpackChunkphishing=self.webpackChunkphishing||[]).push([[179],{6304:(st,xe,F)=>{F.d(xe,{Dh:()=>de,GT:()=>q,cc:()=>we,hO:()=>oe,on:()=>k,pX:()=>re,xv:()=>X});var f=F(5879),ne=F(7142),L=F(4503);st=F.hmd(st);const se=["ngOnDestroy"],re=(Ve,Je,Ne,ge={})=>new Proxy(Ve,{get:(yt,$e)=>Ne.runOutsideAngular(()=>{var nt;if(Ve[$e])return!(null===(nt=ge?.spy)||void 0===nt)&&nt.get&&ge.spy.get($e,Ve[$e]),Ve[$e];if(se.indexOf($e)>-1)return()=>{};const it=Je.toPromise().then(vt=>{const Tt=vt&&vt[$e];return"function"==typeof Tt?Tt.bind(vt):Tt&&Tt.then?Tt.then(Bt=>Ne.run(()=>Bt)):Ne.run(()=>Tt)});return new Proxy(()=>{},{get:(vt,Tt)=>it[Tt],apply:(vt,Tt,Bt)=>it.then(mn=>{var xi;const ji=mn&&mn(...Bt);return!(null===(xi=ge?.spy)||void 0===xi)&&xi.apply&&ge.spy.apply($e,Bt,ji),ji})})})}),q=(Ve,Je)=>{Je.forEach(Ne=>{Object.getOwnPropertyNames(Ne.prototype||Ne).forEach(ge=>{Object.defineProperty(Ve.prototype,ge,Object.getOwnPropertyDescriptor(Ne.prototype||Ne,ge))})})};class ye{constructor(Je){return Je}}const de=new f.OlP("angularfire2.app.options"),X=new f.OlP("angularfire2.app.name");function k(Ve,Je,Ne){const yt="object"==typeof Ne&&Ne||{};yt.name=yt.name||"string"==typeof Ne&&Ne||"[DEFAULT]";const nt=ne.Z.apps.filter(it=>it&&it.name===yt.name)[0]||Je.runOutsideAngular(()=>ne.Z.initializeApp(Ve,yt));try{JSON.stringify(Ve)!==JSON.stringify(nt.options)&&j("error",`${nt.name} Firebase App already initialized with different options${st.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ye(nt)}const j=(Ve,...Je)=>{(0,f.X6Q)()&&typeof console<"u"&&console[Ve](...Je)},H={provide:ye,useFactory:k,deps:[de,f.R0b,[new f.FiY,X]]};let oe=(()=>{class Ve{constructor(Ne){ne.Z.registerVersion("angularfire",L.q4.full,"core"),ne.Z.registerVersion("angularfire",L.q4.full,"app-compat"),ne.Z.registerVersion("angular",f.q4F.full,Ne.toString())}static initializeApp(Ne,ge){return{ngModule:Ve,providers:[{provide:de,useValue:Ne},{provide:X,useValue:ge}]}}}return Ve.\u0275fac=function(Ne){return new(Ne||Ve)(f.LFG(f.Lbi))},Ve.\u0275mod=f.oAB({type:Ve}),Ve.\u0275inj=f.cJS({providers:[H]}),Ve})();function we(Ve,Je,Ne,ge,yt){const[,$e,nt]=globalThis.\u0275AngularfireInstanceCache.find(it=>it[0]===Ve)||[];if($e)return function at(Ve,Je){try{return Ve.toString()===Je.toString()}catch{return Ve===Je}}(yt,nt)||(Fe("error",`${Je} was already initialized on the ${Ne} Firebase App with different settings.${pe?" You may need to reload as Firebase is not HMR aware.":""}`),Fe("warn",{is:yt,was:nt})),$e;{const it=ge();return globalThis.\u0275AngularfireInstanceCache.push([Ve,it,yt]),it}}const pe=!!st.hot,Fe=(Ve,...Je)=>{(0,f.X6Q)()&&typeof console<"u"&&console[Ve](...Je)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4503:(st,xe,F)=>{F.d(xe,{q4:()=>Ao,iC:()=>Ia,HU:()=>nm,vb:()=>em,JM:()=>Ml});var f=F(5879),ne=F(3182),L=F(5861),se=F(6122),re=F(9058),q=F(4537),ye=F(7879);const de=(x,T)=>T.some(R=>x instanceof R);let X,k;const oe=new WeakMap,we=new WeakMap,at=new WeakMap,pe=new WeakMap,Fe=new WeakMap;let Ne={get(x,T,R){if(x instanceof IDBTransaction){if("done"===T)return we.get(x);if("objectStoreNames"===T)return x.objectStoreNames||at.get(x);if("store"===T)return R.objectStoreNames[1]?void 0:R.objectStore(R.objectStoreNames[0])}return nt(x[T])},set:(x,T,R)=>(x[T]=R,!0),has:(x,T)=>x instanceof IDBTransaction&&("done"===T||"store"===T)||T in x};function $e(x){return"function"==typeof x?function yt(x){return x!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function H(){return k||(k=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(x)?function(...T){return x.apply(it(this),T),nt(oe.get(this))}:function(...T){return nt(x.apply(it(this),T))}:function(T,...R){const B=x.call(it(this),T,...R);return at.set(B,T.sort?T.sort():[T]),nt(B)}}(x):(x instanceof IDBTransaction&&function Je(x){if(we.has(x))return;const T=new Promise((R,B)=>{const K=()=>{x.removeEventListener("complete",ce),x.removeEventListener("error",ve),x.removeEventListener("abort",ve)},ce=()=>{R(),K()},ve=()=>{B(x.error||new DOMException("AbortError","AbortError")),K()};x.addEventListener("complete",ce),x.addEventListener("error",ve),x.addEventListener("abort",ve)});we.set(x,T)}(x),de(x,function j(){return X||(X=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(x,Ne):x)}function nt(x){if(x instanceof IDBRequest)return function Ve(x){const T=new Promise((R,B)=>{const K=()=>{x.removeEventListener("success",ce),x.removeEventListener("error",ve)},ce=()=>{R(nt(x.result)),K()},ve=()=>{B(x.error),K()};x.addEventListener("success",ce),x.addEventListener("error",ve)});return T.then(R=>{R instanceof IDBCursor&&oe.set(R,x)}).catch(()=>{}),Fe.set(T,x),T}(x);if(pe.has(x))return pe.get(x);const T=$e(x);return T!==x&&(pe.set(x,T),Fe.set(T,x)),T}const it=x=>Fe.get(x);function vt(x,T,{blocked:R,upgrade:B,blocking:K,terminated:ce}={}){const ve=indexedDB.open(x,T),Ge=nt(ve);return B&&ve.addEventListener("upgradeneeded",je=>{B(nt(ve.result),je.oldVersion,je.newVersion,nt(ve.transaction))}),R&&ve.addEventListener("blocked",()=>R()),Ge.then(je=>{ce&&je.addEventListener("close",()=>ce()),K&&je.addEventListener("versionchange",()=>K())}).catch(()=>{}),Ge}function Tt(x,{blocked:T}={}){const R=indexedDB.deleteDatabase(x);return T&&R.addEventListener("blocked",()=>T()),nt(R).then(()=>{})}const Bt=["get","getKey","getAll","getAllKeys","count"],mn=["put","add","delete","clear"],xi=new Map;function ji(x,T){if(!(x instanceof IDBDatabase)||T in x||"string"!=typeof T)return;if(xi.get(T))return xi.get(T);const R=T.replace(/FromIndex$/,""),B=T!==R,K=mn.includes(R);if(!(R in(B?IDBIndex:IDBObjectStore).prototype)||!K&&!Bt.includes(R))return;const ce=function(){var ve=(0,L.Z)(function*(Ge,...je){const Xe=this.transaction(Ge,K?"readwrite":"readonly");let wt=Xe.store;return B&&(wt=wt.index(je.shift())),(yield Promise.all([wt[R](...je),K&&Xe.done]))[0]});return function(je){return ve.apply(this,arguments)}}();return xi.set(T,ce),ce}!function ge(x){Ne=x(Ne)}(x=>({...x,get:(T,R,B)=>ji(T,R)||x.get(T,R,B),has:(T,R)=>!!ji(T,R)||x.has(T,R)}));const ra="@firebase/installations",Qn="0.6.4",Xc=1e4,Jc=`w:${Qn}`,el="FIS_v2",bs="https://firebaseinstallations.googleapis.com/v1",Go=36e5,Tn=new re.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ut(x){return x instanceof re.ZR&&x.code.includes("request-failed")}function qa({projectId:x}){return`${bs}/projects/${x}/installations`}function Eu(x){return{token:x.token,requestStatus:2,expiresIn:Is(x.expiresIn),creationTime:Date.now()}}function Nr(x,T){return ln.apply(this,arguments)}function ln(){return(ln=(0,L.Z)(function*(x,T){const B=(yield T.json()).error;return Tn.create("request-failed",{requestName:x,serverCode:B.code,serverMessage:B.message,serverStatus:B.status})})).apply(this,arguments)}function Wa({apiKey:x}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":x})}function qo(x){return zn.apply(this,arguments)}function zn(){return(zn=(0,L.Z)(function*(x){const T=yield x();return T.status>=500&&T.status<600?x():T})).apply(this,arguments)}function Is(x){return Number(x.replace("s","000"))}function Hi(){return(Hi=(0,L.Z)(function*({appConfig:x,heartbeatServiceProvider:T},{fid:R}){const B=qa(x),K=Wa(x),ce=T.getImmediate({optional:!0});if(ce){const Xe=yield ce.getHeartbeatsHeader();Xe&&K.append("x-firebase-client",Xe)}const Ge={method:"POST",headers:K,body:JSON.stringify({fid:R,authVersion:el,appId:x.appId,sdkVersion:Jc})},je=yield qo(()=>fetch(B,Ge));if(je.ok){const Xe=yield je.json();return{fid:Xe.fid||R,registrationStatus:2,refreshToken:Xe.refreshToken,authToken:Eu(Xe.authToken)}}throw yield Nr("Create Installation",je)})).apply(this,arguments)}function si(x){return new Promise(T=>{setTimeout(T,x)})}const Zo=/^[cdef][\w-]{21}$/,Ye="";function _t(){try{const x=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(x),x[0]=112+x[0]%16;const R=function St(x){return function mo(x){return btoa(String.fromCharCode(...x)).replace(/\+/g,"-").replace(/\//g,"_")}(x).substr(0,22)}(x);return Zo.test(R)?R:Ye}catch{return Ye}}function Jt(x){return`${x.appName}!${x.appId}`}const ir=new Map;function De(x,T){const R=Jt(x);Ko(R,T),function ot(x,T){const R=function Ft(){return!Kr&&"BroadcastChannel"in self&&(Kr=new BroadcastChannel("[Firebase] FID Change"),Kr.onmessage=x=>{Ko(x.data.key,x.data.fid)}),Kr}();R&&R.postMessage({key:x,fid:T}),function ia(){0===ir.size&&Kr&&(Kr.close(),Kr=null)}()}(R,T)}function Ko(x,T){const R=ir.get(x);if(R)for(const B of R)B(T)}let Kr=null;const Yr="firebase-installations-database",ws=1,mr="firebase-installations-store";let oa=null;function xs(){return oa||(oa=vt(Yr,ws,{upgrade:(x,T)=>{0===T&&x.createObjectStore(mr)}})),oa}function Zt(x,T){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,L.Z)(function*(x,T){const R=Jt(x),K=(yield xs()).transaction(mr,"readwrite"),ce=K.objectStore(mr),ve=yield ce.get(R);return yield ce.put(T,R),yield K.done,(!ve||ve.fid!==T.fid)&&De(x,T.fid),T})).apply(this,arguments)}function zi(x){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,L.Z)(function*(x){const T=Jt(x),B=(yield xs()).transaction(mr,"readwrite");yield B.objectStore(mr).delete(T),yield B.done})).apply(this,arguments)}function kr(x,T){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,L.Z)(function*(x,T){const R=Jt(x),K=(yield xs()).transaction(mr,"readwrite"),ce=K.objectStore(mr),ve=yield ce.get(R),Ge=T(ve);return void 0===Ge?yield ce.delete(R):yield ce.put(Ge,R),yield K.done,Ge&&(!ve||ve.fid!==Ge.fid)&&De(x,Ge.fid),Ge})).apply(this,arguments)}function G(x){return $.apply(this,arguments)}function $(){return $=(0,L.Z)(function*(x){let T;const R=yield kr(x.appConfig,B=>{const K=function Q(x){return On(x||{fid:_t(),registrationStatus:0})}(B),ce=function Ie(x,T){if(0===T.registrationStatus){if(!navigator.onLine)return{installationEntry:T,registrationPromise:Promise.reject(Tn.create("app-offline"))};const R={fid:T.fid,registrationStatus:1,registrationTime:Date.now()},B=function le(x,T){return Qe.apply(this,arguments)}(x,R);return{installationEntry:R,registrationPromise:B}}return 1===T.registrationStatus?{installationEntry:T,registrationPromise:ft(x)}:{installationEntry:T}}(x,K);return T=ce.registrationPromise,ce.installationEntry});return R.fid===Ye?{installationEntry:yield T}:{installationEntry:R,registrationPromise:T}}),$.apply(this,arguments)}function Qe(){return Qe=(0,L.Z)(function*(x,T){try{const R=yield function Wo(x,T){return Hi.apply(this,arguments)}(x,T);return Zt(x.appConfig,R)}catch(R){throw ut(R)&&409===R.customData.serverCode?yield zi(x.appConfig):yield Zt(x.appConfig,{fid:T.fid,registrationStatus:0}),R}}),Qe.apply(this,arguments)}function ft(x){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,L.Z)(function*(x){let T=yield tn(x.appConfig);for(;1===T.registrationStatus;)yield si(100),T=yield tn(x.appConfig);if(0===T.registrationStatus){const{installationEntry:R,registrationPromise:B}=yield G(x);return B||R}return T})).apply(this,arguments)}function tn(x){return kr(x,T=>{if(!T)throw Tn.create("installation-not-found");return On(T)})}function On(x){return function Lt(x){return 1===x.registrationStatus&&x.registrationTime+Xc<Date.now()}(x)?{fid:x.fid,registrationStatus:0}:x}function or(){return(or=(0,L.Z)(function*({appConfig:x,heartbeatServiceProvider:T},R){const B=function gr(x,{fid:T}){return`${qa(x)}/${T}/authTokens:generate`}(x,R),K=function po(x,{refreshToken:T}){const R=Wa(x);return R.append("Authorization",function Za(x){return`${el} ${x}`}(T)),R}(x,R),ce=T.getImmediate({optional:!0});if(ce){const Xe=yield ce.getHeartbeatsHeader();Xe&&K.append("x-firebase-client",Xe)}const Ge={method:"POST",headers:K,body:JSON.stringify({installation:{sdkVersion:Jc,appId:x.appId}})},je=yield qo(()=>fetch(B,Ge));if(je.ok)return Eu(yield je.json());throw yield Nr("Generate Auth Token",je)})).apply(this,arguments)}function ai(x){return tl.apply(this,arguments)}function tl(){return tl=(0,L.Z)(function*(x,T=!1){let R;const B=yield kr(x.appConfig,ce=>{if(!He(ce))throw Tn.create("not-registered");const ve=ce.authToken;if(!T&&function qt(x){return 2===x.requestStatus&&!function $n(x){const T=Date.now();return T<x.creationTime||x.creationTime+x.expiresIn<T+Go}(x)}(ve))return ce;if(1===ve.requestStatus)return R=function me(x,T){return ie.apply(this,arguments)}(x,T),ce;{if(!navigator.onLine)throw Tn.create("app-offline");const Ge=function Nn(x){const T={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},x),{authToken:T})}(ce);return R=function et(x,T){return pt.apply(this,arguments)}(x,Ge),Ge}});return R?yield R:B.authToken}),tl.apply(this,arguments)}function ie(){return(ie=(0,L.Z)(function*(x,T){let R=yield Se(x.appConfig);for(;1===R.authToken.requestStatus;)yield si(100),R=yield Se(x.appConfig);const B=R.authToken;return 0===B.requestStatus?ai(x,T):B})).apply(this,arguments)}function Se(x){return kr(x,T=>{if(!He(T))throw Tn.create("not-registered");return function go(x){return 1===x.requestStatus&&x.requestTime+Xc<Date.now()}(T.authToken)?Object.assign(Object.assign({},T),{authToken:{requestStatus:0}}):T})}function pt(){return pt=(0,L.Z)(function*(x,T){try{const R=yield function jt(x,T){return or.apply(this,arguments)}(x,T),B=Object.assign(Object.assign({},T),{authToken:R});return yield Zt(x.appConfig,B),R}catch(R){if(!ut(R)||401!==R.customData.serverCode&&404!==R.customData.serverCode){const B=Object.assign(Object.assign({},T),{authToken:{requestStatus:0}});yield Zt(x.appConfig,B)}else yield zi(x.appConfig);throw R}}),pt.apply(this,arguments)}function He(x){return void 0!==x&&2===x.registrationStatus}function Ti(){return(Ti=(0,L.Z)(function*(x){const T=x,{installationEntry:R,registrationPromise:B}=yield G(T);return B?B.catch(console.error):ai(T).catch(console.error),R.fid})).apply(this,arguments)}function sa(){return sa=(0,L.Z)(function*(x,T=!1){const R=x;return yield function wu(x){return Ka.apply(this,arguments)}(R),(yield ai(R,T)).token}),sa.apply(this,arguments)}function Ka(){return(Ka=(0,L.Z)(function*(x){const{registrationPromise:T}=yield G(x);T&&(yield T)})).apply(this,arguments)}function Bn(x){return Tn.create("missing-app-config-values",{valueName:x})}const Yo="installations",Sp=x=>{const T=x.getProvider("app").getImmediate(),R=function lh(x){if(!x||!x.options)throw Bn("App Configuration");if(!x.name)throw Bn("App Name");const T=["projectId","apiKey","appId"];for(const R of T)if(!x.options[R])throw Bn(R);return{appName:x.name,projectId:x.options.projectId,apiKey:x.options.apiKey,appId:x.options.appId}}(T);return{app:T,appConfig:R,heartbeatServiceProvider:(0,se._getProvider)(T,"heartbeat"),_delete:()=>Promise.resolve()}},xu=x=>{const T=x.getProvider("app").getImmediate(),R=(0,se._getProvider)(T,Yo).getImmediate();return{getId:()=>function er(x){return Ti.apply(this,arguments)}(R),getToken:K=>function Iu(x){return sa.apply(this,arguments)}(R,K)}};(function uh(){(0,se._registerComponent)(new q.wA(Yo,Sp,"PUBLIC")),(0,se._registerComponent)(new q.wA("installations-internal",xu,"PRIVATE"))})(),(0,se.registerVersion)(ra,Qn),(0,se.registerVersion)(ra,Qn,"esm2017");const Cu="@firebase/remote-config",Un=new re.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Ke{constructor(T,R,B,K){this.client=T,this.storage=R,this.storageCache=B,this.logger=K}isCachedDataFresh(T,R){if(!R)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const B=Date.now()-R,K=B<=T;return this.logger.debug(`Config fetch cache check. Cache age millis: ${B}. Cache max age millis (minimumFetchIntervalMillis setting): ${T}. Is cache hit: ${K}.`),K}fetch(T){var R=this;return(0,L.Z)(function*(){const[B,K]=yield Promise.all([R.storage.getLastSuccessfulFetchTimestampMillis(),R.storage.getLastSuccessfulFetchResponse()]);if(K&&R.isCachedDataFresh(T.cacheMaxAgeMillis,B))return K;T.eTag=K&&K.eTag;const ce=yield R.client.fetch(T),ve=[R.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ce.status&&ve.push(R.storage.setLastSuccessfulFetchResponse(ce)),yield Promise.all(ve),ce})()}}function At(x=navigator){return x.languages&&x.languages[0]||x.language}class Xt{constructor(T,R,B,K,ce,ve){this.firebaseInstallations=T,this.sdkVersion=R,this.namespace=B,this.projectId=K,this.apiKey=ce,this.appId=ve}fetch(T){var R=this;return(0,L.Z)(function*(){const[B,K]=yield Promise.all([R.firebaseInstallations.getId(),R.firebaseInstallations.getToken()]),ve=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${R.projectId}/namespaces/${R.namespace}:fetch?key=${R.apiKey}`,Ge={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":T.eTag||"*"},je={sdk_version:R.sdkVersion,app_instance_id:B,app_instance_id_token:K,app_id:R.appId,language_code:At()},Xe={method:"POST",headers:Ge,body:JSON.stringify(je)},wt=fetch(ve,Xe),Ct=new Promise((Ri,to)=>{T.signal.addEventListener(()=>{const bc=new Error("The operation was aborted.");bc.name="AbortError",to(bc)})});let Pr;try{yield Promise.race([wt,Ct]),Pr=yield wt}catch(Ri){let to="fetch-client-network";throw"AbortError"===Ri?.name&&(to="fetch-timeout"),Un.create(to,{originalErrorMessage:Ri?.message})}let ur=Pr.status;const is=Pr.headers.get("ETag")||void 0;let Mo,Ol;if(200===Pr.status){let Ri;try{Ri=yield Pr.json()}catch(to){throw Un.create("fetch-client-parse",{originalErrorMessage:to?.message})}Mo=Ri.entries,Ol=Ri.state}if("INSTANCE_STATE_UNSPECIFIED"===Ol?ur=500:"NO_CHANGE"===Ol?ur=304:("NO_TEMPLATE"===Ol||"EMPTY_CONFIG"===Ol)&&(Mo={}),304!==ur&&200!==ur)throw Un.create("fetch-status",{httpStatus:ur});return{status:ur,eTag:is,config:Mo}})()}}class ar{constructor(T,R){this.client=T,this.storage=R}fetch(T){var R=this;return(0,L.Z)(function*(){const B=(yield R.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return R.attemptFetch(T,B)})()}attemptFetch(T,{throttleEndTimeMillis:R,backoffCount:B}){var K=this;return(0,L.Z)(function*(){yield function Dr(x,T){return new Promise((R,B)=>{const K=Math.max(T-Date.now(),0),ce=setTimeout(R,K);x.addEventListener(()=>{clearTimeout(ce),B(Un.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(T.signal,R);try{const ce=yield K.client.fetch(T);return yield K.storage.deleteThrottleMetadata(),ce}catch(ce){if(!function rl(x){if(!(x instanceof re.ZR&&x.customData))return!1;const T=Number(x.customData.httpStatus);return 429===T||500===T||503===T||504===T}(ce))throw ce;const ve={throttleEndTimeMillis:Date.now()+(0,re.$s)(B),backoffCount:B+1};return yield K.storage.setThrottleMetadata(ve),K.attemptFetch(T,ve)}})()}}class vo{constructor(T,R,B,K,ce){this.app=T,this._client=R,this._storageCache=B,this._storage=K,this._logger=ce,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function $i(x,T){const R=x.target.error||void 0;return Un.create(T,{originalErrorMessage:R&&R?.message})}const bt="app_namespace_store";class kn{constructor(T,R,B,K=function Gi(){return new Promise((x,T)=>{try{const R=indexedDB.open("firebase_remote_config",1);R.onerror=B=>{T($i(B,"storage-open"))},R.onsuccess=B=>{x(B.target.result)},R.onupgradeneeded=B=>{0===B.oldVersion&&B.target.result.createObjectStore(bt,{keyPath:"compositeKey"})}}catch(R){T(Un.create("storage-open",{originalErrorMessage:R?.message}))}})}()){this.appId=T,this.appName=R,this.namespace=B,this.openDbPromise=K}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(T){return this.set("last_fetch_status",T)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(T){return this.set("last_successful_fetch_timestamp_millis",T)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(T){return this.set("last_successful_fetch_response",T)}getActiveConfig(){return this.get("active_config")}setActiveConfig(T){return this.set("active_config",T)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(T){return this.set("active_config_etag",T)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(T){return this.set("throttle_metadata",T)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(T){var R=this;return(0,L.Z)(function*(){const B=yield R.openDbPromise;return new Promise((K,ce)=>{const Ge=B.transaction([bt],"readonly").objectStore(bt),je=R.createCompositeKey(T);try{const Xe=Ge.get(je);Xe.onerror=wt=>{ce($i(wt,"storage-get"))},Xe.onsuccess=wt=>{const Ct=wt.target.result;K(Ct?Ct.value:void 0)}}catch(Xe){ce(Un.create("storage-get",{originalErrorMessage:Xe?.message}))}})})()}set(T,R){var B=this;return(0,L.Z)(function*(){const K=yield B.openDbPromise;return new Promise((ce,ve)=>{const je=K.transaction([bt],"readwrite").objectStore(bt),Xe=B.createCompositeKey(T);try{const wt=je.put({compositeKey:Xe,value:R});wt.onerror=Ct=>{ve($i(Ct,"storage-set"))},wt.onsuccess=()=>{ce()}}catch(wt){ve(Un.create("storage-set",{originalErrorMessage:wt?.message}))}})})()}delete(T){var R=this;return(0,L.Z)(function*(){const B=yield R.openDbPromise;return new Promise((K,ce)=>{const Ge=B.transaction([bt],"readwrite").objectStore(bt),je=R.createCompositeKey(T);try{const Xe=Ge.delete(je);Xe.onerror=wt=>{ce($i(wt,"storage-delete"))},Xe.onsuccess=()=>{K()}}catch(Xe){ce(Un.create("storage-delete",{originalErrorMessage:Xe?.message}))}})})()}createCompositeKey(T){return[this.appId,this.appName,this.namespace,T].join()}}class ca{constructor(T){this.storage=T}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var T=this;return(0,L.Z)(function*(){const R=T.storage.getLastFetchStatus(),B=T.storage.getLastSuccessfulFetchTimestampMillis(),K=T.storage.getActiveConfig(),ce=yield R;ce&&(T.lastFetchStatus=ce);const ve=yield B;ve&&(T.lastSuccessfulFetchTimestampMillis=ve);const Ge=yield K;Ge&&(T.activeConfig=Ge)})()}setLastFetchStatus(T){return this.lastFetchStatus=T,this.storage.setLastFetchStatus(T)}setLastSuccessfulFetchTimestampMillis(T){return this.lastSuccessfulFetchTimestampMillis=T,this.storage.setLastSuccessfulFetchTimestampMillis(T)}setActiveConfig(T){return this.activeConfig=T,this.storage.setActiveConfig(T)}}function Au(){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,L.Z)(function*(){if(!(0,re.hl)())return!1;try{return yield(0,re.eu)()}catch{return!1}})).apply(this,arguments)}!function Ds(){(0,se._registerComponent)(new q.wA("remote-config",function x(T,{instanceIdentifier:R}){const B=T.getProvider("app").getImmediate(),K=T.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Un.create("registration-window");if(!(0,re.hl)())throw Un.create("indexed-db-unavailable");const{projectId:ce,apiKey:ve,appId:Ge}=B.options;if(!ce)throw Un.create("registration-project-id");if(!ve)throw Un.create("registration-api-key");if(!Ge)throw Un.create("registration-app-id");const je=new kn(Ge,B.name,R=R||"firebase"),Xe=new ca(je),wt=new ye.Yd(Cu);wt.logLevel=ye.in.ERROR;const Ct=new Xt(K,se.SDK_VERSION,R,ce,ve,Ge),Pr=new ar(Ct,je),ur=new Ke(Pr,je,Xe,wt),is=new vo(B,ur,Xe,je,wt);return function sr(x){const T=(0,re.m9)(x);T._initializePromise||(T._initializePromise=T._storageCache.loadFromStorage().then(()=>{T._isInitializationComplete=!0}))}(is),is},"PUBLIC").setMultipleInstances(!0)),(0,se.registerVersion)(Cu,"0.4.4"),(0,se.registerVersion)(Cu,"0.4.4","esm2017")}();const qi="/firebase-messaging-sw.js",Wi="/firebase-cloud-messaging-push-scope",Ms="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",$t="https://fcmregistrations.googleapis.com/v1",Du="google.c.a.c_id",tc="google.c.a.c_l",Ps="google.c.a.ts";var bo=function(x){return x.PUSH_RECEIVED="push-received",x.NOTIFICATION_CLICKED="notification-clicked",x}(bo||{});function Sr(x){const T=new Uint8Array(x);return btoa(String.fromCharCode(...T)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function _r(x){const R=(x+"=".repeat((4-x.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),B=atob(R),K=new Uint8Array(B.length);for(let ce=0;ce<B.length;++ce)K[ce]=B.charCodeAt(ce);return K}const Su="fcm_token_details_db",Fr=5,tr="fcm_token_object_Store";function yr(){return yr=(0,L.Z)(function*(x){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ce=>ce.name).includes(Su))return null;let T=null;return(yield vt(Su,Fr,{upgrade:(B=(0,L.Z)(function*(K,ce,ve,Ge){var je;if(ce<2||!K.objectStoreNames.contains(tr))return;const Xe=Ge.objectStore(tr),wt=yield Xe.index("fcmSenderId").get(x);if(yield Xe.clear(),wt)if(2===ce){const Ct=wt;if(!Ct.auth||!Ct.p256dh||!Ct.endpoint)return;T={token:Ct.fcmToken,createTime:null!==(je=Ct.createTime)&&void 0!==je?je:Date.now(),subscriptionOptions:{auth:Ct.auth,p256dh:Ct.p256dh,endpoint:Ct.endpoint,swScope:Ct.swScope,vapidKey:"string"==typeof Ct.vapidKey?Ct.vapidKey:Sr(Ct.vapidKey)}}}else if(3===ce){const Ct=wt;T={token:Ct.fcmToken,createTime:Ct.createTime,subscriptionOptions:{auth:Sr(Ct.auth),p256dh:Sr(Ct.p256dh),endpoint:Ct.endpoint,swScope:Ct.swScope,vapidKey:Sr(Ct.vapidKey)}}}else if(4===ce){const Ct=wt;T={token:Ct.fcmToken,createTime:Ct.createTime,subscriptionOptions:{auth:Sr(Ct.auth),p256dh:Sr(Ct.p256dh),endpoint:Ct.endpoint,swScope:Ct.swScope,vapidKey:Sr(Ct.vapidKey)}}}}),function(ce,ve,Ge,je){return B.apply(this,arguments)})})).close(),yield Tt(Su),yield Tt("fcm_vapid_details_db"),yield Tt("undefined"),function rc(x){if(!x||!x.subscriptionOptions)return!1;const{subscriptionOptions:T}=x;return"number"==typeof x.createTime&&x.createTime>0&&"string"==typeof x.token&&x.token.length>0&&"string"==typeof T.auth&&T.auth.length>0&&"string"==typeof T.p256dh&&T.p256dh.length>0&&"string"==typeof T.endpoint&&T.endpoint.length>0&&"string"==typeof T.swScope&&T.swScope.length>0&&"string"==typeof T.vapidKey&&T.vapidKey.length>0}(T)?T:null;var B}),yr.apply(this,arguments)}const Di="firebase-messaging-database",ui=1,Os="firebase-messaging-store";let il=null;function Lp(){return il||(il=vt(Di,ui,{upgrade:(x,T)=>{0===T&&x.createObjectStore(Os)}})),il}function ol(x){return Mu.apply(this,arguments)}function Mu(){return Mu=(0,L.Z)(function*(x){const T=Ns(x),B=yield(yield Lp()).transaction(Os).objectStore(Os).get(T);if(B)return B;{const K=yield function Rs(x){return yr.apply(this,arguments)}(x.appConfig.senderId);if(K)return yield sl(x,K),K}}),Mu.apply(this,arguments)}function sl(x,T){return Vp.apply(this,arguments)}function Vp(){return(Vp=(0,L.Z)(function*(x,T){const R=Ns(x),K=(yield Lp()).transaction(Os,"readwrite");return yield K.objectStore(Os).put(T,R),yield K.done,T})).apply(this,arguments)}function gn(){return(gn=(0,L.Z)(function*(x){const T=Ns(x),B=(yield Lp()).transaction(Os,"readwrite");yield B.objectStore(Os).delete(T),yield B.done})).apply(this,arguments)}function Ns({appConfig:x}){return x.appId}const Mr=new re.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Pu(x,T){return g_.apply(this,arguments)}function g_(){return(g_=(0,L.Z)(function*(x,T){const R=yield ph(x),B=Up(T),K={method:"POST",headers:R,body:JSON.stringify(B)};let ce;try{ce=yield(yield fetch(al(x.appConfig),K)).json()}catch(ve){throw Mr.create("token-subscribe-failed",{errorInfo:ve?.toString()})}if(ce.error)throw Mr.create("token-subscribe-failed",{errorInfo:ce.error.message});if(!ce.token)throw Mr.create("token-subscribe-no-token");return ce.token})).apply(this,arguments)}function Eo(){return(Eo=(0,L.Z)(function*(x,T){const R=yield ph(x),B=Up(T.subscriptionOptions),K={method:"PATCH",headers:R,body:JSON.stringify(B)};let ce;try{ce=yield(yield fetch(`${al(x.appConfig)}/${T.token}`,K)).json()}catch(ve){throw Mr.create("token-update-failed",{errorInfo:ve?.toString()})}if(ce.error)throw Mr.create("token-update-failed",{errorInfo:ce.error.message});if(!ce.token)throw Mr.create("token-update-no-token");return ce.token})).apply(this,arguments)}function la(x,T){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,L.Z)(function*(x,T){const B={method:"DELETE",headers:yield ph(x)};try{const ce=yield(yield fetch(`${al(x.appConfig)}/${T}`,B)).json();if(ce.error)throw Mr.create("token-unsubscribe-failed",{errorInfo:ce.error.message})}catch(K){throw Mr.create("token-unsubscribe-failed",{errorInfo:K?.toString()})}})).apply(this,arguments)}function al({projectId:x}){return`${$t}/projects/${x}/registrations`}function ph(x){return cl.apply(this,arguments)}function cl(){return(cl=(0,L.Z)(function*({appConfig:x,installations:T}){const R=yield T.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":x.apiKey,"x-goog-firebase-installations-auth":`FIS ${R}`})})).apply(this,arguments)}function Up({p256dh:x,auth:T,endpoint:R,vapidKey:B}){const K={web:{endpoint:R,auth:T,p256dh:x}};return B!==Ms&&(K.web.applicationPubKey=B),K}const di=6048e5;function Io(){return Io=(0,L.Z)(function*(x){const T=yield function ll(x,T){return Jo.apply(this,arguments)}(x.swRegistration,x.vapidKey),R={vapidKey:x.vapidKey,swScope:x.swRegistration.scope,endpoint:T.endpoint,auth:Sr(T.getKey("auth")),p256dh:Sr(T.getKey("p256dh"))},B=yield ol(x.firebaseDependencies);if(B){if(function Nu(x,T){return T.vapidKey===x.vapidKey&&T.endpoint===x.endpoint&&T.auth===x.auth&&T.p256dh===x.p256dh}(B.subscriptionOptions,R))return Date.now()>=B.createTime+di?function ks(x,T){return pn.apply(this,arguments)}(x,{token:B.token,createTime:Date.now(),subscriptionOptions:R}):B.token;try{yield la(x.firebaseDependencies,B.token)}catch(K){console.warn(K)}return Ru(x.firebaseDependencies,R)}return Ru(x.firebaseDependencies,R)}),Io.apply(this,arguments)}function Fn(){return Fn=(0,L.Z)(function*(x){const T=yield ol(x.firebaseDependencies);T&&(yield la(x.firebaseDependencies,T.token),yield function mb(x){return gn.apply(this,arguments)}(x.firebaseDependencies));const R=yield x.swRegistration.pushManager.getSubscription();return!R||R.unsubscribe()}),Fn.apply(this,arguments)}function pn(){return pn=(0,L.Z)(function*(x,T){try{const R=yield function Bp(x,T){return Eo.apply(this,arguments)}(x.firebaseDependencies,T),B=Object.assign(Object.assign({},T),{token:R,createTime:Date.now()});return yield sl(x.firebaseDependencies,B),R}catch(R){throw yield function jp(x){return Fn.apply(this,arguments)}(x),R}}),pn.apply(this,arguments)}function Ru(x,T){return Ou.apply(this,arguments)}function Ou(){return(Ou=(0,L.Z)(function*(x,T){const B={token:yield Pu(x,T),createTime:Date.now(),subscriptionOptions:T};return yield sl(x,B),B.token})).apply(this,arguments)}function Jo(){return(Jo=(0,L.Z)(function*(x,T){return(yield x.pushManager.getSubscription())||x.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:_r(T)})})).apply(this,arguments)}function ku(x){const T={from:x.from,collapseKey:x.collapse_key,messageId:x.fcmMessageId};return function mh(x,T){if(!T.notification)return;x.notification={};const R=T.notification.title;R&&(x.notification.title=R);const B=T.notification.body;B&&(x.notification.body=B);const K=T.notification.image;K&&(x.notification.image=K);const ce=T.notification.icon;ce&&(x.notification.icon=ce)}(T,x),function ul(x,T){T.data&&(x.data=T.data)}(T,x),function Fu(x,T){var R,B,K,ce,ve;if(!(T.fcmOptions||null!==(R=T.notification)&&void 0!==R&&R.click_action))return;x.fcmOptions={};const Ge=null!==(K=null===(B=T.fcmOptions)||void 0===B?void 0:B.link)&&void 0!==K?K:null===(ce=T.notification)||void 0===ce?void 0:ce.click_action;Ge&&(x.fcmOptions.link=Ge);const je=null===(ve=T.fcmOptions)||void 0===ve?void 0:ve.analytics_label;je&&(x.fcmOptions.analyticsLabel=je)}(T,x),T}function ic(x,T){const R=[];for(let B=0;B<x.length;B++)R.push(x.charAt(B)),B<T.length&&R.push(T.charAt(B));return R.join("")}function es(x){return Mr.create("missing-app-config-values",{valueName:x})}ic("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ic("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Fs{constructor(T,R,B){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const K=function oc(x){if(!x||!x.options)throw es("App Configuration Object");if(!x.name)throw es("App Name");const T=["projectId","apiKey","appId","messagingSenderId"],{options:R}=x;for(const B of T)if(!R[B])throw es(B);return{appName:x.name,projectId:R.projectId,apiKey:R.apiKey,appId:R.appId,senderId:R.messagingSenderId}}(T);this.firebaseDependencies={app:T,appConfig:K,installations:R,analyticsProvider:B}}_delete(){return Promise.resolve()}}function hl(){return(hl=(0,L.Z)(function*(x){try{x.swRegistration=yield navigator.serviceWorker.register(qi,{scope:Wi}),x.swRegistration.update().catch(()=>{})}catch(T){throw Mr.create("failed-service-worker-registration",{browserErrorMessage:T?.message})}})).apply(this,arguments)}function Vu(){return(Vu=(0,L.Z)(function*(x,T){if(!T&&!x.swRegistration&&(yield function dl(x){return hl.apply(this,arguments)}(x)),T||!x.swRegistration){if(!(T instanceof ServiceWorkerRegistration))throw Mr.create("invalid-sw-registration");x.swRegistration=T}})).apply(this,arguments)}function fl(){return(fl=(0,L.Z)(function*(x,T){T?x.vapidKey=T:x.vapidKey||(x.vapidKey=Ms)})).apply(this,arguments)}function sc(){return sc=(0,L.Z)(function*(x,T){if(!navigator)throw Mr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Mr.create("permission-blocked");return yield function Hp(x,T){return fl.apply(this,arguments)}(x,T?.vapidKey),yield function gh(x,T){return Vu.apply(this,arguments)}(x,T?.serviceWorkerRegistration),function Zi(x){return Io.apply(this,arguments)}(x)}),sc.apply(this,arguments)}function pl(){return(pl=(0,L.Z)(function*(x,T,R){const B=function yh(x){switch(x){case bo.NOTIFICATION_CLICKED:return"notification_open";case bo.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(T);(yield x.firebaseDependencies.analyticsProvider.get()).logEvent(B,{message_id:R[Du],message_name:R[tc],message_time:R[Ps],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function wo(){return wo=(0,L.Z)(function*(x,T){const R=T.data;if(!R.isFirebaseMessaging)return;x.onMessageHandler&&R.messageType===bo.PUSH_RECEIVED&&("function"==typeof x.onMessageHandler?x.onMessageHandler(ku(R)):x.onMessageHandler.next(ku(R)));const B=R.data;(function Lu(x){return"object"==typeof x&&!!x&&Du in x})(B)&&"1"===B["google.c.a.e"]&&(yield function _h(x,T,R){return pl.apply(this,arguments)}(x,R.messageType,B))}),wo.apply(this,arguments)}const Bu="@firebase/messaging",xo=x=>{const T=new Fs(x.getProvider("app").getImmediate(),x.getProvider("installations-internal").getImmediate(),x.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",R=>function $p(x,T){return wo.apply(this,arguments)}(T,R)),T},Ls=x=>{const T=x.getProvider("messaging").getImmediate();return{getToken:B=>function zp(x,T){return sc.apply(this,arguments)}(T,B)}};function cc(){return lc.apply(this,arguments)}function lc(){return(lc=(0,L.Z)(function*(){try{yield(0,re.eu)()}catch{return!1}return typeof window<"u"&&(0,re.hl)()&&(0,re.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Uu(){(0,se._registerComponent)(new q.wA("messaging",xo,"PUBLIC")),(0,se._registerComponent)(new q.wA("messaging-internal",Ls,"PRIVATE")),(0,se.registerVersion)(Bu,"0.12.4"),(0,se.registerVersion)(Bu,"0.12.4","esm2017")}();const da="analytics",uc="firebase_id",Ih="origin",qp=6e4,dc="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Hu="https://www.googletagmanager.com/gtag/js",dn=new ye.Yd("@firebase/analytics"),cr=new re.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function sn(x){if(!x.startsWith(Hu)){const T=cr.create("invalid-gtag-resource",{gtagURL:x});return dn.warn(T.message),""}return x}function ha(x){return Promise.all(x.map(T=>T.catch(R=>R)))}function hi(){return(hi=(0,L.Z)(function*(x,T,R,B,K,ce){const ve=B[K];try{if(ve)yield T[ve];else{const je=(yield ha(R)).find(Xe=>Xe.measurementId===K);je&&(yield T[je.appId])}}catch(Ge){dn.error(Ge)}x("config",K,ce)})).apply(this,arguments)}function hc(){return(hc=(0,L.Z)(function*(x,T,R,B,K){try{let ce=[];if(K&&K.send_to){let ve=K.send_to;Array.isArray(ve)||(ve=[ve]);const Ge=yield ha(R);for(const je of ve){const Xe=Ge.find(Ct=>Ct.measurementId===je),wt=Xe&&T[Xe.appId];if(!wt){ce=[];break}ce.push(wt)}}0===ce.length&&(ce=Object.values(T)),yield Promise.all(ce),x("event",B,K||{})}catch(ce){dn.error(ce)}})).apply(this,arguments)}const Ch=30,yl=new class $u{constructor(T={},R=1e3){this.throttleMetadata=T,this.intervalMillis=R}getThrottleMetadata(T){return this.throttleMetadata[T]}setThrottleMetadata(T,R){this.throttleMetadata[T]=R}deleteThrottleMetadata(T){delete this.throttleMetadata[T]}};function pa(x){return new Headers({Accept:"application/json","x-goog-api-key":x})}function Et(){return(Et=(0,L.Z)(function*(x){var T;const{appId:R,apiKey:B}=x,K={method:"GET",headers:pa(B)},ce=dc.replace("{app-id}",R),ve=yield fetch(ce,K);if(200!==ve.status&&304!==ve.status){let Ge="";try{const je=yield ve.json();null!==(T=je.error)&&void 0!==T&&T.message&&(Ge=je.error.message)}catch{}throw cr.create("config-fetch-failed",{httpStatus:ve.status,responseMessage:Ge})}return ve.json()})).apply(this,arguments)}function Gu(){return(Gu=(0,L.Z)(function*(x,T=yl,R){const{appId:B,apiKey:K,measurementId:ce}=x.options;if(!B)throw cr.create("no-app-id");if(!K){if(ce)return{measurementId:ce,appId:B};throw cr.create("no-api-key")}const ve=T.getThrottleMetadata(B)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ge=new ma;return setTimeout((0,L.Z)(function*(){Ge.abort()}),void 0!==R?R:qp),Dh({appId:B,apiKey:K,measurementId:ce},ve,Ge,T)})).apply(this,arguments)}function Dh(x,T,R){return qu.apply(this,arguments)}function qu(){return qu=(0,L.Z)(function*(x,{throttleEndTimeMillis:T,backoffCount:R},B,K=yl){var ce;const{appId:ve,measurementId:Ge}=x;try{yield function Zp(x,T){return new Promise((R,B)=>{const K=Math.max(T-Date.now(),0),ce=setTimeout(R,K);x.addEventListener(()=>{clearTimeout(ce),B(cr.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(B,T)}catch(je){if(Ge)return dn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ge} provided in the "measurementId" field in the local Firebase config. [${je?.message}]`),{appId:ve,measurementId:Ge};throw je}try{const je=yield function Th(x){return Et.apply(this,arguments)}(x);return K.deleteThrottleMetadata(ve),je}catch(je){const Xe=je;if(!function Sh(x){if(!(x instanceof re.ZR&&x.customData))return!1;const T=Number(x.customData.httpStatus);return 429===T||500===T||503===T||504===T}(Xe)){if(K.deleteThrottleMetadata(ve),Ge)return dn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ge} provided in the "measurementId" field in the local Firebase config. [${Xe?.message}]`),{appId:ve,measurementId:Ge};throw je}const wt=503===Number(null===(ce=Xe?.customData)||void 0===ce?void 0:ce.httpStatus)?(0,re.$s)(R,K.intervalMillis,Ch):(0,re.$s)(R,K.intervalMillis),Ct={throttleEndTimeMillis:Date.now()+wt,backoffCount:R+1};return K.setThrottleMetadata(ve,Ct),dn.debug(`Calling attemptFetch again in ${wt} millis`),Dh(x,Ct,B,K)}}),qu.apply(this,arguments)}class ma{constructor(){this.listeners=[]}addEventListener(T){this.listeners.push(T)}abort(){this.listeners.forEach(T=>T())}}let vl,El;function Mh(){return(Mh=(0,L.Z)(function*(x,T,R,B,K){if(K&&K.global)x("event",R,B);else{const ce=yield T;x("event",R,Object.assign(Object.assign({},B),{send_to:ce}))}})).apply(this,arguments)}function fc(){return(fc=(0,L.Z)(function*(){if(!(0,re.hl)())return dn.warn(cr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,re.eu)()}catch(x){return dn.warn(cr.create("indexeddb-unavailable",{errorInfo:x?.toString()}).message),!1}return!0})).apply(this,arguments)}function Ki(){return Ki=(0,L.Z)(function*(x,T,R,B,K,ce,ve){var Ge;const je=function Ah(x){return Gu.apply(this,arguments)}(x);je.then(ur=>{R[ur.measurementId]=ur.appId,x.options.measurementId&&ur.measurementId!==x.options.measurementId&&dn.warn(`The measurement ID in the local Firebase config (${x.options.measurementId}) does not match the measurement ID fetched from the server (${ur.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(ur=>dn.error(ur)),T.push(je);const Xe=function _b(){return fc.apply(this,arguments)}().then(ur=>{if(ur)return B.getId()}),[wt,Ct]=yield Promise.all([je,Xe]);(function ts(x){const T=window.document.getElementsByTagName("script");for(const R of Object.values(T))if(R.src&&R.src.includes(Hu)&&R.src.includes(x))return R;return null})(ce)||function ei(x,T){const R=function fa(x,T){let R;return window.trustedTypes&&(R=window.trustedTypes.createPolicy(x,T)),R}("firebase-js-sdk-policy",{createScriptURL:sn}),B=document.createElement("script"),K=`${Hu}?l=${x}&id=${T}`;B.src=R?R?.createScriptURL(K):K,B.async=!0,document.head.appendChild(B)}(ce,wt.measurementId),El&&(K("consent","default",El),function Zu(x){El=x}(void 0)),K("js",new Date);const Pr=null!==(Ge=ve?.config)&&void 0!==Ge?Ge:{};return Pr[Ih]="firebase",Pr.update=!0,null!=Ct&&(Pr[uc]=Ct),K("config",wt.measurementId,Pr),vl&&(K("set",vl),function Qp(x){vl=x}(void 0)),wt.measurementId}),Ki.apply(this,arguments)}class Il{constructor(T){this.app=T}_delete(){return delete nr[this.app.options.appId],Promise.resolve()}}let nr={},Yi=[];const Ku={};let wl,Qi,_a="dataLayer",Mi=!1;function xl(x,T,R){!function Ph(){const x=[];if((0,re.ru)()&&x.push("This is a browser extension environment."),(0,re.zI)()||x.push("Cookies are not available."),x.length>0){const T=x.map((B,K)=>`(${K+1}) ${B}`).join(" "),R=cr.create("invalid-analytics-context",{errorInfo:T});dn.warn(R.message)}}();const B=x.options.appId;if(!B)throw cr.create("no-app-id");if(!x.options.apiKey){if(!x.options.measurementId)throw cr.create("no-api-key");dn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${x.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=nr[B])throw cr.create("already-exists",{id:B});if(!Mi){!function _l(x){let T=[];Array.isArray(window[x])?T=window[x]:window[x]=T}(_a);const{wrappedGtag:ce,gtagCore:ve}=function zu(x,T,R,B,K){let ce=function(...ve){window[B].push(arguments)};return window[K]&&"function"==typeof window[K]&&(ce=window[K]),window[K]=function xh(x,T,R,B){function ce(){return ce=(0,L.Z)(function*(ve,...Ge){try{if("event"===ve){const[je,Xe]=Ge;yield function Lr(x,T,R,B,K){return hc.apply(this,arguments)}(x,T,R,je,Xe)}else if("config"===ve){const[je,Xe]=Ge;yield function wh(x,T,R,B,K,ce){return hi.apply(this,arguments)}(x,T,R,B,je,Xe)}else if("consent"===ve){const[je]=Ge;x("consent","update",je)}else if("get"===ve){const[je,Xe,wt]=Ge;x("get",je,Xe,wt)}else if("set"===ve){const[je]=Ge;x("set",je)}else x(ve,...Ge)}catch(je){dn.error(je)}}),ce.apply(this,arguments)}return function K(ve){return ce.apply(this,arguments)}}(ce,x,T,R),{gtagCore:ce,wrappedGtag:window[K]}}(nr,Yi,Ku,_a,"gtag");Qi=ce,wl=ve,Mi=!0}return nr[B]=function vr(x,T,R,B,K,ce,ve){return Ki.apply(this,arguments)}(x,Yi,Ku,T,wl,_a,R),new Il(x)}function Cl(){return mt.apply(this,arguments)}function mt(){return(mt=(0,L.Z)(function*(){if((0,re.ru)()||!(0,re.zI)()||!(0,re.hl)())return!1;try{return yield(0,re.eu)()}catch{return!1}})).apply(this,arguments)}const pc="@firebase/analytics";!function rs(){(0,se._registerComponent)(new q.wA(da,(T,{options:R})=>xl(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),R),"PUBLIC")),(0,se._registerComponent)(new q.wA("analytics-internal",function x(T){try{const R=T.getProvider(da).getImmediate();return{logEvent:(B,K,ce)=>function yn(x,T,R,B){x=(0,re.m9)(x),function Kp(x,T,R,B,K){return Mh.apply(this,arguments)}(Qi,nr[x.app.options.appId],T,R,B).catch(K=>dn.error(K))}(R,B,K,ce)}}catch(R){throw cr.create("interop-component-reg-failed",{reason:R})}},"PRIVATE")),(0,se.registerVersion)(pc,"0.10.0"),(0,se.registerVersion)(pc,"0.10.0","esm2017")}();var Xi=F(6680),mc=F(435),Gn=F(2420),lr=F(2671),Oh=F(427);const Ao=new f.GfV("7.2.0"),va="__angularfire_symbol__analyticsIsSupported",gc="__angularfire_symbol__remoteConfigIsSupported",Sl="__angularfire_symbol__messagingIsSupported";function Ml(x,T,R){if(T){if(1===T.length)return T[0];const ce=T.filter(ve=>ve.app===R);if(1===ce.length)return ce[0]}return R.container.getProvider(x).getImmediate({optional:!0})}globalThis[va]||(globalThis[va]=Cl().then(x=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=x)),globalThis[Sl]||(globalThis[Sl]=cc().then(x=>globalThis.__angularfire_symbol__messagingIsSupportedValue=x)),globalThis[gc]||(globalThis[gc]=Au().then(x=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=x));const em=(x,T)=>{const R=T?[T]:(0,ne.C6)(),B=[];return R.forEach(K=>{K.container.getProvider(x).instances.forEach(ve=>{B.includes(ve)||B.push(ve)})}),B};function So(){}class Nh{constructor(T,R=Xi.N){this.zone=T,this.delegate=R}now(){return this.delegate.now()}schedule(T,R,B){const K=this.zone;return this.delegate.schedule(function(ve){K.runGuarded(()=>{T.apply(this,[ve])})},R,B)}}class tm{constructor(T){this.zone=T,this.task=null}call(T,R){const B=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",So,{},So,So)),R.pipe((0,Gn.b)({next:B,complete:B,error:B})).subscribe(T).add(B)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let nm=(()=>{class x{constructor(R){this.ngZone=R,this.outsideAngular=R.runOutsideAngular(()=>new Nh(Zone.current)),this.insideAngular=R.run(()=>new Nh(Zone.current,mc.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return x.\u0275fac=function(R){return new(R||x)(f.LFG(f.R0b))},x.\u0275prov=f.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})();function Pi(){const x=globalThis.\u0275AngularFireScheduler;if(!x)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return x}function Ia(x){return Pi(),function Pl(x){return function(R){return(R=R.lift(new tm(x.ngZone))).pipe((0,lr.R)(x.outsideAngular),(0,Oh.QV)(x.insideAngular))}}(Pi())(x)}},9058:(st,xe,F)=>{F.d(xe,{$s:()=>zi,BH:()=>$e,G6:()=>Jc,L:()=>X,LL:()=>fo,Pz:()=>yt,Sg:()=>nt,UG:()=>Tt,US:()=>q,ZB:()=>H,ZR:()=>Xn,aH:()=>ge,b$:()=>xi,eu:()=>bs,hl:()=>el,jU:()=>Bt,m9:()=>Jn,ne:()=>Jt,pd:()=>_t,r3:()=>zn,ru:()=>mn,tV:()=>k,uI:()=>vt,vZ:()=>Hi,w1:()=>ra,xO:()=>Zo,xb:()=>Za,z$:()=>it,zI:()=>Go,zd:()=>Ye});const se=function(G){const $=[];let Q=0;for(let Ie=0;Ie<G.length;Ie++){let le=G.charCodeAt(Ie);le<128?$[Q++]=le:le<2048?($[Q++]=le>>6|192,$[Q++]=63&le|128):55296==(64512&le)&&Ie+1<G.length&&56320==(64512&G.charCodeAt(Ie+1))?(le=65536+((1023&le)<<10)+(1023&G.charCodeAt(++Ie)),$[Q++]=le>>18|240,$[Q++]=le>>12&63|128,$[Q++]=le>>6&63|128,$[Q++]=63&le|128):($[Q++]=le>>12|224,$[Q++]=le>>6&63|128,$[Q++]=63&le|128)}return $},q={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(G,$){if(!Array.isArray(G))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Q=$?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ie=[];for(let le=0;le<G.length;le+=3){const Qe=G[le],ft=le+1<G.length,Yt=ft?G[le+1]:0,tn=le+2<G.length,On=tn?G[le+2]:0;let or=(15&Yt)<<2|On>>6,gr=63&On;tn||(gr=64,ft||(or=64)),Ie.push(Q[Qe>>2],Q[(3&Qe)<<4|Yt>>4],Q[or],Q[gr])}return Ie.join("")},encodeString(G,$){return this.HAS_NATIVE_SUPPORT&&!$?btoa(G):this.encodeByteArray(se(G),$)},decodeString(G,$){return this.HAS_NATIVE_SUPPORT&&!$?atob(G):function(G){const $=[];let Q=0,Ie=0;for(;Q<G.length;){const le=G[Q++];if(le<128)$[Ie++]=String.fromCharCode(le);else if(le>191&&le<224){const Qe=G[Q++];$[Ie++]=String.fromCharCode((31&le)<<6|63&Qe)}else if(le>239&&le<365){const tn=((7&le)<<18|(63&G[Q++])<<12|(63&G[Q++])<<6|63&G[Q++])-65536;$[Ie++]=String.fromCharCode(55296+(tn>>10)),$[Ie++]=String.fromCharCode(56320+(1023&tn))}else{const Qe=G[Q++],ft=G[Q++];$[Ie++]=String.fromCharCode((15&le)<<12|(63&Qe)<<6|63&ft)}}return $.join("")}(this.decodeStringToByteArray(G,$))},decodeStringToByteArray(G,$){this.init_();const Q=$?this.charToByteMapWebSafe_:this.charToByteMap_,Ie=[];for(let le=0;le<G.length;){const Qe=Q[G.charAt(le++)],Yt=le<G.length?Q[G.charAt(le)]:0;++le;const On=le<G.length?Q[G.charAt(le)]:64;++le;const jt=le<G.length?Q[G.charAt(le)]:64;if(++le,null==Qe||null==Yt||null==On||null==jt)throw new ye;Ie.push(Qe<<2|Yt>>4),64!==On&&(Ie.push(Yt<<4&240|On>>2),64!==jt&&Ie.push(On<<6&192|jt))}return Ie},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let G=0;G<this.ENCODED_VALS.length;G++)this.byteToCharMap_[G]=this.ENCODED_VALS.charAt(G),this.charToByteMap_[this.byteToCharMap_[G]]=G,this.byteToCharMapWebSafe_[G]=this.ENCODED_VALS_WEBSAFE.charAt(G),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[G]]=G,G>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(G)]=G,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(G)]=G)}}};class ye extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const X=function(G){return function(G){const $=se(G);return q.encodeByteArray($,!0)}(G).replace(/\./g,"")},k=function(G){try{return q.decodeString(G,!0)}catch($){console.error("base64Decode failed: ",$)}return null};function H(G,$){if(!($ instanceof Object))return $;switch($.constructor){case Date:return new Date($.getTime());case Object:void 0===G&&(G={});break;case Array:G=[];break;default:return $}for(const Q in $)!$.hasOwnProperty(Q)||!oe(Q)||(G[Q]=H(G[Q],$[Q]));return G}function oe(G){return"__proto__"!==G}const Ve=()=>{try{return function we(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const G=process.env.__FIREBASE_DEFAULTS__;return G?JSON.parse(G):void 0})()||(()=>{if(typeof document>"u")return;let G;try{G=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const $=G&&k(G[1]);return $&&JSON.parse($)})()}catch(G){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${G}`)}},ge=()=>{var G;return null===(G=Ve())||void 0===G?void 0:G.config},yt=G=>{var $;return null===($=Ve())||void 0===$?void 0:$[`_${G}`]};class $e{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(($,Q)=>{this.resolve=$,this.reject=Q})}wrapCallback($){return(Q,Ie)=>{Q?this.reject(Q):this.resolve(Ie),"function"==typeof $&&(this.promise.catch(()=>{}),1===$.length?$(Q):$(Q,Ie))}}}function nt(G,$){if(G.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ie=$||"demo-project",le=G.iat||0,Qe=G.sub||G.user_id;if(!Qe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ft=Object.assign({iss:`https://securetoken.google.com/${Ie}`,aud:Ie,iat:le,exp:le+3600,auth_time:le,sub:Qe,user_id:Qe,firebase:{sign_in_provider:"custom",identities:{}}},G);return[X(JSON.stringify({alg:"none",type:"JWT"})),X(JSON.stringify(ft)),""].join(".")}function it(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function vt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(it())}function Tt(){var G;const $=null===(G=Ve())||void 0===G?void 0:G.forceEnvironment;if("node"===$)return!0;if("browser"===$)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Bt(){return"object"==typeof self&&self.self===self}function mn(){const G="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof G&&void 0!==G.id}function xi(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ra(){const G=it();return G.indexOf("MSIE ")>=0||G.indexOf("Trident/")>=0}function Jc(){return!Tt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function el(){try{return"object"==typeof indexedDB}catch{return!1}}function bs(){return new Promise((G,$)=>{try{let Q=!0;const Ie="validate-browser-context-for-indexeddb-analytics-module",le=self.indexedDB.open(Ie);le.onsuccess=()=>{le.result.close(),Q||self.indexedDB.deleteDatabase(Ie),G(!0)},le.onupgradeneeded=()=>{Q=!1},le.onerror=()=>{var Qe;$((null===(Qe=le.error)||void 0===Qe?void 0:Qe.message)||"")}}catch(Q){$(Q)}})}function Go(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Xn extends Error{constructor($,Q,Ie){super(Q),this.code=$,this.customData=Ie,this.name="FirebaseError",Object.setPrototypeOf(this,Xn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fo.prototype.create)}}class fo{constructor($,Q,Ie){this.service=$,this.serviceName=Q,this.errors=Ie}create($,...Q){const Ie=Q[0]||{},le=`${this.service}/${$}`,Qe=this.errors[$],ft=Qe?function Tn(G,$){return G.replace(ut,(Q,Ie)=>{const le=$[Ie];return null!=le?String(le):`<${Ie}?>`})}(Qe,Ie):"Error";return new Xn(le,`${this.serviceName}: ${ft} (${le}).`,Ie)}}const ut=/\{\$([^}]+)}/g;function zn(G,$){return Object.prototype.hasOwnProperty.call(G,$)}function Za(G){for(const $ in G)if(Object.prototype.hasOwnProperty.call(G,$))return!1;return!0}function Hi(G,$){if(G===$)return!0;const Q=Object.keys(G),Ie=Object.keys($);for(const le of Q){if(!Ie.includes(le))return!1;const Qe=G[le],ft=$[le];if(si(Qe)&&si(ft)){if(!Hi(Qe,ft))return!1}else if(Qe!==ft)return!1}for(const le of Ie)if(!Q.includes(le))return!1;return!0}function si(G){return null!==G&&"object"==typeof G}function Zo(G){const $=[];for(const[Q,Ie]of Object.entries(G))Array.isArray(Ie)?Ie.forEach(le=>{$.push(encodeURIComponent(Q)+"="+encodeURIComponent(le))}):$.push(encodeURIComponent(Q)+"="+encodeURIComponent(Ie));return $.length?"&"+$.join("&"):""}function Ye(G){const $={};return G.replace(/^\?/,"").split("&").forEach(Ie=>{if(Ie){const[le,Qe]=Ie.split("=");$[decodeURIComponent(le)]=decodeURIComponent(Qe)}}),$}function _t(G){const $=G.indexOf("?");if(!$)return"";const Q=G.indexOf("#",$);return G.substring($,Q>0?Q:void 0)}function Jt(G,$){const Q=new ir(G,$);return Q.subscribe.bind(Q)}class ir{constructor($,Q){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Q,this.task.then(()=>{$(this)}).catch(Ie=>{this.error(Ie)})}next($){this.forEachObserver(Q=>{Q.next($)})}error($){this.forEachObserver(Q=>{Q.error($)}),this.close($)}complete(){this.forEachObserver($=>{$.complete()}),this.close()}subscribe($,Q,Ie){let le;if(void 0===$&&void 0===Q&&void 0===Ie)throw new Error("Missing Observer.");le=function Ut(G,$){if("object"!=typeof G||null===G)return!1;for(const Q of $)if(Q in G&&"function"==typeof G[Q])return!0;return!1}($,["next","error","complete"])?$:{next:$,error:Q,complete:Ie},void 0===le.next&&(le.next=un),void 0===le.error&&(le.error=un),void 0===le.complete&&(le.complete=un);const Qe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?le.error(this.finalError):le.complete()}catch{}}),this.observers.push(le),Qe}unsubscribeOne($){void 0===this.observers||void 0===this.observers[$]||(delete this.observers[$],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver($){if(!this.finalized)for(let Q=0;Q<this.observers.length;Q++)this.sendOne(Q,$)}sendOne($,Q){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[$])try{Q(this.observers[$])}catch(Ie){typeof console<"u"&&console.error&&console.error(Ie)}})}close($){this.finalized||(this.finalized=!0,void 0!==$&&(this.finalError=$),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function un(){}const oa=1e3,xs=2,Zt=144e5,Kt=.5;function zi(G,$=oa,Q=xs){const Ie=$*Math.pow(Q,G),le=Math.round(Kt*Ie*(Math.random()-.5)*2);return Math.min(Zt,Ie+le)}function Jn(G){return G&&G._delegate?G._delegate:G}},1783:(st,xe,F)=>{var f=F(5879);let ne=null;function L(){return ne}class re{}const q=new f.OlP("DocumentToken");let ye=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=f.Yz7({token:n,factory:function(){return(0,f.f3M)(X)},providedIn:"platform"})}return n})();const de=new f.OlP("Location Initialized");let X=(()=>{class n extends ye{constructor(){super(),this._doc=(0,f.f3M)(q),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return L().getBaseHref(this._doc)}onPopState(t){const r=L().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=L().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=f.Yz7({token:n,factory:function(){return new n},providedIn:"platform"})}return n})();function k(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function j(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function H(n){return n&&"?"!==n[0]?"?"+n:n}let oe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=f.Yz7({token:n,factory:function(){return(0,f.f3M)(at)},providedIn:"root"})}return n})();const we=new f.OlP("appBaseHref");let at=(()=>{class n extends oe{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,f.f3M)(q).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return k(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+H(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,c){const l=this.prepareExternalUrl(i+H(c));this._platformLocation.pushState(t,r,l)}replaceState(t,r,i,c){const l=this.prepareExternalUrl(i+H(c));this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(r){return new(r||n)(f.LFG(ye),f.LFG(we,8))};static#t=this.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),pe=(()=>{class n extends oe{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=k(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,c){let l=this.prepareExternalUrl(i+H(c));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(t,r,l)}replaceState(t,r,i,c){let l=this.prepareExternalUrl(i+H(c));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(r){return new(r||n)(f.LFG(ye),f.LFG(we,8))};static#t=this.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac})}return n})(),Fe=(()=>{class n{constructor(t){this._subject=new f.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function ge(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(j(Ne(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+H(r))}normalize(t){return n.stripTrailingSlash(function Je(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,Ne(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+H(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+H(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static#e=this.normalizeQueryParams=H;static#t=this.joinWithSlash=k;static#n=this.stripTrailingSlash=j;static#r=this.\u0275fac=function(r){return new(r||n)(f.LFG(oe))};static#i=this.\u0275prov=f.Yz7({token:n,factory:function(){return function Ve(){return new Fe((0,f.LFG)(oe))}()},providedIn:"root"})}return n})();function Ne(n){return n.replace(/\/index.html$/,"")}function er(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,c]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(c)}return null}let ci=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new ch,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Qr("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Qr("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static#e=this.\u0275fac=function(r){return new(r||n)(f.Y36(f.s_b),f.Y36(f.Rgc))};static#t=this.\u0275dir=f.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return n})();class ch{constructor(){this.$implicit=null,this.ngIf=null}}function Qr(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,f.AaK)(e)}'.`)}let yo=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=f.oAB({type:n});static#n=this.\u0275inj=f.cJS({})}return n})();const Dn="browser";function ec(n){return"server"===n}let Ds=(()=>{class n{static#e=this.\u0275prov=(0,f.Yz7)({token:n,providedIn:"root",factory:()=>new Ai((0,f.LFG)(q),window)})}return n})();class Ai{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Ss(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const c=i.shadowRoot;if(c){const l=c.getElementById(e)||c.querySelector(`[name="${e}"]`);if(l)return l}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,c=this.offset();this.window.scrollTo(r-c[0],i-c[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Jr{}class ac extends re{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class xo extends ac{static makeCurrent(){!function se(n){ne||(ne=n)}(new xo)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Uu(){return Ls=Ls||document.querySelector("base"),Ls?Ls.getAttribute("href"):null}();return null==t?null:function lc(n){cc=cc||document.createElement("a"),cc.setAttribute("href",n);const e=cc.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Ls=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return er(document.cookie,e)}}let cc,Ls=null,ua=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac})}return n})();const ju=new f.OlP("EventManagerPlugins");let vh=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(c=>c.supports(t)),!r)throw new f.vHH(5101,!1);return this._eventNameToPlugin.set(t,r),r}static#e=this.\u0275fac=function(r){return new(r||n)(f.LFG(ju),f.LFG(f.R0b))};static#t=this.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac})}return n})();class bh{constructor(e){this._doc=e}}const Co="ng-app-id";let Eh=(()=>{class n{constructor(t,r,i,c={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=c,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=ec(c),this.resetHostNodes()}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${Co}="${this.appId}"]`);if(t?.length){const r=new Map;return t.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){const i=this.styleRef;if(i.has(t)){const c=i.get(t);return c.usage+=r,c.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){const i=this.styleNodesInDOM,c=i?.get(r);if(c?.parentNode===t)return i.delete(r),c.removeAttribute(Co),c;{const l=this.doc.createElement("style");return this.nonce&&l.setAttribute("nonce",this.nonce),l.textContent=r,this.platformIsServer&&l.setAttribute(Co,this.appId),l}}addStyleToHost(t,r){const i=this.getStyleElement(t,r);t.appendChild(i);const c=this.styleRef,l=c.get(r)?.elements;l?l.push(i):c.set(r,{elements:[i],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||n)(f.LFG(q),f.LFG(f.AFp),f.LFG(f.Ojb,8),f.LFG(f.Lbi))};static#t=this.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac})}return n})();const ml={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},da=/%COMP%/g,Hu=new f.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function cr(n,e){return e.map(t=>t.replace(da,n))}let sn=(()=>{class n{constructor(t,r,i,c,l,g,y,I=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=c,this.doc=l,this.platformId=g,this.ngZone=y,this.nonce=I,this.rendererByCompId=new Map,this.platformIsServer=ec(g),this.defaultRenderer=new ha(t,l,y,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===f.ifc.ShadowDom&&(r={...r,encapsulation:f.ifc.Emulated});const i=this.getOrCreateRenderer(t,r);return i instanceof Lr?i.applyToHost(t):i instanceof hi&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let c=i.get(r.id);if(!c){const l=this.doc,g=this.ngZone,y=this.eventManager,I=this.sharedStylesHost,D=this.removeStylesOnCompDestroy,P=this.platformIsServer;switch(r.encapsulation){case f.ifc.Emulated:c=new Lr(y,I,r,this.appId,D,l,g,P);break;case f.ifc.ShadowDom:return new wh(y,I,t,r,l,g,this.nonce,P);default:c=new hi(y,I,r,D,l,g,P)}i.set(r.id,c)}return c}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||n)(f.LFG(vh),f.LFG(Eh),f.LFG(f.AFp),f.LFG(Hu),f.LFG(q),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(f.Ojb))};static#t=this.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac})}return n})();class ha{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(ml[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(_l(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(_l(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new f.vHH(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const c=ml[i];c?e.setAttributeNS(c,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=ml[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(f.JOm.DashCase|f.JOm.Important)?e.style.setProperty(t,r,i&f.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&f.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){if("string"==typeof e&&!(e=L().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function _l(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class wh extends ha{constructor(e,t,r,i,c,l,g,y){super(e,c,l,y),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const I=cr(i.id,i.styles);for(const D of I){const P=document.createElement("style");g&&P.setAttribute("nonce",g),P.textContent=D,this.shadowRoot.appendChild(P)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class hi extends ha{constructor(e,t,r,i,c,l,g,y){super(e,c,l,g),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=y?cr(y,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Lr extends hi{constructor(e,t,r,i,c,l,g,y){const I=i+"-"+r.id;super(e,t,r,c,l,g,y,I),this.contentAttr=function dn(n){return"_ngcontent-%COMP%".replace(da,n)}(I),this.hostAttr=function gl(n){return"_nghost-%COMP%".replace(da,n)}(I)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let hc=(()=>{class n extends bh{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||n)(f.LFG(q))};static#t=this.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac})}return n})();const xh=["alt","control","meta","shift"],zu={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ts={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Ch=(()=>{class n extends bh{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const c=n.parseEventName(r),l=n.eventCallback(c.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>L().onAndCancel(t,c.domEventName,l))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const c=n._normalizeKey(r.pop());let l="",g=r.indexOf("code");if(g>-1&&(r.splice(g,1),l="code."),xh.forEach(I=>{const D=r.indexOf(I);D>-1&&(r.splice(D,1),l+=I+".")}),l+=c,0!=r.length||0===c.length)return null;const y={};return y.domEventName=i,y.fullKey=l,y}static matchEventFullKeyCode(t,r){let i=zu[t.key]||t.key,c="";return r.indexOf("code.")>-1&&(i=t.code,c="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),xh.forEach(l=>{l!==i&&(0,ts[l])(t)&&(c+=l+".")}),c+=i,c===r)}static eventCallback(t,r,i){return c=>{n.matchEventFullKeyCode(c,t)&&i.runGuarded(()=>r(c))}}static _normalizeKey(t){return"esc"===t?"escape":t}static#e=this.\u0275fac=function(r){return new(r||n)(f.LFG(q))};static#t=this.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac})}return n})();const Dh=(0,f.eFA)(f._c5,"browser",[{provide:f.Lbi,useValue:Dn},{provide:f.g9A,useValue:function Th(){xo.makeCurrent()},multi:!0},{provide:q,useFactory:function Ah(){return(0,f.RDi)(document),document},deps:[]}]),qu=new f.OlP(""),Zp=[{provide:f.rWj,useClass:class Gp{addToWindow(e){f.dqk.getAngularTestability=(r,i=!0)=>{const c=e.findTestabilityInTree(r,i);if(null==c)throw new f.vHH(5103,!1);return c},f.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),f.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),f.dqk.frameworkStabilizers||(f.dqk.frameworkStabilizers=[]),f.dqk.frameworkStabilizers.push(r=>{const i=f.dqk.getAllAngularTestabilities();let c=i.length,l=!1;const g=function(y){l=l||y,c--,0==c&&r(l)};i.forEach(y=>{y.whenStable(g)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?L().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:f.lri,useClass:f.dDg,deps:[f.R0b,f.eoX,f.rWj]},{provide:f.dDg,useClass:f.dDg,deps:[f.R0b,f.eoX,f.rWj]}],Sh=[{provide:f.zSh,useValue:"root"},{provide:f.qLn,useFactory:function Et(){return new f.qLn},deps:[]},{provide:ju,useClass:hc,multi:!0,deps:[q,f.R0b,f.Lbi]},{provide:ju,useClass:Ch,multi:!0,deps:[q]},sn,Eh,vh,{provide:f.FYo,useExisting:sn},{provide:Jr,useClass:ua,deps:[]},[]];let ma=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:f.AFp,useValue:t.appId}]}}static#e=this.\u0275fac=function(r){return new(r||n)(f.LFG(qu,12))};static#t=this.\u0275mod=f.oAB({type:n});static#n=this.\u0275inj=f.cJS({providers:[...Sh,...Zp],imports:[yo,f.hGG]})}return n})(),Wu=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static#e=this.\u0275fac=function(r){return new(r||n)(f.LFG(q))};static#t=this.\u0275prov=f.Yz7({token:n,factory:function(r){let i=null;return i=r?new r:function __(){return new Wu((0,f.LFG)(q))}(),i},providedIn:"root"})}return n})();typeof window<"u"&&window;var Sn=F(5253),an=F(4699),Cl=F(1280),mt=F(6124),Xp=F(7755);function ns(n,e){return new an.y(t=>{const r=n.length;if(0===r)return void t.complete();const i=new Array(r);let c=0,l=0;for(let g=0;g<r;g++){const y=(0,Sn.D)(n[g]);let I=!1;t.add(y.subscribe({next:D=>{I||(I=!0,l++),i[g]=D},error:D=>t.error(D),complete:()=>{c++,(c===r||!I)&&(l===r&&t.next(e?e.reduce((D,P,N)=>(D[P]=i[N],D),{}):i),t.complete())}}))}})}let Jp=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static#e=this.\u0275fac=function(r){return new(r||n)(f.Y36(f.Qsj),f.Y36(f.SBq))};static#t=this.\u0275dir=f.lG2({type:n})}return n})(),Bs=(()=>{class n extends Jp{static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=f.n5z(n)))(i||n)}}();static#t=this.\u0275dir=f.lG2({type:n,features:[f.qOj]})}return n})();const In=new f.OlP("NgValueAccessor"),Al={provide:In,useExisting:(0,f.Gpc)(()=>rs),multi:!0},Rh=new f.OlP("CompositionEventMode");let rs=(()=>{class n extends Jp{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function pc(){const n=L()?L().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static#e=this.\u0275fac=function(r){return new(r||n)(f.Y36(f.Qsj),f.Y36(f.SBq),f.Y36(Rh,8))};static#t=this.\u0275dir=f.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&f.NdJ("input",function(l){return i._handleInput(l.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(l){return i._compositionEnd(l.target.value)})},features:[f._Bn([Al]),f.qOj]})}return n})();function Xi(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function mc(n){return null!=n&&"number"==typeof n.length}const Gn=new f.OlP("NgValidators"),lr=new f.OlP("NgAsyncValidators"),Oh=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ao{static min(e){return function ya(n){return e=>{if(Xi(e.value)||Xi(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function va(n){return e=>{if(Xi(e.value)||Xi(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return Ji(e)}static requiredTrue(e){return function gc(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function Dl(n){return Xi(n.value)||Oh.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function Sl(n){return e=>Xi(e.value)||!mc(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function Do(n){return e=>mc(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function _c(n){if(!n)return ba;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Xi(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return nm(e)}static composeAsync(e){return Ea(e)}}function Ji(n){return Xi(n.value)?{required:!0}:null}function ba(n){return null}function b_(n){return null!=n}function Ml(n){return(0,f.QGY)(n)?(0,Sn.D)(n):n}function em(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function So(n,e){return e.map(t=>t(n))}function tm(n){return n.map(e=>function Nh(n){return!n.validate}(e)?e:t=>e.validate(t))}function nm(n){if(!n)return null;const e=n.filter(b_);return 0==e.length?null:function(t){return em(So(t,e))}}function Pi(n){return null!=n?nm(tm(n)):null}function Ea(n){if(!n)return null;const e=n.filter(b_);return 0==e.length?null:function(t){return function Tl(...n){if(1===n.length){const e=n[0];if((0,Cl.k)(e))return ns(e,null);if((0,Xp.K)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return ns(t.map(r=>e[r]),t)}}if("function"==typeof n[n.length-1]){const e=n.pop();return ns(n=1===n.length&&(0,Cl.k)(n[0])?n[0]:n,null).pipe((0,mt.U)(t=>e(...t)))}return ns(n,null)}(So(t,e).map(Ml)).pipe((0,mt.U)(em))}}function eo(n){return null!=n?Ea(tm(n)):null}function yc(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Yu(n){return n._rawValidators}function Ia(n){return n._rawAsyncValidators}function Pl(n){return n?Array.isArray(n)?n:[n]:[]}function vc(n,e){return Array.isArray(n)?n.includes(e):n===e}function Rl(n,e){const t=Pl(e);return Pl(n).forEach(i=>{vc(t,i)||t.push(i)}),t}function x(n,e){return Pl(e).filter(t=>!vc(n,t))}class T{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Pi(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=eo(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class R extends T{get formDirective(){return null}get path(){return null}}class B extends T{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class K{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Ge=(()=>{class n extends K{constructor(t){super(t)}static#e=this.\u0275fac=function(r){return new(r||n)(f.Y36(B,2))};static#t=this.\u0275dir=f.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&f.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[f.qOj]})}return n})(),je=(()=>{class n extends K{constructor(t){super(t)}static#e=this.\u0275fac=function(r){return new(r||n)(f.Y36(R,10))};static#t=this.\u0275dir=f.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&f.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[f.qOj]})}return n})();const Nl="VALID",kl="INVALID",Oi="PENDING",no="DISABLED";function os(n){return(Lh(n)?n.validators:n)||null}function Ec(n,e){return(Lh(e)?e.asyncValidators:n)||null}function Lh(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class im{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Nl}get invalid(){return this.status===kl}get pending(){return this.status==Oi}get disabled(){return this.status===no}get enabled(){return this.status!==no}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Rl(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Rl(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(x(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(x(e,this._rawAsyncValidators))}hasValidator(e){return vc(this._rawValidators,e)}hasAsyncValidator(e){return vc(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Oi,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=no,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Nl,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Nl||this.status===Oi)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?no:Nl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Oi,this._hasOwnPendingAsyncValidator=!0;const t=Ml(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new f.vpe,this.statusChanges=new f.vpe}_calculateStatus(){return this._allControlsDisabled()?no:this.errors?kl:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Oi)?Oi:this._anyControlsHaveStatus(kl)?kl:Nl}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Lh(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function w_(n){return Array.isArray(n)?Pi(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Ic(n){return Array.isArray(n)?eo(n):n||null}(this._rawAsyncValidators)}}const C_=class om extends im{constructor(e,t,r){super(os(t),Ec(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function yb(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new f.vHH(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function x_(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new f.vHH(1e3,"");if(!r[t])throw new f.vHH(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,c)=>{r=t(r,i,c)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}},Us=new f.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Xu}),Xu="always";function wa(n,e,t=Xu){xa(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function ed(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&T_(n,e)})}(n,e),function bb(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Ll(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&T_(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function fi(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function ss(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Fl(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Ju(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function xa(n,e){const t=Yu(n);null!==e.validator?n.setValidators(yc(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=Ia(n);null!==e.asyncValidator?n.setAsyncValidators(yc(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Ju(e._rawValidators,i),Ju(e._rawAsyncValidators,i)}function Fl(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=Yu(n);if(Array.isArray(i)&&i.length>0){const c=i.filter(l=>l!==e.validator);c.length!==i.length&&(t=!0,n.setValidators(c))}}if(null!==e.asyncValidator){const i=Ia(n);if(Array.isArray(i)&&i.length>0){const c=i.filter(l=>l!==e.asyncValidator);c.length!==i.length&&(t=!0,n.setAsyncValidators(c))}}}const r=()=>{};return Ju(e._rawValidators,r),Ju(e._rawAsyncValidators,r),t}function T_(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Bh(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function am(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(c=>{c.constructor===rs?t=c:function Ib(n){return Object.getPrototypeOf(n.constructor)===Bs}(c)?r=c:i=c}),i||r||t||null}function nd(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function A_(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Ta=class extends im{constructor(e=null,t,r){super(os(t),Ec(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Lh(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=A_(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){nd(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){nd(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){A_(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},Vl=Ta;let jl=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=f.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return n})(),id=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=f.oAB({type:n});static#n=this.\u0275inj=f.cJS({})}return n})();const od=new f.OlP("NgModelWithFormControlWarning"),hm={provide:B,useExisting:(0,f.Gpc)(()=>Hl)};let Hl=(()=>{class n extends B{set isDisabled(t){}static#e=this._ngModelWarningSentOnce=!1;constructor(t,r,i,c,l){super(),this._ngModelWarningConfig=c,this.callSetDisabledState=l,this.update=new f.vpe,this._ngModelWarningSent=!1,this._setValidators(t),this._setAsyncValidators(r),this.valueAccessor=am(0,i)}ngOnChanges(t){if(this._isControlChanged(t)){const r=t.form.previousValue;r&&ss(r,this,!1),wa(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}Bh(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&ss(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}static#t=this.\u0275fac=function(r){return new(r||n)(f.Y36(Gn,10),f.Y36(lr,10),f.Y36(In,10),f.Y36(od,8),f.Y36(Us,8))};static#n=this.\u0275dir=f.lG2({type:n,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[f._Bn([hm]),f.qOj,f.TTD]})}return n})();const M_={provide:R,useExisting:(0,f.Gpc)(()=>Aa)};let Aa=(()=>{class n extends R{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new f.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Fl(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return wa(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){ss(t.control||null,t,!1),function wb(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function td(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(ss(r||null,t),(n=>n instanceof Ta)(i)&&(wa(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function Vh(n,e){xa(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function fw(n,e){return Fl(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){xa(this.form,this),this._oldForm&&Fl(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(r){return new(r||n)(f.Y36(Gn,10),f.Y36(lr,10),f.Y36(Us,8))};static#t=this.\u0275dir=f.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){1&r&&f.NdJ("submit",function(l){return i.onSubmit(l)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[f._Bn([M_]),f.qOj,f.TTD]})}return n})();const yw={provide:B,useExisting:(0,f.Gpc)(()=>pm)};let pm=(()=>{class n extends B{set isDisabled(t){}static#e=this._ngModelWarningSentOnce=!1;constructor(t,r,i,c,l){super(),this._ngModelWarningConfig=l,this._added=!1,this.name=null,this.update=new f.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=am(0,c)}ngOnChanges(t){this._added||this._setUpControl(),Bh(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function Mn(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(r){return new(r||n)(f.Y36(R,13),f.Y36(Gn,10),f.Y36(lr,10),f.Y36(In,10),f.Y36(od,8))};static#n=this.\u0275dir=f.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[f._Bn([yw]),f.qOj,f.TTD]})}return n})(),xc=(()=>{class n{constructor(){this._validator=ba}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):ba,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=f.lG2({type:n,features:[f.TTD]})}return n})();const _m={provide:Gn,useExisting:(0,f.Gpc)(()=>Gl),multi:!0};let Gl=(()=>{class n extends xc{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=f.VuI,this.createValidator=t=>Ji}enabled(t){return t}static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=f.n5z(n)))(i||n)}}();static#t=this.\u0275dir=f.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){2&r&&f.uIk("required",i._enabled?"":null)},inputs:{required:"required"},features:[f._Bn([_m]),f.qOj]})}return n})(),vm=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=f.oAB({type:n});static#n=this.\u0275inj=f.cJS({imports:[id]})}return n})(),Em=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Us,useValue:t.callSetDisabledState??Xu}]}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=f.oAB({type:n});static#n=this.\u0275inj=f.cJS({imports:[vm]})}return n})(),Ac=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:od,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Us,useValue:t.callSetDisabledState??Xu}]}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=f.oAB({type:n});static#n=this.\u0275inj=f.cJS({imports:[vm]})}return n})();var ct=F(9193),mi=F(6743);function js(n,e){return(0,mi.zg)(n,e,1)}var gi=F(254);function wn(n,e){return function(r){return r.lift(new cs(n,e))}}class cs{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new ud(e,this.predicate,this.thisArg))}}class ud extends gi.L{constructor(e,t,r){super(e),this.predicate=t,this.thisArg=r,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(r){return void this.destination.error(r)}t&&this.destination.next(e)}}var Zh=F(7902);function ls(n){return e=>e.lift(new ql(n))}class ql{constructor(e){this.callback=e}call(e,t){return t.subscribe(new Vb(e,this.callback))}}class Vb extends gi.L{constructor(e,t){super(e),this.add(new Zh.w(t))}}var dr=F(5222);class Kh{}class Po{}class Ro{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),c=i.toLowerCase(),l=t.slice(r+1).trim();this.maybeSetNormalizedName(i,c),this.headers.has(c)?this.headers.get(c).push(l):this.headers.set(c,[l])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Ro?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Ro;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Ro?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const c=e.value;if(c){let l=this.headers.get(t);if(!l)return;l=l.filter(g=>-1===c.indexOf(g)),0===l.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,l)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(e,t){const r=(Array.isArray(t)?t:[t]).map(c=>c.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class j_{encodeKey(e){return Xh(e)}encodeValue(e){return Xh(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const Qh=/%(\d[a-f0-9])/gi,Br={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Xh(n){return encodeURIComponent(n).replace(Qh,(e,t)=>Br[t]??e)}function Wl(n){return`${n}`}class us{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new j_,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Yh(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const c=i.indexOf("="),[l,g]=-1==c?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,c)),e.decodeValue(i.slice(c+1))],y=t.get(l)||[];y.push(g),t.set(l,y)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(Wl):[Wl(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(c=>{t.push({param:r,value:c,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new us({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(Wl(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(Wl(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class Oo{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function Jh(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function H_(n){return typeof Blob<"u"&&n instanceof Blob}function wm(n){return typeof FormData<"u"&&n instanceof FormData}class dd{constructor(e,t,r,i){let c;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function Im(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,c=i):c=r,c&&(this.reportProgress=!!c.reportProgress,this.withCredentials=!!c.withCredentials,c.responseType&&(this.responseType=c.responseType),c.headers&&(this.headers=c.headers),c.context&&(this.context=c.context),c.params&&(this.params=c.params)),this.headers||(this.headers=new Ro),this.context||(this.context=new Oo),this.params){const l=this.params.toString();if(0===l.length)this.urlWithParams=t;else{const g=t.indexOf("?");this.urlWithParams=t+(-1===g?"?":g<t.length-1?"&":"")+l}}else this.params=new us,this.urlWithParams=t}serializeBody(){return null===this.body?null:Jh(this.body)||H_(this.body)||wm(this.body)||function ef(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof us?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||wm(this.body)?null:H_(this.body)?this.body.type||null:Jh(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof us?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,c=void 0!==e.body?e.body:this.body,l=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,g=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let y=e.headers||this.headers,I=e.params||this.params;const D=e.context??this.context;return void 0!==e.setHeaders&&(y=Object.keys(e.setHeaders).reduce((P,N)=>P.set(N,e.setHeaders[N]),y)),e.setParams&&(I=Object.keys(e.setParams).reduce((P,N)=>P.set(N,e.setParams[N]),I)),new dd(t,r,c,{params:I,headers:y,context:D,reportProgress:g,responseType:i,withCredentials:l})}}var Dc=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Dc||{});class tf{constructor(e,t=200,r="OK"){this.headers=e.headers||new Ro,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class _ extends tf{constructor(e={}){super(e),this.type=Dc.ResponseHeader}clone(e={}){return new _({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class h extends tf{constructor(e={}){super(e),this.type=Dc.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new h({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class p extends tf{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function v(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let C=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let c;if(t instanceof dd)c=t;else{let y,I;y=i.headers instanceof Ro?i.headers:new Ro(i.headers),i.params&&(I=i.params instanceof us?i.params:new us({fromObject:i.params})),c=new dd(t,r,void 0!==i.body?i.body:null,{headers:y,context:i.context,params:I,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const l=(0,ct.of)(c).pipe(js(y=>this.handler.handle(y)));if(t instanceof dd||"events"===i.observe)return l;const g=l.pipe(wn(y=>y instanceof h));switch(i.observe||"body"){case"body":switch(c.responseType){case"arraybuffer":return g.pipe((0,mt.U)(y=>{if(null!==y.body&&!(y.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return y.body}));case"blob":return g.pipe((0,mt.U)(y=>{if(null!==y.body&&!(y.body instanceof Blob))throw new Error("Response is not a Blob.");return y.body}));case"text":return g.pipe((0,mt.U)(y=>{if(null!==y.body&&"string"!=typeof y.body)throw new Error("Response is not a string.");return y.body}));default:return g.pipe((0,mt.U)(y=>y.body))}case"response":return g;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new us).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,v(i,r))}post(t,r,i={}){return this.request("POST",t,v(i,r))}put(t,r,i={}){return this.request("PUT",t,v(i,r))}static#e=this.\u0275fac=function(r){return new(r||n)(f.LFG(Kh))};static#t=this.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac})}return n})();function Mt(n,e){return e(n)}function jn(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}const No=new f.OlP(""),Ur=new f.OlP(""),ds=new f.OlP("");function hd(){let n=null;return(e,t)=>{null===n&&(n=((0,f.f3M)(No,{optional:!0})??[]).reduceRight(jn,Mt));const r=(0,f.f3M)(f.HDt),i=r.add();return n(e,t).pipe(ls(()=>r.remove(i)))}}let Zl=(()=>{class n extends Kh{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=(0,f.f3M)(f.HDt)}handle(t){if(null===this.chain){const i=Array.from(new Set([...this.injector.get(Ur),...this.injector.get(ds,[])]));this.chain=i.reduceRight((c,l)=>function Ni(n,e,t){return(r,i)=>t.runInContext(()=>e(r,c=>n(c,i)))}(c,l,this.injector),Mt)}const r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(ls(()=>this.pendingTasks.remove(r)))}static#e=this.\u0275fac=function(r){return new(r||n)(f.LFG(Po),f.LFG(f.lqb))};static#t=this.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac})}return n})();const Cw=/^\)\]\}',?\n/;let Yl=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new f.vHH(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?(0,Sn.D)(r.\u0275loadImpl()):(0,ct.of)(null)).pipe((0,dr.w)(()=>new an.y(c=>{const l=r.build();if(l.open(t.method,t.urlWithParams),t.withCredentials&&(l.withCredentials=!0),t.headers.forEach((ee,ue)=>l.setRequestHeader(ee,ue.join(","))),t.headers.has("Accept")||l.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const ee=t.detectContentTypeHeader();null!==ee&&l.setRequestHeader("Content-Type",ee)}if(t.responseType){const ee=t.responseType.toLowerCase();l.responseType="json"!==ee?ee:"text"}const g=t.serializeBody();let y=null;const I=()=>{if(null!==y)return y;const ee=l.statusText||"OK",ue=new Ro(l.getAllResponseHeaders()),Pe=function Tw(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(l)||t.url;return y=new _({headers:ue,status:l.status,statusText:ee,url:Pe}),y},D=()=>{let{headers:ee,status:ue,statusText:Pe,url:Le}=I(),ke=null;204!==ue&&(ke=typeof l.response>"u"?l.responseText:l.response),0===ue&&(ue=ke?200:0);let Be=ue>=200&&ue<300;if("json"===t.responseType&&"string"==typeof ke){const gt=ke;ke=ke.replace(Cw,"");try{ke=""!==ke?JSON.parse(ke):null}catch(It){ke=gt,Be&&(Be=!1,ke={error:It,text:ke})}}Be?(c.next(new h({body:ke,headers:ee,status:ue,statusText:Pe,url:Le||void 0})),c.complete()):c.error(new p({error:ke,headers:ee,status:ue,statusText:Pe,url:Le||void 0}))},P=ee=>{const{url:ue}=I(),Pe=new p({error:ee,status:l.status||0,statusText:l.statusText||"Unknown Error",url:ue||void 0});c.error(Pe)};let N=!1;const z=ee=>{N||(c.next(I()),N=!0);let ue={type:Dc.DownloadProgress,loaded:ee.loaded};ee.lengthComputable&&(ue.total=ee.total),"text"===t.responseType&&l.responseText&&(ue.partialText=l.responseText),c.next(ue)},J=ee=>{let ue={type:Dc.UploadProgress,loaded:ee.loaded};ee.lengthComputable&&(ue.total=ee.total),c.next(ue)};return l.addEventListener("load",D),l.addEventListener("error",P),l.addEventListener("timeout",P),l.addEventListener("abort",P),t.reportProgress&&(l.addEventListener("progress",z),null!==g&&l.upload&&l.upload.addEventListener("progress",J)),l.send(g),c.next({type:Dc.Sent}),()=>{l.removeEventListener("error",P),l.removeEventListener("abort",P),l.removeEventListener("load",D),l.removeEventListener("timeout",P),t.reportProgress&&(l.removeEventListener("progress",z),null!==g&&l.upload&&l.upload.removeEventListener("progress",J)),l.readyState!==l.DONE&&l.abort()}})))}static#e=this.\u0275fac=function(r){return new(r||n)(f.LFG(Jr))};static#t=this.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac})}return n})();const Hb=new f.OlP("XSRF_ENABLED"),Aw=new f.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Dw=new f.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Sa{}let sf=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=er(t,this.cookieName),this.lastCookieString=t),this.lastToken}static#e=this.\u0275fac=function(r){return new(r||n)(f.LFG(q),f.LFG(f.Lbi),f.LFG(Aw))};static#t=this.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac})}return n})();function XA(n,e){const t=n.url.toLowerCase();if(!(0,f.f3M)(Hb)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=(0,f.f3M)(Sa).getToken(),i=(0,f.f3M)(Dw);return null!=r&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var Ql=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(Ql||{});function JA(...n){const e=[C,Yl,Zl,{provide:Kh,useExisting:Zl},{provide:Po,useExisting:Yl},{provide:Ur,useValue:XA,multi:!0},{provide:Hb,useValue:!0},{provide:Sa,useClass:sf}];for(const t of n)e.push(...t.\u0275providers);return(0,f.MR2)(e)}const zb=new f.OlP("LEGACY_INTERCEPTOR_FN");function eD(){return function fd(n,e){return{\u0275kind:n,\u0275providers:e}}(Ql.LegacyInterceptors,[{provide:zb,useFactory:hd},{provide:Ur,useExisting:zb,multi:!0}])}let Sw=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=f.oAB({type:n});static#n=this.\u0275inj=f.cJS({providers:[JA(eD())]})}return n})();var hs=F(5125),Mw=F(9759);class nD extends gi.L{notifyNext(e,t,r,i,c){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}class rD extends gi.L{constructor(e,t,r){super(),this.parent=e,this.outerValue=t,this.outerIndex=r,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var iD=F(4372);function Pw(n,e,t,r,i=new rD(n,t,r)){if(!i.closed)return e instanceof an.y?e.subscribe(i):(0,iD.s)(e)(i)}var G_=F(2594);const Wb={};function af(...n){let e,t;return(0,Mw.K)(n[n.length-1])&&(t=n.pop()),"function"==typeof n[n.length-1]&&(e=n.pop()),1===n.length&&(0,Cl.k)(n[0])&&(n=n[0]),(0,G_.n)(n,t).lift(new oD(e))}class oD{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new pd(e,this.resultSelector))}}class pd extends nD{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(Wb),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let r=0;r<t;r++)this.add(Pw(this,e[r],void 0,r))}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,r){const i=this.values,l=this.toRespond?i[r]===Wb?--this.toRespond:this.toRespond:0;i[r]=t,0===l&&(this.resultSelector?this._tryResultSelector(i):this.destination.next(i.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(r){return void this.destination.error(r)}this.destination.next(t)}}const q_=(()=>{function n(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return n.prototype=Object.create(Error.prototype),n})();var cf=F(7449);function W_(...n){return function Rw(){return(0,cf.J)(1)}()((0,ct.of)(...n))}var Sc=F(1226);function Ow(n){return new an.y(e=>{let t;try{t=n()}catch(i){return void e.error(i)}return(t?(0,Sn.D)(t):(0,Sc.c)()).subscribe(e)})}var sD=F(4813),md=F(6222),aD=F(4247),Mc=F(2079);const lf=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();function Jl(n){return e=>0===n?(0,Sc.c)():e.lift(new Nw(n))}class Nw{constructor(e){if(this.total=e,this.total<0)throw new lf}call(e,t){return t.subscribe(new Zb(e,this.total))}}class Zb extends gi.L{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,r=++this.count;r<=t&&(this.destination.next(e),r===t&&(this.destination.complete(),this.unsubscribe()))}}function gd(...n){const e=n[n.length-1];return(0,Mw.K)(e)?(n.pop(),t=>W_(n,t,e)):t=>W_(n,t)}function K_(n=null){return e=>e.lift(new kw(n))}class kw{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new Fw(e,this.defaultValue))}}class Fw extends gi.L{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function Tm(n=cD){return e=>e.lift(new WO(n))}class WO{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new Kb(e,this.errorFactory))}}class Kb extends gi.L{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function cD(){return new q_}var Y_=F(158);function Pc(n,e){const t=arguments.length>=2;return r=>r.pipe(n?wn((i,c)=>n(i,c,r)):Y_.y,Jl(1),t?K_(e):Tm(()=>new q_))}var br=F(2420),fs=F(5846);function _d(n){return function(t){const r=new Yb(n),i=t.lift(r);return r.caught=i}}class Yb{constructor(e){this.selector=e}call(e,t){return t.subscribe(new Q_(e,this.selector,this.caught))}}class Q_ extends fs.Ds{constructor(e,t,r){super(e),this.selector=t,this.caught=r}error(e){if(!this.isStopped){let t;try{t=this.selector(e,this.caught)}catch(c){return void super.error(c)}this._unsubscribeAndRecycle();const r=new fs.IY(this);this.add(r);const i=(0,fs.ft)(t,r);i!==r&&this.add(i)}}}function X_(n,e){let t=!1;return arguments.length>=2&&(t=!0),function(i){return i.lift(new Qb(n,e,t))}}class Qb{constructor(e,t,r=!1){this.accumulator=e,this.seed=t,this.hasSeed=r}call(e,t){return t.subscribe(new J_(e,this.accumulator,this.seed,this.hasSeed))}}class J_ extends gi.L{constructor(e,t,r,i){super(e),this.accumulator=t,this._seed=r,this.hasSeed=i,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let r;try{r=this.accumulator(this.seed,e,t)}catch(i){this.destination.error(i)}this.seed=r,this.destination.next(r)}}function ps(n){return function(t){return 0===n?(0,Sc.c)():t.lift(new uf(n))}}class uf{constructor(e){if(this.total=e,this.total<0)throw new lf}call(e,t){return t.subscribe(new Xb(e,this.total))}}class Xb extends gi.L{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,r=this.total,i=this.count++;t.length<r?t.push(e):t[i%r]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const r=this.count>=this.total?this.total:this.count,i=this.ring;for(let c=0;c<r;c++){const l=t++%r;e.next(i[l])}}e.complete()}}class Lw{constructor(e){this.value=e}call(e,t){return t.subscribe(new df(e,this.value))}}class df extends gi.L{constructor(e,t){super(e),this.value=t}_next(e){this.destination.next(this.value)}}var Vw=F(2851);function Bw(n){return e=>e.lift(new dD(n))}class dD{constructor(e){this.notifier=e}call(e,t){const r=new Jb(e),i=(0,fs.ft)(this.notifier,new fs.IY(r));return i&&!r.seenValue?(r.add(i),t.subscribe(r)):r}}class Jb extends fs.Ds{constructor(e){super(e),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}const Ht="primary",Am=Symbol("RouteTitle");class Uw{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function eu(n){return new Uw(n)}function ZO(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let c=0;c<r.length;c++){const l=r[c],g=n[c];if(l.startsWith(":"))i[l.substring(1)]=g;else if(l!==g.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Ma(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let c=0;c<t.length;c++)if(i=t[c],!jw(n[i],e[i]))return!1;return!0}function jw(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,c)=>r[c]===i)}return n===e}function fD(n){return n.length>0?n[n.length-1]:null}function yd(n){return function GO(n){return!!n&&(n instanceof an.y||"function"==typeof n.lift&&"function"==typeof n.subscribe)}(n)?n:(0,f.QGY)(n)?(0,Sn.D)(Promise.resolve(n)):(0,ct.of)(n)}const ey={exact:function vd(n,e,t){if(!ff(n.segments,e.segments)||!bd(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!vd(n.children[r],e.children[r],t))return!1;return!0},subset:ny},Hw={exact:function e0(n,e){return Ma(n,e)},subset:function t0(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>jw(n[t],e[t]))},ignored:()=>!0};function ty(n,e,t){return ey[t.paths](n.root,e.root,t.matrixParams)&&Hw[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function ny(n,e,t){return hf(n,e,e.segments,t)}function hf(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!ff(i,t)||e.hasChildren()||!bd(i,t,r))}if(n.segments.length===t.length){if(!ff(n.segments,t)||!bd(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!ny(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),c=t.slice(n.segments.length);return!!(ff(n.segments,i)&&bd(n.segments,i,r)&&n.children[Ht])&&hf(n.children[Ht],e,c,r)}}function bd(n,e,t){return e.every((r,i)=>Hw[t](n[i].parameters,r.parameters))}class zs{constructor(e=new hn([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=eu(this.queryParams)),this._queryParamMap}toString(){return zw.serialize(this)}}class hn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return iy(this)}}class Ed{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=eu(this.parameters)),this._parameterMap}toString(){return Mm(this)}}function ff(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Rc=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=f.Yz7({token:n,factory:function(){return new r0},providedIn:"root"})}return n})();class r0{parse(e){const t=new yD(e);return new zs(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Dm(e.root,!0)}`,r=function mD(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Sm(t)}=${Sm(i)}`).join("&"):`${Sm(t)}=${Sm(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function pD(n){return encodeURI(n)}(e.fragment)}`:""}`}}const zw=new r0;function iy(n){return n.segments.map(e=>Mm(e)).join("/")}function Dm(n,e){if(!n.hasChildren())return iy(n);if(e){const t=n.children[Ht]?Dm(n.children[Ht],!1):"",r=[];return Object.entries(n.children).forEach(([i,c])=>{i!==Ht&&r.push(`${i}:${Dm(c,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function n0(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===Ht&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==Ht&&(t=t.concat(e(i,r)))}),t}(n,(r,i)=>i===Ht?[Dm(n.children[Ht],!1)]:[`${i}:${Dm(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Ht]?`${iy(n)}/${t[0]}`:`${iy(n)}/(${t.join("//")})`}}function oy(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Sm(n){return oy(n).replace(/%3B/gi,";")}function o0(n){return oy(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function s0(n){return decodeURIComponent(n)}function $w(n){return s0(n.replace(/\+/g,"%20"))}function Mm(n){return`${o0(n.path)}${function a0(n){return Object.keys(n).map(e=>`;${o0(e)}=${o0(n[e])}`).join("")}(n.parameters)}`}const Gw=/^[^\/()?;#]+/;function Pm(n){const e=n.match(Gw);return e?e[0]:""}const sy=/^[^\/()?;=#]+/,qw=/^[^=?&#]+/,Ww=/^[^&#]+/;class yD{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new hn([],{}):new hn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Ht]=new hn(e,t)),r}parseSegment(){const e=Pm(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new f.vHH(4009,!1);return this.capture(e),new Ed(s0(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function gD(n){const e=n.match(sy);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Pm(this.remaining);i&&(r=i,this.capture(r))}e[s0(t)]=s0(r)}parseQueryParam(e){const t=function _D(n){const e=n.match(qw);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const l=function KO(n){const e=n.match(Ww);return e?e[0]:""}(this.remaining);l&&(r=l,this.capture(r))}const i=$w(t),c=$w(r);if(e.hasOwnProperty(i)){let l=e[i];Array.isArray(l)||(l=[l],e[i]=l),l.push(c)}else e[i]=c}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Pm(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new f.vHH(4010,!1);let c;r.indexOf(":")>-1?(c=r.slice(0,r.indexOf(":")),this.capture(c),this.capture(":")):e&&(c=Ht);const l=this.parseChildren();t[c]=1===Object.keys(l).length?l[Ht]:new hn([],l),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new f.vHH(4011,!1)}}function Rm(n){return n.segments.length>0?new hn([],{[Ht]:n}):n}function Zw(n){const e={};for(const r of Object.keys(n.children)){const c=Zw(n.children[r]);if(r===Ht&&0===c.segments.length&&c.hasChildren())for(const[l,g]of Object.entries(c.children))e[l]=g;else(c.segments.length>0||c.hasChildren())&&(e[r]=c)}return function pf(n){if(1===n.numberOfChildren&&n.children[Ht]){const e=n.children[Ht];return new hn(n.segments.concat(e.segments),e.children)}return n}(new hn(n.segments,e))}function $s(n){return n instanceof zs}function c0(n){let e;const i=Rm(function t(c){const l={};for(const y of c.children){const I=t(y);l[y.outlet]=I}const g=new hn(c.url,l);return c===n&&(e=g),g}(n.root));return e??i}function Kw(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(0===e.length)return cy(i,i,i,t,r);const c=function YO(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new ly(!0,0,n);let e=0,t=!1;const r=n.reduce((i,c,l)=>{if("object"==typeof c&&null!=c){if(c.outlets){const g={};return Object.entries(c.outlets).forEach(([y,I])=>{g[y]="string"==typeof I?I.split("/"):I}),[...i,{outlets:g}]}if(c.segmentPath)return[...i,c.segmentPath]}return"string"!=typeof c?[...i,c]:0===l?(c.split("/").forEach((g,y)=>{0==y&&"."===g||(0==y&&""===g?t=!0:".."===g?e++:""!=g&&i.push(g))}),i):[...i,c]},[]);return new ly(t,e,r)}(e);if(c.toRoot())return cy(i,i,new hn([],{}),t,r);const l=function Yw(n,e,t){if(n.isAbsolute)return new mf(e,!0,0);if(!t)return new mf(e,!1,NaN);if(null===t.parent)return new mf(t,!0,0);const r=ay(n.commands[0])?0:1;return function bD(n,e,t){let r=n,i=e,c=t;for(;c>i;){if(c-=i,r=r.parent,!r)throw new f.vHH(4005,!1);i=r.segments.length}return new mf(r,!1,i-c)}(t,t.segments.length-1+r,n.numberOfDoubleDots)}(c,i,n),g=l.processChildren?Nm(l.segmentGroup,l.index,c.commands):u0(l.segmentGroup,l.index,c.commands);return cy(i,l.segmentGroup,g,t,r)}function ay(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Om(n){return"object"==typeof n&&null!=n&&n.outlets}function cy(n,e,t,r,i){let l,c={};r&&Object.entries(r).forEach(([y,I])=>{c[y]=Array.isArray(I)?I.map(D=>`${D}`):`${I}`}),l=n===e?t:l0(n,e,t);const g=Rm(Zw(l));return new zs(g,c,i)}function l0(n,e,t){const r={};return Object.entries(n.children).forEach(([i,c])=>{r[i]=c===e?t:l0(c,e,t)}),new hn(n.segments,r)}class ly{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&ay(r[0]))throw new f.vHH(4003,!1);const i=r.find(Om);if(i&&i!==fD(r))throw new f.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class mf{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function u0(n,e,t){if(n||(n=new hn([],{})),0===n.segments.length&&n.hasChildren())return Nm(n,e,t);const r=function Qw(n,e,t){let r=0,i=e;const c={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return c;const l=n.segments[i],g=t[r];if(Om(g))break;const y=`${g}`,I=r<t.length-1?t[r+1]:null;if(i>0&&void 0===y)break;if(y&&I&&"object"==typeof I&&void 0===I.outlets){if(!h0(y,I,l))return c;r+=2}else{if(!h0(y,{},l))return c;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const c=new hn(n.segments.slice(0,r.pathIndex),{});return c.children[Ht]=new hn(n.segments.slice(r.pathIndex),n.children),Nm(c,0,i)}return r.match&&0===i.length?new hn(n.segments,{}):r.match&&!n.hasChildren()?d0(n,e,t):r.match?Nm(n,0,i):d0(n,e,t)}function Nm(n,e,t){if(0===t.length)return new hn(n.segments,{});{const r=function ED(n){return Om(n[0])?n[0].outlets:{[Ht]:n}}(t),i={};if(Object.keys(r).some(c=>c!==Ht)&&n.children[Ht]&&1===n.numberOfChildren&&0===n.children[Ht].segments.length){const c=Nm(n.children[Ht],e,t);return new hn(n.segments,c.children)}return Object.entries(r).forEach(([c,l])=>{"string"==typeof l&&(l=[l]),null!==l&&(i[c]=u0(n.children[c],e,l))}),Object.entries(n.children).forEach(([c,l])=>{void 0===r[c]&&(i[c]=l)}),new hn(n.segments,i)}}function d0(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const c=t[i];if(Om(c)){const y=ID(c.outlets);return new hn(r,y)}if(0===i&&ay(t[0])){r.push(new Ed(n.segments[e].path,wD(t[0]))),i++;continue}const l=Om(c)?c.outlets[Ht]:`${c}`,g=i<t.length-1?t[i+1]:null;l&&g&&ay(g)?(r.push(new Ed(l,wD(g))),i+=2):(r.push(new Ed(l,{})),i++)}return new hn(r,{})}function ID(n){const e={};return Object.entries(n).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[t]=d0(new hn([],{}),0,r))}),e}function wD(n){const e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function h0(n,e,t){return n==t.path&&Ma(e,t.parameters)}const gf="imperative";class Er{constructor(e,t){this.id=e,this.url=t}}class km extends Er{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Id extends Er{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class wd extends Er{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ko extends Er{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class _f extends Er{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Xw extends Er{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class QO extends Er{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xD extends Er{constructor(e,t,r,i,c){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=c,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class f0 extends Er{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Pa extends Er{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jw{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class CD{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class XO{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jr{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class TD{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class p0{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ex{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class m0{}class Fm{constructor(e){this.url=e}}class tx{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Lm,this.attachRef=null}}let Lm=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new tx,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class g0{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=uy(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=uy(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=_0(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return _0(e,this._root).map(t=>t.value)}}function uy(n,e){if(n===e.value)return e;for(const t of e.children){const r=uy(n,t);if(r)return r}return null}function _0(n,e){if(n===e.value)return[e];for(const t of e.children){const r=_0(n,t);if(r.length)return r.unshift(e),r}return[]}class Oc{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function yf(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class y0 extends g0{constructor(e,t){super(e),this.snapshot=t,Bm(this,e)}toString(){return this.snapshot.toString()}}function xd(n,e){const t=function Nc(n,e){const l=new Vm([],{},{},"",{},Ht,e,null,{});return new v0("",new Oc(l,[]))}(0,e),r=new hs.X([new Ed("",{})]),i=new hs.X({}),c=new hs.X({}),l=new hs.X({}),g=new hs.X(""),y=new io(r,i,l,g,c,Ht,e,t.root);return y.snapshot=t.root,new y0(new Oc(y,[]),t)}class io{constructor(e,t,r,i,c,l,g,y){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=c,this.outlet=l,this.component=g,this._futureSnapshot=y,this.title=this.dataSubject?.pipe((0,mt.U)(I=>I[Am]))??(0,ct.of)(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=c}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,mt.U)(e=>eu(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,mt.U)(e=>eu(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function nx(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],c=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(c.component)break;r--}}return function DD(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Vm{get title(){return this.data?.[Am]}constructor(e,t,r,i,c,l,g,y,I){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=c,this.outlet=l,this.component=g,this.routeConfig=y,this._resolve=I}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=eu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=eu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class v0 extends g0{constructor(e,t){super(t),this.url=e,Bm(this,t)}toString(){return vf(this._root)}}function Bm(n,e){e.value._routerState=n,e.children.forEach(t=>Bm(n,t))}function vf(n){const e=n.children.length>0?` { ${n.children.map(vf).join(", ")} } `:"";return`${n.value}${e}`}function bf(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Ma(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Ma(e.params,t.params)||n.paramsSubject.next(t.params),function hD(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Ma(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),Ma(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function dy(n,e){const t=Ma(n.params,e.params)&&function ry(n,e){return ff(n,e)&&n.every((t,r)=>Ma(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||dy(n.parent,e.parent))}let hy=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ht,this.activateEvents=new f.vpe,this.deactivateEvents=new f.vpe,this.attachEvents=new f.vpe,this.detachEvents=new f.vpe,this.parentContexts=(0,f.f3M)(Lm),this.location=(0,f.f3M)(f.s_b),this.changeDetector=(0,f.f3M)(f.sBO),this.environmentInjector=(0,f.f3M)(f.lqb),this.inputBinder=(0,f.f3M)(fy,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new f.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new f.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new f.vHH(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new f.vHH(4013,!1);this._activatedRoute=t;const i=this.location,l=t.snapshot.component,g=this.parentContexts.getOrCreateContext(this.name).children,y=new SD(t,g,i.injector);this.activated=i.createComponent(l,{index:i.length,injector:y,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=f.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[f.TTD]})}return n})();class SD{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===io?this.route:e===Lm?this.childContexts:this.parent.get(e,t)}}const fy=new f.OlP("");let rx=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,i=af([r.queryParams,r.params,r.data]).pipe((0,dr.w)(([c,l,g],y)=>(g={...c,...l,...g},0===y?(0,ct.of)(g):Promise.resolve(g)))).subscribe(c=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const l=(0,f.qFp)(r.component);if(l)for(const{templateName:g}of l.inputs)t.activatedComponentRef.setInput(g,c[g]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,i)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac})}return n})();function Ef(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function JO(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Ef(n,r,i);return Ef(n,r)})}(n,e,t);return new Oc(r,i)}{if(n.shouldAttach(e.value)){const c=n.retrieve(e.value);if(null!==c){const l=c.route;return l.value._futureSnapshot=e.value,l.children=e.children.map(g=>Ef(n,g)),l}}const r=function PD(n){return new io(new hs.X(n.url),new hs.X(n.params),new hs.X(n.queryParams),new hs.X(n.fragment),new hs.X(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(c=>Ef(n,c));return new Oc(r,i)}}const ix="ngNavigationCancelingError";function RD(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=$s(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=b0(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function b0(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[ix]=!0,r.cancellationCode=e,t&&(r.url=t),r}function OD(n){return n&&n[ix]}let Um=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=f.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[f.jDz],decls:1,vars:0,template:function(r,i){1&r&&f._UZ(0,"router-outlet")},dependencies:[hy],encapsulation:2})}return n})();function py(n){const e=n.children&&n.children.map(py),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Ht&&(t.component=Um),t}function Gs(n){return n.outlet||Ht}function Ra(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class lx{constructor(e,t,r,i,c){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=c}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),bf(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=yf(t);e.children.forEach(c=>{const l=c.value.outlet;this.deactivateRoutes(c,i[l],r),delete i[l]}),Object.values(i).forEach(c=>{this.deactivateRouteAndItsChildren(c,r)})}deactivateRoutes(e,t,r){const i=e.value,c=t?t.value:null;if(i===c)if(i.component){const l=r.getContext(i.outlet);l&&this.deactivateChildRoutes(e,t,l.children)}else this.deactivateChildRoutes(e,t,r);else c&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,c=yf(e);for(const l of Object.keys(c))this.deactivateRouteAndItsChildren(c[l],i);if(r&&r.outlet){const l=r.outlet.detach(),g=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:l,route:e,contexts:g})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,c=yf(e);for(const l of Object.keys(c))this.deactivateRouteAndItsChildren(c[l],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){const i=yf(t);e.children.forEach(c=>{this.activateRoutes(c,i[c.value.outlet],r),this.forwardEvent(new p0(c.value.snapshot))}),e.children.length&&this.forwardEvent(new jr(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,c=t?t.value:null;if(bf(i),i===c)if(i.component){const l=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,l.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const l=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const g=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),l.children.onOutletReAttached(g.contexts),l.attachRef=g.componentRef,l.route=g.route.value,l.outlet&&l.outlet.attach(g.componentRef,g.route.value),bf(g.route.value),this.activateChildRoutes(e,null,l.children)}else{const g=Ra(i.snapshot);l.attachRef=null,l.route=i,l.injector=g,l.outlet&&l.outlet.activateWith(i,l.injector),this.activateChildRoutes(e,null,l.children)}}else this.activateChildRoutes(e,null,r)}}class gy{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class wf{constructor(e,t){this.component=e,this.route=t}}function E0(n,e,t){const r=n._root;return Hm(r,e?e._root:null,t,[r.value])}function tu(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,f.Z0I)(n)?e.get(n):n:r}function Hm(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const c=yf(e);return n.children.forEach(l=>{(function VD(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const c=n.value,l=e?e.value:null,g=t?t.getContext(n.value.outlet):null;if(l&&c.routeConfig===l.routeConfig){const y=function BD(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!ff(n.url,e.url);case"pathParamsOrQueryParamsChange":return!ff(n.url,e.url)||!Ma(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!dy(n,e)||!Ma(n.queryParams,e.queryParams);default:return!dy(n,e)}}(l,c,c.routeConfig.runGuardsAndResolvers);y?i.canActivateChecks.push(new gy(r)):(c.data=l.data,c._resolvedData=l._resolvedData),Hm(n,e,c.component?g?g.children:null:t,r,i),y&&g&&g.outlet&&g.outlet.isActivated&&i.canDeactivateChecks.push(new wf(g.outlet.component,l))}else l&&xf(e,g,i),i.canActivateChecks.push(new gy(r)),Hm(n,null,c.component?g?g.children:null:t,r,i)})(l,c[l.value.outlet],t,r.concat([l.value]),i),delete c[l.value.outlet]}),Object.entries(c).forEach(([l,g])=>xf(g,t.getContext(l),i)),i}function xf(n,e,t){const r=yf(n),i=n.value;Object.entries(r).forEach(([c,l])=>{xf(l,i.component?e?e.children.getContext(c):null:e,t)}),t.canDeactivateChecks.push(new wf(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function zm(n){return"function"==typeof n}function fx(n){return n instanceof q_||"EmptyError"===n?.name}const _y=Symbol("INITIAL_VALUE");function $m(){return(0,dr.w)(n=>af(n.map(e=>e.pipe(Jl(1),gd(_y)))).pipe((0,mt.U)(e=>{for(const t of e)if(!0!==t){if(t===_y)return _y;if(!1===t||t instanceof zs)return t}return!0}),wn(e=>e!==_y),Jl(1)))}function gx(n){return(0,sD.z)((0,br.b)(e=>{if($s(e))throw RD(0,e)}),(0,mt.U)(e=>!0===e))}class yy{constructor(e){this.segmentGroup=e||null}}class _x{constructor(e){this.urlTree=e}}function Cf(n){return(0,md._)(new yy(n))}function qs(n){return(0,md._)(new _x(n))}class yx{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new f.vHH(4002,!1)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return(0,ct.of)(r);if(i.numberOfChildren>1||!i.children[Ht])return(0,md._)(new f.vHH(4e3,!1));i=i.children[Ht]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const c=this.createSegmentGroup(e,t.root,r,i);return new zs(c,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Object.entries(e).forEach(([i,c])=>{if("string"==typeof c&&c.startsWith(":")){const g=c.substring(1);r[i]=t[g]}else r[i]=c}),r}createSegmentGroup(e,t,r,i){const c=this.createSegments(e,t.segments,r,i);let l={};return Object.entries(t.children).forEach(([g,y])=>{l[g]=this.createSegmentGroup(e,y,r,i)}),new hn(c,l)}createSegments(e,t,r,i){return t.map(c=>c.path.startsWith(":")?this.findPosParam(e,c,i):this.findOrReturn(c,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new f.vHH(4001,!1);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}const C0={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function vx(n,e,t,r,i){const c=vy(n,e,t);return c.matched?(r=function sx(n,e){return n.providers&&!n._injector&&(n._injector=(0,f.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,r),function KD(n,e,t,r){const i=e.canMatch;if(!i||0===i.length)return(0,ct.of)(!0);const c=i.map(l=>{const g=tu(l,n);return yd(function zD(n){return n&&zm(n.canMatch)}(g)?g.canMatch(e,t):n.runInContext(()=>g(e,t)))});return(0,ct.of)(c).pipe($m(),gx())}(r,e,t).pipe((0,mt.U)(l=>!0===l?c:{...C0}))):(0,ct.of)(c)}function vy(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...C0}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||ZO)(t,n,e);if(!i)return{...C0};const c={};Object.entries(i.posParams??{}).forEach(([g,y])=>{c[g]=y.path});const l=i.consumed.length>0?{...c,...i.consumed[i.consumed.length-1].parameters}:c;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:l,positionalParamSegments:i.posParams??{}}}function Gm(n,e,t,r){return t.length>0&&function bx(n,e,t){return t.some(r=>qm(n,e,r)&&Gs(r)!==Ht)}(n,t,r)?{segmentGroup:new hn(e,n1(r,new hn(t,n.children))),slicedSegments:[]}:0===t.length&&function Ex(n,e,t){return t.some(r=>qm(n,e,r))}(n,t,r)?{segmentGroup:new hn(n.segments,T0(n,0,t,r,n.children)),slicedSegments:t}:{segmentGroup:new hn(n.segments,n.children),slicedSegments:t}}function T0(n,e,t,r,i){const c={};for(const l of r)if(qm(n,t,l)&&!i[Gs(l)]){const g=new hn([],{});c[Gs(l)]=g}return{...i,...c}}function n1(n,e){const t={};t[Ht]=e;for(const r of n)if(""===r.path&&Gs(r)!==Ht){const i=new hn([],{});t[Gs(r)]=i}return t}function qm(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class QD{constructor(e,t,r,i,c,l,g){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=c,this.paramsInheritanceStrategy=l,this.urlSerializer=g,this.allowRedirects=!0,this.applyRedirects=new yx(this.urlSerializer,this.urlTree)}noMatchError(e){return new f.vHH(4002,!1)}recognize(){const e=Gm(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Ht).pipe(_d(t=>{if(t instanceof _x)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof yy?this.noMatchError(t):t}),(0,mt.U)(t=>{const r=new Vm([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ht,this.rootComponentType,null,{}),i=new Oc(r,t),c=new v0("",i),l=function vD(n,e,t=null,r=null){return Kw(c0(n),e,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return l.queryParams=this.urlTree.queryParams,c.url=this.urlSerializer.serialize(l),this.inheritParamsAndData(c._root),{state:c,tree:l}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,Ht).pipe(_d(r=>{throw r instanceof yy?this.noMatchError(r):r}))}inheritParamsAndData(e){const t=e.value,r=nx(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i,!0)}processChildren(e,t,r){const i=[];for(const c of Object.keys(r.children))"primary"===c?i.unshift(c):i.push(c);return(0,Sn.D)(i).pipe(js(c=>{const l=r.children[c],g=function my(n,e){const t=n.filter(r=>Gs(r)===e);return t.push(...n.filter(r=>Gs(r)!==e)),t}(t,c);return this.processSegmentGroup(e,g,l,c)}),X_((c,l)=>(c.push(...l),c)),K_(null),function lD(n,e){const t=arguments.length>=2;return r=>r.pipe(n?wn((i,c)=>n(i,c,r)):Y_.y,ps(1),t?K_(e):Tm(()=>new q_))}(),(0,mi.zg)(c=>{if(null===c)return Cf(r);const l=wx(c);return function XD(n){n.sort((e,t)=>e.value.outlet===Ht?-1:t.value.outlet===Ht?1:e.value.outlet.localeCompare(t.value.outlet))}(l),(0,ct.of)(l)}))}processSegment(e,t,r,i,c,l){return(0,Sn.D)(t).pipe(js(g=>this.processSegmentAgainstRoute(g._injector??e,t,g,r,i,c,l).pipe(_d(y=>{if(y instanceof yy)return(0,ct.of)(null);throw y}))),Pc(g=>!!g),_d(g=>{if(fx(g))return function A0(n,e,t){return 0===e.length&&!n.children[t]}(r,i,c)?(0,ct.of)([]):Cf(r);throw g}))}processSegmentAgainstRoute(e,t,r,i,c,l,g){return function Ix(n,e,t,r){return!!(Gs(n)===r||r!==Ht&&qm(e,t,n))&&("**"===n.path||vy(e,n,t).matched)}(r,i,c,l)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,c,l,g):g&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,c,l):Cf(i):Cf(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,c,l){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,l):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,c,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const c=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?qs(c):this.applyRedirects.lineralizeSegments(r,c).pipe((0,mi.zg)(l=>{const g=new hn(l,{});return this.processSegment(e,t,g,l,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,c,l){const{matched:g,consumedSegments:y,remainingSegments:I,positionalParamSegments:D}=vy(t,i,c);if(!g)return Cf(t);const P=this.applyRedirects.applyRedirectCommands(y,i.redirectTo,D);return i.redirectTo.startsWith("/")?qs(P):this.applyRedirects.lineralizeSegments(i,P).pipe((0,mi.zg)(N=>this.processSegment(e,r,t,N.concat(I),l,!1)))}matchSegmentAgainstRoute(e,t,r,i,c,l){let g;if("**"===r.path){const y=i.length>0?fD(i).parameters:{},I=new Vm(i,y,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,xx(r),Gs(r),r.component??r._loadedComponent??null,r,Wm(r));g=(0,ct.of)({snapshot:I,consumedSegments:[],remainingSegments:[]}),t.children={}}else g=vx(t,r,i,e).pipe((0,mt.U)(({matched:y,consumedSegments:I,remainingSegments:D,parameters:P})=>y?{snapshot:new Vm(I,P,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,xx(r),Gs(r),r.component??r._loadedComponent??null,r,Wm(r)),consumedSegments:I,remainingSegments:D}:null));return g.pipe((0,dr.w)(y=>null===y?Cf(t):this.getChildConfig(e=r._injector??e,r,i).pipe((0,dr.w)(({routes:I})=>{const D=r._loadedInjector??e,{snapshot:P,consumedSegments:N,remainingSegments:z}=y,{segmentGroup:J,slicedSegments:ee}=Gm(t,N,z,I);if(0===ee.length&&J.hasChildren())return this.processChildren(D,I,J).pipe((0,mt.U)(Pe=>null===Pe?null:[new Oc(P,Pe)]));if(0===I.length&&0===ee.length)return(0,ct.of)([new Oc(P,[])]);const ue=Gs(r)===c;return this.processSegment(D,I,J,ee,ue?Ht:c,!0).pipe((0,mt.U)(Pe=>[new Oc(P,Pe)]))}))))}getChildConfig(e,t,r){return t.children?(0,ct.of)({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?(0,ct.of)({routes:t._loadedRoutes,injector:t._loadedInjector}):function w0(n,e,t,r){const i=e.canLoad;if(void 0===i||0===i.length)return(0,ct.of)(!0);const c=i.map(l=>{const g=tu(l,n);return yd(function jD(n){return n&&zm(n.canLoad)}(g)?g.canLoad(e,t):n.runInContext(()=>g(e,t)))});return(0,ct.of)(c).pipe($m(),gx())}(e,t,r).pipe((0,mi.zg)(i=>i?this.configLoader.loadChildren(e,t).pipe((0,br.b)(c=>{t._loadedRoutes=c.routes,t._loadedInjector=c.injector})):function YD(n){return(0,md._)(b0(!1,3))}())):(0,ct.of)({routes:[],injector:e})}}function D0(n){const e=n.value.routeConfig;return e&&""===e.path}function wx(n){const e=[],t=new Set;for(const r of n){if(!D0(r)){e.push(r);continue}const i=e.find(c=>r.value.routeConfig===c.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=wx(r.children);e.push(new Oc(r.value,i))}return e.filter(r=>!t.has(r))}function xx(n){return n.data||{}}function Wm(n){return n.resolve||{}}function S0(n){return"string"==typeof n.title||null===n.title}function M0(n){return(0,dr.w)(e=>{const t=n(e);return t?(0,Sn.D)(t).pipe((0,mt.U)(()=>e)):(0,ct.of)(e)})}const Tf=new f.OlP("ROUTES");let Ey=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,f.f3M)(f.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return(0,ct.of)(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=yd(t.loadComponent()).pipe((0,mt.U)(Dx),(0,br.b)(c=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=c}),ls(()=>{this.componentLoaders.delete(t)})),i=new aD.c(r,()=>new Mc.xQ).pipe((0,Vw.x)());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return(0,ct.of)({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const c=function Ax(n,e,t,r){return yd(n.loadChildren()).pipe((0,mt.U)(Dx),(0,mi.zg)(i=>i instanceof f.YKP||Array.isArray(i)?(0,ct.of)(i):(0,Sn.D)(e.compileModuleAsync(i))),(0,mt.U)(i=>{r&&r(n);let c,l,g=!1;return Array.isArray(i)?(l=i,!0):(c=i.create(t).injector,l=c.get(Tf,[],{optional:!0,self:!0}).flat()),{routes:l.map(py),injector:c}}))}(r,this.compiler,t,this.onLoadEndListener).pipe(ls(()=>{this.childrenLoaders.delete(r)})),l=new aD.c(c,()=>new Mc.xQ).pipe((0,Vw.x)());return this.childrenLoaders.set(r,l),l}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Dx(n){return function Km(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Ym=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Mc.xQ,this.transitionAbortSubject=new Mc.xQ,this.configLoader=(0,f.f3M)(Ey),this.environmentInjector=(0,f.f3M)(f.lqb),this.urlSerializer=(0,f.f3M)(Rc),this.rootContexts=(0,f.f3M)(Lm),this.inputBindingEnabled=null!==(0,f.f3M)(fy,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,ct.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new CD(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new Jw(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t,r,i){return this.transitions=new hs.X({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:t.urlHandlingStrategy.extract(r),urlAfterRedirects:t.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:gf,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(wn(c=>0!==c.id),(0,mt.U)(c=>({...c,extractedUrl:t.urlHandlingStrategy.extract(c.rawUrl)})),(0,dr.w)(c=>{this.currentTransition=c;let l=!1,g=!1;return(0,ct.of)(c).pipe((0,br.b)(y=>{this.currentNavigation={id:y.id,initialUrl:y.rawUrl,extractedUrl:y.extractedUrl,trigger:y.source,extras:y.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,dr.w)(y=>{const I=y.currentBrowserUrl.toString(),D=!t.navigated||y.extractedUrl.toString()!==I||I!==y.currentUrlTree.toString();if(!D&&"reload"!==(y.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const N="";return this.events.next(new ko(y.id,this.urlSerializer.serialize(y.rawUrl),N,0)),y.resolve(null),Sc.E}if(t.urlHandlingStrategy.shouldProcessUrl(y.rawUrl))return(0,ct.of)(y).pipe((0,dr.w)(N=>{const z=this.transitions?.getValue();return this.events.next(new km(N.id,this.urlSerializer.serialize(N.extractedUrl),N.source,N.restoredState)),z!==this.transitions?.getValue()?Sc.E:Promise.resolve(N)}),function Zm(n,e,t,r,i,c){return(0,mi.zg)(l=>function kc(n,e,t,r,i,c,l="emptyOnly"){return new QD(n,e,t,r,i,l,c).recognize()}(n,e,t,r,l.extractedUrl,i,c).pipe((0,mt.U)(({state:g,tree:y})=>({...l,targetSnapshot:g,urlAfterRedirects:y}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,br.b)(N=>{c.targetSnapshot=N.targetSnapshot,c.urlAfterRedirects=N.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:N.urlAfterRedirects};const z=new Xw(N.id,this.urlSerializer.serialize(N.extractedUrl),this.urlSerializer.serialize(N.urlAfterRedirects),N.targetSnapshot);this.events.next(z)}));if(D&&t.urlHandlingStrategy.shouldProcessUrl(y.currentRawUrl)){const{id:N,extractedUrl:z,source:J,restoredState:ee,extras:ue}=y,Pe=new km(N,this.urlSerializer.serialize(z),J,ee);this.events.next(Pe);const Le=xd(0,this.rootComponentType).snapshot;return this.currentTransition=c={...y,targetSnapshot:Le,urlAfterRedirects:z,extras:{...ue,skipLocationChange:!1,replaceUrl:!1}},(0,ct.of)(c)}{const N="";return this.events.next(new ko(y.id,this.urlSerializer.serialize(y.extractedUrl),N,1)),y.resolve(null),Sc.E}}),(0,br.b)(y=>{const I=new QO(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot);this.events.next(I)}),(0,mt.U)(y=>(this.currentTransition=c={...y,guards:E0(y.targetSnapshot,y.currentSnapshot,this.rootContexts)},c)),function I0(n,e){return(0,mi.zg)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:c,canDeactivateChecks:l}}=t;return 0===l.length&&0===c.length?(0,ct.of)({...t,guardsResult:!0}):function px(n,e,t,r){return(0,Sn.D)(n).pipe((0,mi.zg)(i=>function ZD(n,e,t,r,i){const c=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!c||0===c.length)return(0,ct.of)(!0);const l=c.map(g=>{const y=Ra(e)??i,I=tu(g,y);return yd(function hx(n){return n&&zm(n.canDeactivate)}(I)?I.canDeactivate(n,e,t,r):y.runInContext(()=>I(n,e,t,r))).pipe(Pc())});return(0,ct.of)(l).pipe($m())}(i.component,i.route,t,e,r)),Pc(i=>!0!==i,!0))}(l,r,i,n).pipe((0,mi.zg)(g=>g&&function UD(n){return"boolean"==typeof n}(g)?function $D(n,e,t,r){return(0,Sn.D)(e).pipe(js(i=>W_(function qD(n,e){return null!==n&&e&&e(new XO(n)),(0,ct.of)(!0)}(i.route.parent,r),function GD(n,e){return null!==n&&e&&e(new TD(n)),(0,ct.of)(!0)}(i.route,r),function WD(n,e,t){const r=e[e.length-1],c=e.slice(0,e.length-1).reverse().map(l=>function ux(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(l)).filter(l=>null!==l).map(l=>Ow(()=>{const g=l.guards.map(y=>{const I=Ra(l.node)??t,D=tu(y,I);return yd(function dx(n){return n&&zm(n.canActivateChild)}(D)?D.canActivateChild(r,n):I.runInContext(()=>D(r,n))).pipe(Pc())});return(0,ct.of)(g).pipe($m())}));return(0,ct.of)(c).pipe($m())}(n,i.path,t),function mx(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return(0,ct.of)(!0);const i=r.map(c=>Ow(()=>{const l=Ra(e)??t,g=tu(c,l);return yd(function HD(n){return n&&zm(n.canActivate)}(g)?g.canActivate(e,n):l.runInContext(()=>g(e,n))).pipe(Pc())}));return(0,ct.of)(i).pipe($m())}(n,i.route,t))),Pc(i=>!0!==i,!0))}(r,c,n,e):(0,ct.of)(g)),(0,mt.U)(g=>({...t,guardsResult:g})))})}(this.environmentInjector,y=>this.events.next(y)),(0,br.b)(y=>{if(c.guardsResult=y.guardsResult,$s(y.guardsResult))throw RD(0,y.guardsResult);const I=new xD(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot,!!y.guardsResult);this.events.next(I)}),wn(y=>!!y.guardsResult||(this.cancelNavigationTransition(y,"",3),!1)),M0(y=>{if(y.guards.canActivateChecks.length)return(0,ct.of)(y).pipe((0,br.b)(I=>{const D=new f0(I.id,this.urlSerializer.serialize(I.extractedUrl),this.urlSerializer.serialize(I.urlAfterRedirects),I.targetSnapshot);this.events.next(D)}),(0,dr.w)(I=>{let D=!1;return(0,ct.of)(I).pipe(function Cx(n,e){return(0,mi.zg)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return(0,ct.of)(t);let c=0;return(0,Sn.D)(i).pipe(js(l=>function by(n,e,t,r){const i=n.routeConfig,c=n._resolve;return void 0!==i?.title&&!S0(i)&&(c[Am]=i.title),function r1(n,e,t,r){const i=function eS(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return(0,ct.of)({});const c={};return(0,Sn.D)(i).pipe((0,mi.zg)(l=>function Tx(n,e,t,r){const i=Ra(e)??r,c=tu(n,i);return yd(c.resolve?c.resolve(e,t):i.runInContext(()=>c(e,t)))}(n[l],e,t,r).pipe(Pc(),(0,br.b)(g=>{c[l]=g}))),ps(1),function uD(n){return e=>e.lift(new Lw(n))}(c),_d(l=>fx(l)?Sc.E:(0,md._)(l)))}(c,n,e,r).pipe((0,mt.U)(l=>(n._resolvedData=l,n.data=nx(n,t).resolve,i&&S0(i)&&(n.data[Am]=i.title),null)))}(l.route,r,n,e)),(0,br.b)(()=>c++),ps(1),(0,mi.zg)(l=>c===i.length?(0,ct.of)(t):Sc.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,br.b)({next:()=>D=!0,complete:()=>{D||this.cancelNavigationTransition(I,"",2)}}))}),(0,br.b)(I=>{const D=new Pa(I.id,this.urlSerializer.serialize(I.extractedUrl),this.urlSerializer.serialize(I.urlAfterRedirects),I.targetSnapshot);this.events.next(D)}))}),M0(y=>{const I=D=>{const P=[];D.routeConfig?.loadComponent&&!D.routeConfig._loadedComponent&&P.push(this.configLoader.loadComponent(D.routeConfig).pipe((0,br.b)(N=>{D.component=N}),(0,mt.U)(()=>{})));for(const N of D.children)P.push(...I(N));return P};return af(I(y.targetSnapshot.root)).pipe(K_(),Jl(1))}),M0(()=>this.afterPreactivation()),(0,mt.U)(y=>{const I=function MD(n,e,t){const r=Ef(n,e._root,t?t._root:void 0);return new y0(r,e)}(t.routeReuseStrategy,y.targetSnapshot,y.currentRouterState);return this.currentTransition=c={...y,targetRouterState:I},c}),(0,br.b)(()=>{this.events.next(new m0)}),((n,e,t,r)=>(0,mt.U)(i=>(new lx(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)))(this.rootContexts,t.routeReuseStrategy,y=>this.events.next(y),this.inputBindingEnabled),Jl(1),(0,br.b)({next:y=>{l=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Id(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects))),t.titleStrategy?.updateTitle(y.targetRouterState.snapshot),y.resolve(!0)},complete:()=>{l=!0}}),Bw(this.transitionAbortSubject.pipe((0,br.b)(y=>{throw y}))),ls(()=>{l||g||this.cancelNavigationTransition(c,"",1),this.currentNavigation?.id===c.id&&(this.currentNavigation=null)}),_d(y=>{if(g=!0,OD(y))this.events.next(new wd(c.id,this.urlSerializer.serialize(c.extractedUrl),y.message,y.cancellationCode)),function ox(n){return OD(n)&&$s(n.url)}(y)?this.events.next(new Fm(y.url)):c.resolve(!1);else{this.events.next(new _f(c.id,this.urlSerializer.serialize(c.extractedUrl),y,c.targetSnapshot??void 0));try{c.resolve(t.errorHandler(y))}catch(I){c.reject(I)}}return Sc.E}))}))}cancelNavigationTransition(t,r,i){const c=new wd(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(c),t.resolve(!1)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function P0(n){return n!==gf}let Sx=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(c=>c.outlet===Ht);return r}getResolvedTitleForRoute(t){return t.data[Am]}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=f.Yz7({token:n,factory:function(){return(0,f.f3M)(tS)},providedIn:"root"})}return n})(),tS=(()=>{class n extends Sx{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||n)(f.LFG(Wu))};static#t=this.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Qm=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=f.Yz7({token:n,factory:function(){return(0,f.f3M)(rS)},providedIn:"root"})}return n})();class nS{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let rS=(()=>{class n extends nS{static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=f.n5z(n)))(i||n)}}();static#t=this.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Iy=new f.OlP("",{providedIn:"root",factory:()=>({})});let iS=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=f.Yz7({token:n,factory:function(){return(0,f.f3M)(oS)},providedIn:"root"})}return n})(),oS=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Xm=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Xm||{});function Mx(n,e){n.events.pipe(wn(t=>t instanceof Id||t instanceof wd||t instanceof _f||t instanceof ko),(0,mt.U)(t=>t instanceof Id||t instanceof ko?Xm.COMPLETE:t instanceof wd&&(0===t.code||1===t.code)?Xm.REDIRECTING:Xm.FAILED),wn(t=>t!==Xm.REDIRECTING),Jl(1)).subscribe(()=>{e()})}function sS(n){throw n}function Px(n,e,t){return e.parse("/")}const R0={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},aS={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ki=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,f.f3M)(f.c2e),this.isNgZoneEnabled=!1,this._events=new Mc.xQ,this.options=(0,f.f3M)(Iy,{optional:!0})||{},this.pendingTasks=(0,f.f3M)(f.HDt),this.errorHandler=this.options.errorHandler||sS,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Px,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,f.f3M)(iS),this.routeReuseStrategy=(0,f.f3M)(Qm),this.titleStrategy=(0,f.f3M)(Sx),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,f.f3M)(Tf,{optional:!0})?.flat()??[],this.navigationTransitions=(0,f.f3M)(Ym),this.urlSerializer=(0,f.f3M)(Rc),this.location=(0,f.f3M)(Fe),this.componentInputBindingEnabled=!!(0,f.f3M)(fy,{optional:!0}),this.eventsSubscription=new Zh.w,this.isNgZoneEnabled=(0,f.f3M)(f.R0b)instanceof f.R0b&&f.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new zs,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=xd(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(Rx(r)&&this._events.next(r));if(r instanceof km)P0(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof ko)this.rawUrlTree=i.rawUrl;else if(r instanceof Xw){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const c=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(c,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof m0)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof wd)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof Fm){const c=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||P0(i.source)};this.scheduleNavigation(c,gf,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof _f&&this.restoreHistory(i,!0),r instanceof Id&&(this.navigated=!0),Rx(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),gf,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const c={replaceUrl:!0},l=i?.navigationId?i:null;if(i){const y={...i};delete y.navigationId,delete y.\u0275routerPageId,0!==Object.keys(y).length&&(c.state=y)}const g=this.parseUrl(t);this.scheduleNavigation(g,r,l,c)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(py),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){const{relativeTo:i,queryParams:c,fragment:l,queryParamsHandling:g,preserveFragment:y}=r,I=y?this.currentUrlTree.fragment:l;let P,D=null;switch(g){case"merge":D={...this.currentUrlTree.queryParams,...c};break;case"preserve":D=this.currentUrlTree.queryParams;break;default:D=c||null}null!==D&&(D=this.removeEmptyProps(D));try{P=c0(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),P=this.currentUrlTree.root}return Kw(P,t,D,I??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=$s(t)?t:this.parseUrl(t),c=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(c,gf,null,r)}navigate(t,r={skipLocationChange:!1}){return function cS(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new f.vHH(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...R0}:!1===r?{...aS}:r,$s(t))return ty(this.currentUrlTree,t,i);const c=this.parseUrl(t);return ty(this.currentUrlTree,c,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const c=t[i];return null!=c&&(r[i]=c),r},{})}scheduleNavigation(t,r,i,c,l){if(this.disposed)return Promise.resolve(!1);let g,y,I;l?(g=l.resolve,y=l.reject,I=l.promise):I=new Promise((P,N)=>{g=P,y=N});const D=this.pendingTasks.add();return Mx(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(D))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:t,extras:c,resolve:g,reject:y,promise:I,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),I.catch(P=>Promise.reject(P))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const l={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",l)}else{const c={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",c)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const c=this.currentPageId-this.browserPageId;0!==c?this.location.historyGo(c):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===c&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Rx(n){return!(n instanceof m0||n instanceof Fm)}class Ox{}let Nx=(()=>{class n{constructor(t,r,i,c,l){this.router=t,this.injector=i,this.preloadingStrategy=c,this.loader=l}setUpPreloading(){this.subscription=this.router.events.pipe(wn(t=>t instanceof Id),js(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const c of r){c.providers&&!c._injector&&(c._injector=(0,f.MMx)(c.providers,t,`Route: ${c.path}`));const l=c._injector??t,g=c._loadedInjector??l;(c.loadChildren&&!c._loadedRoutes&&void 0===c.canLoad||c.loadComponent&&!c._loadedComponent)&&i.push(this.preloadConfig(l,c)),(c.children||c._loadedRoutes)&&i.push(this.processRoutes(g,c.children??c._loadedRoutes))}return(0,Sn.D)(i).pipe((0,cf.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):(0,ct.of)(null);const c=i.pipe((0,mi.zg)(l=>null===l?(0,ct.of)(void 0):(r._loadedRoutes=l.routes,r._loadedInjector=l.injector,this.processRoutes(l.injector??t,l.routes))));if(r.loadComponent&&!r._loadedComponent){const l=this.loader.loadComponent(r);return(0,Sn.D)([c,l]).pipe((0,cf.J)())}return c})}static#e=this.\u0275fac=function(r){return new(r||n)(f.LFG(ki),f.LFG(f.Sil),f.LFG(f.lqb),f.LFG(Ox),f.LFG(Ey))};static#t=this.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const N0=new f.OlP("");let hS=(()=>{class n{constructor(t,r,i,c,l={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=c,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration=l.scrollPositionRestoration||"disabled",l.anchorScrolling=l.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof km?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Id?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof ko&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof ex&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new ex(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){f.$Z()};static#t=this.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac})}return n})();function nu(n,e){return{\u0275kind:n,\u0275providers:e}}function Fx(){const n=(0,f.f3M)(f.zs3);return e=>{const t=n.get(f.z2F);if(e!==t.components[0])return;const r=n.get(ki),i=n.get(Ws);1===n.get(Cd)&&r.initialNavigation(),n.get(Lo,null,f.XFs.Optional)?.setUpPreloading(),n.get(N0,null,f.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const Ws=new f.OlP("",{factory:()=>new Mc.xQ}),Cd=new f.OlP("",{providedIn:"root",factory:()=>1}),Lo=new f.OlP("");function L0(n){return nu(0,[{provide:Lo,useExisting:Nx},{provide:Ox,useExisting:n}])}const Ad=new f.OlP("ROUTER_FORROOT_GUARD"),Df=[Fe,{provide:Rc,useClass:r0},ki,Lm,{provide:io,useFactory:function k0(n){return n.routerState.root},deps:[ki]},Ey,[]];function Sf(){return new f.PXZ("Router",ki)}let Dd=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[Df,[],{provide:Tf,multi:!0,useValue:t},{provide:Ad,useFactory:Ux,deps:[[ki,new f.FiY,new f.tp0]]},{provide:Iy,useValue:r||{}},r?.useHash?{provide:oe,useClass:pe}:{provide:oe,useClass:at},{provide:N0,useFactory:()=>{const n=(0,f.f3M)(Ds),e=(0,f.f3M)(f.R0b),t=(0,f.f3M)(Iy),r=(0,f.f3M)(Ym),i=(0,f.f3M)(Rc);return t.scrollOffset&&n.setOffset(t.scrollOffset),new hS(i,r,n,e,t)}},r?.preloadingStrategy?L0(r.preloadingStrategy).\u0275providers:[],{provide:f.PXZ,multi:!0,useFactory:Sf},r?.initialNavigation?jx(r):[],r?.bindToComponentInputs?nu(8,[rx,{provide:fy,useExisting:rx}]).\u0275providers:[],[{provide:V0,useFactory:Fx},{provide:f.tb,multi:!0,useExisting:V0}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Tf,multi:!0,useValue:t}]}}static#e=this.\u0275fac=function(r){return new(r||n)(f.LFG(Ad,8))};static#t=this.\u0275mod=f.oAB({type:n});static#n=this.\u0275inj=f.cJS({})}return n})();function Ux(n){return"guarded"}function jx(n){return["disabled"===n.initialNavigation?nu(3,[{provide:f.ip1,multi:!0,useFactory:()=>{const e=(0,f.f3M)(ki);return()=>{e.setUpLocationChangeListener()}}},{provide:Cd,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?nu(2,[{provide:Cd,useValue:0},{provide:f.ip1,multi:!0,deps:[f.zs3],useFactory:e=>{const t=e.get(de,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(ki),c=e.get(Ws);Mx(i,()=>{r(!0)}),e.get(Ym).afterPreactivation=()=>(r(!0),c.closed?(0,ct.of)(void 0):c),i.initialNavigation()}))}}]).\u0275providers:[]]}const V0=new f.OlP("");var be=F(5861),$x=F(435),ni=F(4503);function B0(){return n=>n.lift(new l1)}class l1{call(e,t){return t.subscribe(new gS(e))}}class gS extends gi.L{constructor(e){super(e),this.hasPrev=!1}_next(e){let t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}var qe,_S=F(2068),Zs=F(6304),rg=(F(7367),F(3106)),Fc=F(6122),Sd=F(4537),ms=F(7879),en=F(9058),qx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ks={},U0=U0||{},kt=qx||self;function xy(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function ig(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Mf="closure_uid_"+(1e9*Math.random()>>>0),Cy=0;function u1(n,e,t){return n.call.apply(n.bind,arguments)}function yS(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function yi(n,e,t){return(yi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?u1:yS).apply(null,arguments)}function Pf(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Hr(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,c){for(var l=Array(arguments.length-2),g=2;g<arguments.length;g++)l[g-2]=arguments[g];return e.prototype[i].apply(r,l)}}function Lc(){this.s=this.s,this.o=this.o}Lc.prototype.s=!1,Lc.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function j0(n){Object.prototype.hasOwnProperty.call(n,Mf)&&n[Mf]||(n[Mf]=++Cy)}(this)},Lc.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Wx=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function Ty(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function H0(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(xy(r)){const i=n.length||0,c=r.length||0;n.length=i+c;for(let l=0;l<c;l++)n[i+l]=r[l]}else n.push(r)}}function ri(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}ri.prototype.h=function(){this.defaultPrevented=!0};var bS=function(){if(!kt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{kt.addEventListener("test",()=>{},e),kt.removeEventListener("test",()=>{},e)}catch{}return n}();function og(n){return/^[\s\xa0]*$/.test(n)}function Ay(){var n=kt.navigator;return n&&(n=n.userAgent)?n:""}function Oa(n){return-1!=Ay().indexOf(n)}function sg(n){return sg[" "](n),n}sg[" "]=function(){};var G0,n,ES=Oa("Opera"),Vc=Oa("Trident")||Oa("MSIE"),ag=Oa("Edge"),cg=ag||Vc,$0=Oa("Gecko")&&!(-1!=Ay().toLowerCase().indexOf("webkit")&&!Oa("Edge"))&&!(Oa("Trident")||Oa("MSIE"))&&!Oa("Edge"),IS=-1!=Ay().toLowerCase().indexOf("webkit")&&!Oa("Edge");function Zx(){var n=kt.document;return n?n.documentMode:void 0}e:{var lg="",ug=(n=Ay(),$0?/rv:([^\);]+)(\)|;)/.exec(n):ag?/Edge\/([\d\.]+)/.exec(n):Vc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):IS?/WebKit\/(\S+)/.exec(n):ES?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(ug&&(lg=ug?ug[1]:""),Vc){var Dy=Zx();if(null!=Dy&&Dy>parseFloat(lg)){G0=String(Dy);break e}}G0=lg}var wS=kt.document&&Vc&&(Zx()||parseInt(G0,10))||void 0;function Rf(n,e){if(ri.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if($0){e:{try{sg(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:q0[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Rf.$.h.call(this)}}Hr(Rf,ri);var q0={2:"touch",3:"pen",4:"mouse"};Rf.prototype.h=function(){Rf.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Of="closure_listenable_"+(1e6*Math.random()|0),W0=0;function Yx(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++W0,this.fa=this.ia=!1}function My(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function Py(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function Z0(n){const e={};for(const t in n)e[t]=n[t];return e}const K0="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Xx(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let c=0;c<K0.length;c++)t=K0[c],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function dg(n){this.src=n,this.g={},this.h=0}function Ry(n,e){var t=e.type;if(t in n.g){var c,r=n.g[t],i=Wx(r,e);(c=0<=i)&&Array.prototype.splice.call(r,i,1),c&&(My(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Oy(n,e,t,r){for(var i=0;i<n.length;++i){var c=n[i];if(!c.fa&&c.listener==e&&c.capture==!!t&&c.la==r)return i}return-1}dg.prototype.add=function(n,e,t,r,i){var c=n.toString();(n=this.g[c])||(n=this.g[c]=[],this.h++);var l=Oy(n,e,r,i);return-1<l?(e=n[l],t||(e.ia=!1)):((e=new Yx(e,this.src,c,!!r,i)).ia=t,n.push(e)),e};var hg="closure_lm_"+(1e6*Math.random()|0),Ny={};function Y0(n,e,t,r,i){if(r&&r.once)return X0(n,e,t,r,i);if(Array.isArray(e)){for(var c=0;c<e.length;c++)Y0(n,e[c],t,r,i);return null}return t=nE(t),n&&n[Of]?n.O(e,t,ig(r)?!!r.capture:!!r,i):Q0(n,e,t,!1,r,i)}function Q0(n,e,t,r,i,c){if(!e)throw Error("Invalid event type");var l=ig(i)?!!i.capture:!!i,g=Na(n);if(g||(n[hg]=g=new dg(n)),(t=g.add(e,t,r,l,c)).proxy)return t;if(r=function Jx(){const e=Fy;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)bS||(i=l),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(eE(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function X0(n,e,t,r,i){if(Array.isArray(e)){for(var c=0;c<e.length;c++)X0(n,e[c],t,r,i);return null}return t=nE(t),n&&n[Of]?n.P(e,t,ig(r)?!!r.capture:!!r,i):Q0(n,e,t,!0,r,i)}function J0(n,e,t,r,i){if(Array.isArray(e))for(var c=0;c<e.length;c++)J0(n,e[c],t,r,i);else r=ig(r)?!!r.capture:!!r,t=nE(t),n&&n[Of]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Oy(c=n.g[e],t,r,i))&&(My(c[t]),Array.prototype.splice.call(c,t,1),0==c.length&&(delete n.g[e],n.h--))):n&&(n=Na(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Oy(e,t,r,i)),(t=-1<n?e[n]:null)&&ky(t))}function ky(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[Of])Ry(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(eE(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Na(e))?(Ry(t,n),0==t.h&&(t.src=null,e[hg]=null)):My(n)}}}function eE(n){return n in Ny?Ny[n]:Ny[n]="on"+n}function Fy(n,e){if(n.fa)n=!0;else{e=new Rf(e,this);var t=n.listener,r=n.la||n.src;n.ia&&ky(n),n=t.call(r,e)}return n}function Na(n){return(n=n[hg])instanceof dg?n:null}var tE="__closure_events_fn_"+(1e9*Math.random()>>>0);function nE(n){return"function"==typeof n?n:(n[tE]||(n[tE]=function(e){return n.handleEvent(e)}),n[tE])}function Ir(){Lc.call(this),this.i=new dg(this),this.S=this,this.J=null}function qn(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new ri(e,n);else if(e instanceof ri)e.target=e.target||n;else{var i=e;Xx(e=new ri(r,n),i)}if(i=!0,t)for(var c=t.length-1;0<=c;c--){var l=e.g=t[c];i=Nf(l,r,!0,e)&&i}if(i=Nf(l=e.g=n,r,!0,e)&&i,i=Nf(l,r,!1,e)&&i,t)for(c=0;c<t.length;c++)i=Nf(l=e.g=t[c],r,!1,e)&&i}function Nf(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,c=0;c<e.length;++c){var l=e[c];if(l&&!l.fa&&l.capture==t){var g=l.listener,y=l.la||l.src;l.ia&&Ry(n.i,l),i=!1!==g.call(y,r)&&i}}return i&&!r.defaultPrevented}Hr(Ir,Lc),Ir.prototype[Of]=!0,Ir.prototype.removeEventListener=function(n,e,t,r){J0(this,n,e,t,r)},Ir.prototype.N=function(){if(Ir.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)My(t[r]);delete n.g[e],n.h--}}this.J=null},Ir.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Ir.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var rE=kt.JSON.stringify;function d1(){var n=oE;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var eC=new class iE{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new xS,n=>n.reset());class xS{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function tC(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function CS(n){kt.setTimeout(()=>{throw n},0)}let Wn,kf=!1,oE=new class h1{constructor(){this.h=this.g=null}add(e,t){const r=eC.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},nC=()=>{const n=kt.Promise.resolve(void 0);Wn=()=>{n.then(rC)}};var rC=()=>{for(var n;n=d1();){try{n.h.call(n.g)}catch(t){CS(t)}var e=eC;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}kf=!1};function Ly(n,e){Ir.call(this),this.h=n||1,this.g=e||kt,this.j=yi(this.qb,this),this.l=Date.now()}function Vy(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function By(n,e,t){if("function"==typeof n)t&&(n=yi(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=yi(n.handleEvent,n)}return 2147483647<Number(e)?-1:kt.setTimeout(n,e||0)}function Md(n){n.g=By(()=>{n.g=null,n.i&&(n.i=!1,Md(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Hr(Ly,Ir),(qe=Ly.prototype).ga=!1,qe.T=null,qe.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),qn(this,"tick"),this.ga&&(Vy(this),this.start()))}},qe.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},qe.N=function(){Ly.$.N.call(this),Vy(this),delete this.g};class TS extends Lc{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Md(this)}N(){super.N(),this.g&&(kt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fg(n){Lc.call(this),this.h=n,this.g={}}Hr(fg,Lc);var sE=[];function iC(n,e,t,r){Array.isArray(t)||(t&&(sE[0]=t.toString()),t=sE);for(var i=0;i<t.length;i++){var c=Y0(e,t[i],r||n.handleEvent,!1,n.h||n);if(!c)break;n.g[c.key]=c}}function aE(n){Py(n.g,function(e,t){this.g.hasOwnProperty(t)&&ky(e)},n),n.g={}}function cE(){this.g=!0}function Fi(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function DS(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var c=i[0];if("noop"!=c&&"stop"!=c&&"close"!=c)for(var l=1;l<i.length;l++)i[l]=""}}}return rE(t)}catch{return e}}(n,t)+(r?" "+r:"")})}fg.prototype.N=function(){fg.$.N.call(this),aE(this)},fg.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},cE.prototype.Ea=function(){this.g=!1},cE.prototype.info=function(){};var vi={},gs=null;function oo(){return gs=gs||new Ir}function uE(n){ri.call(this,vi.Ta,n)}function Ff(n){const e=oo();qn(e,new uE(e))}function sC(n,e){ri.call(this,vi.STAT_EVENT,n),this.stat=e}function Li(n){const e=oo();qn(e,new sC(e,n))}function aC(n,e){ri.call(this,vi.Ua,n),this.size=e}function pg(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return kt.setTimeout(function(){n()},e)}vi.Ta="serverreachability",Hr(uE,ri),vi.STAT_EVENT="statevent",Hr(sC,ri),vi.Ua="timingevent",Hr(aC,ri);var Lf={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Vf={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function dE(){}function cC(){}dE.prototype.h=null;var Bf,mg={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Uy(){ri.call(this,"d")}function jy(){ri.call(this,"c")}function Hy(){}function Uf(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new fg(this),this.P=lC,this.V=new Ly(n=cg?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new fE}function fE(){this.i=null,this.g="",this.h=!1}Hr(Uy,ri),Hr(jy,ri),Hr(Hy,dE),Hy.prototype.g=function(){return new XMLHttpRequest},Hy.prototype.i=function(){return{}},Bf=new Hy;var lC=45e3,pE={},zy={};function gg(n,e,t){n.L=1,n.v=Wy(Bc(e)),n.s=t,n.S=!0,$y(n,null)}function $y(n,e){n.G=Date.now(),jf(n),n.A=Bc(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),EE(t.i,"t",r),n.C=0,t=n.l.J,n.h=new fE,n.g=RE(n.l,t?e:null,!n.s),0<n.O&&(n.M=new TS(yi(n.Pa,n,n.g),n.O)),iC(n.U,n.g,"readystatechange",n.nb),e=n.I?Z0(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),Ff(),function oC(n,e,t,r,i,c){n.info(function(){if(n.g)if(c)for(var l="",g=c.split("&"),y=0;y<g.length;y++){var I=g[y].split("=");if(1<I.length){var D=I[0];I=I[1];var P=D.split("_");l=2<=P.length&&"type"==P[1]?l+(D+"=")+I+"&":l+(D+"=redacted&")}}else l=null;else l=c;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+l})}(n.j,n.u,n.A,n.m,n.W,n.s)}function mE(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function gE(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=uC(n,t),i==zy){4==e&&(n.o=4,Li(14),r=!1),Fi(n.j,n.m,null,"[Incomplete Response]");break}if(i==pE){n.o=4,Li(15),Fi(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Fi(n.j,n.m,i,null),yE(n,i)}mE(n)&&i!=zy&&i!=pE&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Li(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),ME(e),e.M=!0,Li(11))):(Fi(n.j,n.m,t,"[Invalid Chunked Response]"),ru(n),Hf(n))}function uC(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?zy:(t=Number(e.substring(t,r)),isNaN(t)?pE:(r+=1)+t>e.length?zy:(e=e.slice(r,r+t),n.C=r+t,e))}function jf(n){n.Y=Date.now()+n.P,_E(n,n.P)}function _E(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=pg(yi(n.lb,n),e)}function _g(n){n.B&&(kt.clearTimeout(n.B),n.B=null)}function Hf(n){0==n.l.H||n.J||MC(n.l,n)}function ru(n){_g(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,Vy(n.V),aE(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function yE(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||EC(t.i,n)))if(!n.K&&EC(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;Jy(t),Qy(t)}Xy(t),Li(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.G&&0==t.A&&!t.v&&(t.v=pg(yi(t.ib,t),6e3));if(1>=Od(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Zf(t,11)}else if((n.K||t.g==n)&&Jy(t),!og(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let I=i[e];if(t.V=I[0],I=I[1],2==t.H)if("c"==I[0]){t.K=I[1],t.pa=I[2];const D=I[3];null!=D&&(t.ra=D,t.l.info("VER="+t.ra));const P=I[4];null!=P&&(t.Ga=P,t.l.info("SVER="+t.Ga));const N=I[5];null!=N&&"number"==typeof N&&0<N&&(t.L=r=1.5*N,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const z=n.g;if(z){const J=z.g?z.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(J){var c=r.i;c.g||-1==J.indexOf("spdy")&&-1==J.indexOf("quic")&&-1==J.indexOf("h2")||(c.j=c.l,c.g=new Set,c.h&&(bg(c,c.h),c.h=null))}if(r.F){const ee=z.g?z.g.getResponseHeader("X-HTTP-Session-Id"):null;ee&&(r.Da=ee,Ln(r.I,r.F,ee))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var l=n;if((r=t).wa=HS(r,r.J?r.pa:null,r.Y),l.K){kS(r.i,l);var g=l,y=r.L;y&&g.setTimeout(y),g.B&&(_g(g),jf(g)),r.g=l}else SE(r);0<t.j.length&&su(t)}else"stop"!=I[0]&&"close"!=I[0]||Zf(t,7);else 3==t.H&&("stop"==I[0]||"close"==I[0]?"stop"==I[0]?Zf(t,7):Yy(t):"noop"!=I[0]&&t.h&&t.h.Aa(I),t.A=0)}Ff()}catch{}}function dC(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(xy(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function MS(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(xy(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function SS(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(xy(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,c=0;c<i;c++)e.call(void 0,r[c],t&&t[c],n)}(qe=Uf.prototype).setTimeout=function(n){this.P=n},qe.nb=function(n){n=n.target;const e=this.M;e&&3==so(n)?e.l():this.Pa(n)},qe.Pa=function(n){try{if(n==this.g)e:{const D=so(this.g);var e=this.g.Ia();if(this.g.da(),!(3>D)&&(3!=D||cg||this.g&&(this.h.h||this.g.ja()||AC(this.g)))){this.J||4!=D||7==e||Ff(),_g(this);var t=this.g.da();this.ca=t;t:if(mE(this)){var r=AC(this.g);n="";var i=r.length,c=4==so(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ru(this),Hf(this);var l="";break t}this.h.i=new kt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:c&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,l=this.h.g}else l=this.g.ja();if(this.i=200==t,function lE(n,e,t,r,i,c,l){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+c+" "+l})}(this.j,this.u,this.A,this.m,this.W,D,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var g,y=this.g;if((g=y.g?y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!og(g)){var I=g;break t}}I=null}if(!(t=I)){this.i=!1,this.o=3,Li(12),ru(this),Hf(this);break e}Fi(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,yE(this,t)}this.S?(gE(this,D,l),cg&&this.i&&3==D&&(iC(this.U,this.V,"tick",this.mb),this.V.start())):(Fi(this.j,this.m,l,null),yE(this,l)),4==D&&ru(this),this.i&&!this.J&&(4==D?MC(this.l,this):(this.i=!1,jf(this)))}else(function VS(n){const e={};n=(n.g&&2<=so(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(og(n[r]))continue;var t=tC(n[r]);const i=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const c=e[i]||[];e[i]=c,c.push(t)}!function Qx(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<l.indexOf("Unknown SID")?(this.o=3,Li(12)):(this.o=0,Li(13)),ru(this),Hf(this)}}}catch{}},qe.mb=function(){if(this.g){var n=so(this.g),e=this.g.ja();this.C<e.length&&(_g(this),gE(this,n,e),this.i&&4!=n&&jf(this))}},qe.cancel=function(){this.J=!0,ru(this)},qe.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function AS(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Ff(),Li(17)),ru(this),this.o=2,Hf(this)):_E(this,this.Y-n)};var hC=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Pd(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Pd){this.h=n.h,Gy(this,n.j),this.s=n.s,this.g=n.g,qy(this,n.m),this.l=n.l;var e=n.i,t=new zf;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),fC(this,t),this.o=n.o}else n&&(e=String(n).match(hC))?(this.h=!1,Gy(this,e[1]||"",!0),this.s=yg(e[2]||""),this.g=yg(e[3]||"",!0),qy(this,e[4]),this.l=yg(e[5]||"",!0),fC(this,e[6]||"",!0),this.o=yg(e[7]||"")):(this.h=!1,this.i=new zf(null,this.h))}function Bc(n){return new Pd(n)}function Gy(n,e,t){n.j=t?yg(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function qy(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function fC(n,e,t){e instanceof zf?(n.i=e,function yC(n,e){e&&!n.j&&(Uc(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(vE(this,r),EE(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=vg(e,gC)),n.i=new zf(e,n.h))}function Ln(n,e,t){n.i.set(e,t)}function Wy(n){return Ln(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function yg(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function vg(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,RS),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function RS(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Pd.prototype.toString=function(){var n=[],e=this.j;e&&n.push(vg(e,pC,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(vg(e,pC,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(vg(t,"/"==t.charAt(0)?mC:OS,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",vg(t,_C)),n.join("")};var pC=/[#\/\?@]/g,OS=/[#\?:]/g,mC=/[#\?]/g,gC=/[#\?@]/g,_C=/#/g;function zf(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Uc(n){n.g||(n.g=new Map,n.h=0,n.i&&function PS(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var c=n[t].substring(0,r);i=n[t].substring(r+1)}else c=n[t];e(c,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function vE(n,e){Uc(n),e=Rd(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function bE(n,e){return Uc(n),e=Rd(n,e),n.g.has(e)}function EE(n,e,t){vE(n,e),0<t.length&&(n.i=null,n.g.set(Rd(n,e),Ty(t)),n.h+=t.length)}function Rd(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function iu(n){this.l=n||NS,n=kt.PerformanceNavigationTiming?0<(n=kt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(kt.g&&kt.g.Ka&&kt.g.Ka()&&kt.g.Ka().dc),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(qe=zf.prototype).add=function(n,e){Uc(this),this.i=null,n=Rd(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},qe.forEach=function(n,e){Uc(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},qe.ta=function(){Uc(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let c=0;c<i.length;c++)t.push(e[r])}return t},qe.Z=function(n){Uc(this);let e=[];if("string"==typeof n)bE(this,n)&&(e=e.concat(this.g.get(Rd(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},qe.set=function(n,e){return Uc(this),this.i=null,bE(this,n=Rd(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},qe.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},qe.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const c=encodeURIComponent(String(r)),l=this.Z(r);for(r=0;r<l.length;r++){var i=c;""!==l[r]&&(i+="="+encodeURIComponent(String(l[r]))),n.push(i)}}return this.i=n.join("&")};var NS=10;function bC(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Od(n){return n.h?1:n.g?n.g.size:0}function EC(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function bg(n,e){n.g?n.g.add(e):n.h=e}function kS(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function IE(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return Ty(n.i)}iu.prototype.cancel=function(){if(this.i=IE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var IC=class{stringify(n){return kt.JSON.stringify(n,void 0)}parse(n){return kt.JSON.parse(n,void 0)}};function f1(){this.g=new IC}function $f(n,e,t){const r=t||"";try{dC(n,function(i,c){let l=i;ig(i)&&(l=rE(i)),e.push(r+c+"="+encodeURIComponent(l))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Zy(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Eg(n){this.l=n.ec||null,this.j=n.ob||!1}function jc(n,e){Ir.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=wE,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Hr(Eg,dE),Eg.prototype.g=function(){return new jc(this.l,this.j)},Eg.prototype.i=function(n){return function(){return n}}({}),Hr(jc,Ir);var wE=0;function Ig(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function ou(n){n.readyState=4,n.l=null,n.j=null,n.A=null,zr(n)}function zr(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(qe=jc.prototype).open=function(n,e){if(this.readyState!=wE)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,zr(this)},qe.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||kt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},qe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ou(this)),this.readyState=wE},qe.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,zr(this)),this.g&&(this.readyState=3,zr(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof kt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ig(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},qe.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?ou(this):zr(this),3==this.readyState&&Ig(this)}},qe.Za=function(n){this.g&&(this.response=this.responseText=n,ou(this))},qe.Ya=function(n){this.g&&(this.response=n,ou(this))},qe.ka=function(){this.g&&ou(this)},qe.setRequestHeader=function(n,e){this.v.append(n,e)},qe.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},qe.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(jc.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var p1=kt.JSON.parse;function Zn(n){Ir.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=xE,this.L=this.M=!1}Hr(Zn,Ir);var xE="",LS=/^https?$/i,wC=["POST","PUT"];function CE(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,TE(n),Ky(n)}function TE(n){n.F||(n.F=!0,qn(n,"complete"),qn(n,"error"))}function CC(n){if(n.h&&typeof U0<"u"&&(!n.C[1]||4!=so(n)||2!=n.da()))if(n.v&&4==so(n))By(n.La,0,n);else if(qn(n,"readystatechange"),4==so(n)){n.h=!1;try{const l=n.da();e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===l){var i=String(n.I).match(hC)[1]||null;!i&&kt.self&&kt.self.location&&(i=kt.self.location.protocol.slice(0,-1)),r=!LS.test(i?i.toLowerCase():"")}t=r}if(t)qn(n,"complete"),qn(n,"success");else{n.m=6;try{var c=2<so(n)?n.g.statusText:""}catch{c=""}n.j=c+" ["+n.da()+"]",TE(n)}}finally{Ky(n)}}}function Ky(n,e){if(n.g){TC(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||qn(n,"ready");try{t.onreadystatechange=r}catch{}}}function TC(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(kt.clearTimeout(n.A),n.A=null)}function so(n){return n.g?n.g.readyState:0}function AC(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case xE:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function DC(n){let e="";return Py(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function Gf(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=DC(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Ln(n,e,t))}function qf(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function AE(n){this.Ga=0,this.j=[],this.l=new cE,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=qf("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=qf("baseRetryDelayMs",5e3,n),this.hb=qf("retryDelaySeedMs",1e4,n),this.eb=qf("forwardChannelMaxRetries",2,n),this.xa=qf("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.useFetchStreams||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new iu(n&&n.concurrentRequestLimit),this.Ja=new f1,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Yy(n){if(Wf(n),3==n.H){var e=n.W++,t=Bc(n.I);if(Ln(t,"SID",n.K),Ln(t,"RID",e),Ln(t,"TYPE","terminate"),wg(n,t),(e=new Uf(n,n.l,e)).L=2,e.v=Wy(Bc(t)),t=!1,kt.navigator&&kt.navigator.sendBeacon)try{t=kt.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&kt.Image&&((new Image).src=e.v,t=!0),t||(e.g=RE(e.l,null),e.g.ha(e.v)),e.G=Date.now(),jf(e)}jS(n)}function Qy(n){n.g&&(ME(n),n.g.cancel(),n.g=null)}function Wf(n){Qy(n),n.u&&(kt.clearTimeout(n.u),n.u=null),Jy(n),n.i.cancel(),n.m&&("number"==typeof n.m&&kt.clearTimeout(n.m),n.m=null)}function su(n){if(!bC(n.i)&&!n.m){n.m=!0;var e=n.Na;Wn||nC(),kf||(Wn(),kf=!0),oE.add(e,n),n.C=0}}function SC(n,e){var t;t=e?e.m:n.W++;const r=Bc(n.I);Ln(r,"SID",n.K),Ln(r,"RID",t),Ln(r,"AID",n.V),wg(n,r),n.o&&n.s&&Gf(r,n.o,n.s),t=new Uf(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=DE(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),bg(n.i,t),gg(t,r,e)}function wg(n,e){n.na&&Py(n.na,function(t,r){Ln(e,r,t)}),n.h&&dC({},function(t,r){Ln(e,r,t)})}function DE(n,e,t){t=Math.min(n.j.length,t);var r=n.h?yi(n.h.Va,n.h,n):null;e:{var i=n.j;let c=-1;for(;;){const l=["count="+t];-1==c?0<t?(c=i[0].g,l.push("ofs="+c)):c=0:l.push("ofs="+c);let g=!0;for(let y=0;y<t;y++){let I=i[y].g;const D=i[y].map;if(I-=c,0>I)c=Math.max(0,i[y].g-100),g=!1;else try{$f(D,l,"req"+I+"_")}catch{r&&r(D)}}if(g){r=l.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function SE(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;Wn||nC(),kf||(Wn(),kf=!0),oE.add(e,n),n.A=0}}function Xy(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=pg(yi(n.Ma,n),US(n,n.A)),n.A++,0))}function ME(n){null!=n.B&&(kt.clearTimeout(n.B),n.B=null)}function PE(n){n.g=new Uf(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Bc(n.wa);Ln(e,"RID","rpc"),Ln(e,"SID",n.K),Ln(e,"AID",n.V),Ln(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&Ln(e,"TO",n.qa),Ln(e,"TYPE","xmlhttp"),wg(n,e),n.o&&n.s&&Gf(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=Wy(Bc(e)),t.s=null,t.S=!0,$y(t,n)}function Jy(n){null!=n.v&&(kt.clearTimeout(n.v),n.v=null)}function MC(n,e){var t=null;if(n.g==e){Jy(n),ME(n),n.g=null;var r=2}else{if(!EC(n.i,e))return;t=e.F,kS(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;qn(r=oo(),new aC(r,t)),su(n)}else SE(n);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function BS(n,e){return!(Od(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=pg(yi(n.Na,n,e),US(n,n.C)),n.C++,0)))}(n,e)||2==r&&Xy(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:Zf(n,5);break;case 4:Zf(n,10);break;case 3:Zf(n,6);break;default:Zf(n,2)}}function US(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Zf(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=yi(n.pb,n);t||(t=new Pd("//www.google.com/images/cleardot.gif"),kt.location&&"http"==kt.location.protocol||Gy(t,"https"),Wy(t)),function FS(n,e){const t=new cE;if(kt.Image){const r=new Image;r.onload=Pf(Zy,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Pf(Zy,t,r,"TestLoadImage: error",!1,e),r.onabort=Pf(Zy,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Pf(Zy,t,r,"TestLoadImage: timeout",!1,e),kt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Li(2);n.H=0,n.h&&n.h.za(e),jS(n),Wf(n)}function jS(n){if(n.H=0,n.ma=[],n.h){const e=IE(n.i);(0!=e.length||0!=n.j.length)&&(H0(n.ma,e),H0(n.ma,n.j),n.i.i.length=0,Ty(n.j),n.j.length=0),n.h.ya()}}function HS(n,e,t){var r=t instanceof Pd?Bc(t):new Pd(t);if(""!=r.g)e&&(r.g=e+"."+r.g),qy(r,r.m);else{var i=kt.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var c=new Pd(null);r&&Gy(c,r),e&&(c.g=e),i&&qy(c,i),t&&(c.l=t),r=c}return e=n.Da,(t=n.F)&&e&&Ln(r,t,e),Ln(r,"VER",n.ra),wg(n,r),r}function RE(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Zn(t&&n.Ha&&!n.va?new Eg({ob:!0}):n.va)).Oa(n.J),e}function xg(){}function ev(){if(Vc&&!(10<=Number(wS)))throw Error("Environmental error: no available transport.")}function Vo(n,e){Ir.call(this),this.g=new AE(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!og(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!og(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Yf(this)}function OE(n){Uy.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Kf(){jy.call(this),this.status=1}function Yf(n){this.g=n}function Ys(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function NE(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var c=n.g[3],l=(e=n.g[0])+(c^(t=n.g[1])&((i=n.g[2])^c))+r[0]+3614090360&4294967295;l=(t=(i=(c=(e=(t=(i=(c=(e=(t=(i=(c=(e=(t=(i=(c=(e=(t=(i=(c=(e=(t=(i=(c=(e=(t=(i=(c=(e=(t=(i=(c=(e=(t=(i=(c=(e=(t=(i=(c=(e=(t=(i=(c=(e=(t=(i=(c=(e=(t=(i=(c=(e=(t=(i=(c=(e=(t=(i=(c=(e=t+(l<<7&4294967295|l>>>25))+((l=c+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^c&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(c^e))+r[3]+3250441966&4294967295)<<22&4294967295|l>>>10))+((l=e+(c^t&(i^c))+r[4]+4118548399&4294967295)<<7&4294967295|l>>>25))+((l=c+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^c&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(c^e))+r[7]+4249261313&4294967295)<<22&4294967295|l>>>10))+((l=e+(c^t&(i^c))+r[8]+1770035416&4294967295)<<7&4294967295|l>>>25))+((l=c+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^c&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(c^e))+r[11]+2304563134&4294967295)<<22&4294967295|l>>>10))+((l=e+(c^t&(i^c))+r[12]+1804603682&4294967295)<<7&4294967295|l>>>25))+((l=c+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^c&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(c^e))+r[15]+1236535329&4294967295)<<22&4294967295|l>>>10))+((l=e+(i^c&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|l>>>27))+((l=c+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(c^e))+r[11]+643717713&4294967295)<<14&4294967295|l>>>18))+((l=t+(c^e&(i^c))+r[0]+3921069994&4294967295)<<20&4294967295|l>>>12))+((l=e+(i^c&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|l>>>27))+((l=c+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(c^e))+r[15]+3634488961&4294967295)<<14&4294967295|l>>>18))+((l=t+(c^e&(i^c))+r[4]+3889429448&4294967295)<<20&4294967295|l>>>12))+((l=e+(i^c&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|l>>>27))+((l=c+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(c^e))+r[3]+4107603335&4294967295)<<14&4294967295|l>>>18))+((l=t+(c^e&(i^c))+r[8]+1163531501&4294967295)<<20&4294967295|l>>>12))+((l=e+(i^c&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|l>>>27))+((l=c+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(c^e))+r[7]+1735328473&4294967295)<<14&4294967295|l>>>18))+((l=t+(c^e&(i^c))+r[12]+2368359562&4294967295)<<20&4294967295|l>>>12))+((l=e+(t^i^c)+r[5]+4294588738&4294967295)<<4&4294967295|l>>>28))+((l=c+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|l>>>21))+((l=i+(c^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^c^e)+r[14]+4259657740&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^i^c)+r[1]+2763975236&4294967295)<<4&4294967295|l>>>28))+((l=c+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|l>>>21))+((l=i+(c^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^c^e)+r[10]+3200236656&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^i^c)+r[13]+681279174&4294967295)<<4&4294967295|l>>>28))+((l=c+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|l>>>21))+((l=i+(c^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^c^e)+r[6]+76029189&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^i^c)+r[9]+3654602809&4294967295)<<4&4294967295|l>>>28))+((l=c+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|l>>>21))+((l=i+(c^e^t)+r[15]+530742520&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^c^e)+r[2]+3299628645&4294967295)<<23&4294967295|l>>>9))+((l=e+(i^(t|~c))+r[0]+4096336452&4294967295)<<6&4294967295|l>>>26))+((l=c+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|l>>>22))+((l=i+(e^(c|~t))+r[14]+2878612391&4294967295)<<15&4294967295|l>>>17))+((l=t+(c^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|l>>>11))+((l=e+(i^(t|~c))+r[12]+1700485571&4294967295)<<6&4294967295|l>>>26))+((l=c+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|l>>>22))+((l=i+(e^(c|~t))+r[10]+4293915773&4294967295)<<15&4294967295|l>>>17))+((l=t+(c^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|l>>>11))+((l=e+(i^(t|~c))+r[8]+1873313359&4294967295)<<6&4294967295|l>>>26))+((l=c+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|l>>>22))+((l=i+(e^(c|~t))+r[6]+2734768916&4294967295)<<15&4294967295|l>>>17))+((l=t+(c^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|l>>>11))+((c=(e=t+((l=e+(i^(t|~c))+r[4]+4149444226&4294967295)<<6&4294967295|l>>>26))+((l=c+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|l>>>22))^((i=c+((l=i+(e^(c|~t))+r[2]+718787259&4294967295)<<15&4294967295|l>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(l<<21&4294967295|l>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+c&4294967295}function bn(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var c=0|n[i];r&&c==e||(t[i]=c,r=!1)}this.g=t}(qe=Zn.prototype).Oa=function(n){this.M=n},qe.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Bf.g(),this.C=function hE(n){return n.h||(n.h=n.i())}(this.u?this.u:Bf),this.g.onreadystatechange=yi(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(c){return void CE(this,c)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const c of r.keys())t.set(c,r.get(c))}r=Array.from(t.keys()).find(c=>"content-type"==c.toLowerCase()),i=kt.FormData&&n instanceof kt.FormData,!(0<=Wx(wC,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[c,l]of t)this.g.setRequestHeader(c,l);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{TC(this),0<this.B&&((this.L=function xC(n){return Vc&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=yi(this.ua,this)):this.A=By(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(c){CE(this,c)}},qe.ua=function(){typeof U0<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,qn(this,"timeout"),this.abort(8))},qe.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,qn(this,"complete"),qn(this,"abort"),Ky(this))},qe.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ky(this,!0)),Zn.$.N.call(this)},qe.La=function(){this.s||(this.G||this.v||this.l?CC(this):this.kb())},qe.kb=function(){CC(this)},qe.isActive=function(){return!!this.g},qe.da=function(){try{return 2<so(this)?this.g.status:-1}catch{return-1}},qe.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},qe.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),p1(e)}},qe.Ia=function(){return this.m},qe.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(qe=AE.prototype).ra=8,qe.H=1,qe.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new Uf(this,this.l,n);let c=this.s;if(this.U&&(c?(c=Z0(c),Xx(c,this.U)):c=this.U),null!==this.o||this.O||(i.I=c,c=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=DE(this,i,e),Ln(t=Bc(this.I),"RID",n),Ln(t,"CVER",22),this.F&&Ln(t,"X-HTTP-Session-Id",this.F),wg(this,t),c&&(this.O?e="headers="+encodeURIComponent(String(DC(c)))+"&"+e:this.o&&Gf(t,this.o,c)),bg(this.i,i),this.bb&&Ln(t,"TYPE","init"),this.P?(Ln(t,"$req",e),Ln(t,"SID","null"),i.aa=!0,gg(i,t,null)):gg(i,t,e),this.H=2}}else 3==this.H&&(n?SC(this,n):0==this.j.length||bC(this.i)||SC(this))},qe.Ma=function(){if(this.u=null,PE(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=pg(yi(this.jb,this),n)}},qe.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Li(10),Qy(this),PE(this))},qe.ib=function(){null!=this.v&&(this.v=null,Qy(this),Xy(this),Li(19))},qe.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Li(2)):(this.l.info("Failed to ping google.com"),Li(1))},qe.isActive=function(){return!!this.h&&this.h.isActive(this)},(qe=xg.prototype).Ba=function(){},qe.Aa=function(){},qe.za=function(){},qe.ya=function(){},qe.isActive=function(){return!0},qe.Va=function(){},ev.prototype.g=function(n,e){return new Vo(n,e)},Hr(Vo,Ir),Vo.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Li(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=HS(n,null,n.Y),su(n)},Vo.prototype.close=function(){Yy(this.g)},Vo.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=rE(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&su(e)},Vo.prototype.N=function(){this.g.h=null,delete this.j,Yy(this.g),delete this.g,Vo.$.N.call(this)},Hr(OE,Uy),Hr(Kf,jy),Hr(Yf,xg),Yf.prototype.Ba=function(){qn(this.g,"a")},Yf.prototype.Aa=function(n){qn(this.g,new OE(n))},Yf.prototype.za=function(n){qn(this.g,new Kf)},Yf.prototype.ya=function(){qn(this.g,"b")},Hr(Ys,function zS(){this.blockSize=-1}),Ys.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Ys.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,c=0;c<e;){if(0==i)for(;c<=t;)NE(this,n,c),c+=this.blockSize;if("string"==typeof n){for(;c<e;)if(r[i++]=n.charCodeAt(c++),i==this.blockSize){NE(this,r),i=0;break}}else for(;c<e;)if(r[i++]=n[c++],i==this.blockSize){NE(this,r),i=0;break}}this.h=i,this.i+=e},Ys.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var $S={};function tv(n){return-128<=n&&128>n?function z0(n,e){var t=$S;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new bn([0|e],0>e?-1:0)}):new bn([0|n],0>n?-1:0)}function ka(n){if(isNaN(n)||!isFinite(n))return Qf;if(0>n)return $r(ka(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=Nd;return new bn(e,0)}var Nd=4294967296,Qf=tv(0),nv=tv(1),RC=tv(16777216);function Fa(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function _s(n){return-1==n.h}function $r(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new bn(t,~n.h).add(nv)}function rv(n,e){return n.add($r(e))}function Xf(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function Cg(n,e){this.g=n,this.h=e}function Tg(n,e){if(Fa(e))throw Error("division by zero");if(Fa(n))return new Cg(Qf,Qf);if(_s(n))return e=Tg($r(n),e),new Cg($r(e.g),$r(e.h));if(_s(e))return e=Tg(n,$r(e)),new Cg($r(e.g),e.h);if(30<n.g.length){if(_s(n)||_s(e))throw Error("slowDivide_ only works with positive integers.");for(var t=nv,r=e;0>=r.X(n);)t=kE(t),r=kE(r);var i=Jf(t,1),c=Jf(r,1);for(r=Jf(r,2),t=Jf(t,2);!Fa(r);){var l=c.add(r);0>=l.X(n)&&(i=i.add(t),c=l),r=Jf(r,1),t=Jf(t,1)}return e=rv(n,i.R(e)),new Cg(i,e)}for(i=Qf;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),l=(c=ka(t)).R(e);_s(l)||0<l.X(n);)l=(c=ka(t-=r)).R(e);Fa(c)&&(c=nv),i=i.add(c),n=rv(n,l)}return new Cg(i,n)}function kE(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new bn(t,n.h)}function Jf(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],c=0;c<r;c++)i[c]=0<e?n.D(c+t)>>>e|n.D(c+t+1)<<32-e:n.D(c+t);return new bn(i,n.h)}(qe=bn.prototype).ea=function(){if(_s(this))return-$r(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:Nd+r)*e,e*=Nd}return n},qe.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Fa(this))return"0";if(_s(this))return"-"+$r(this).toString(n);for(var e=ka(Math.pow(n,6)),t=this,r="";;){var i=Tg(t,e).g,c=((0<(t=rv(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Fa(t=i))return c+r;for(;6>c.length;)c="0"+c;r=c+r}},qe.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},qe.X=function(n){return _s(n=rv(this,n))?-1:Fa(n)?0:1},qe.abs=function(){return _s(this)?$r(this):this},qe.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var c=r+(65535&this.D(i))+(65535&n.D(i)),l=(c>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=l>>>16,t[i]=(l&=65535)<<16|(c&=65535)}return new bn(t,-2147483648&t[t.length-1]?-1:0)},qe.R=function(n){if(Fa(this)||Fa(n))return Qf;if(_s(this))return _s(n)?$r(this).R($r(n)):$r($r(this).R(n));if(_s(n))return $r(this.R($r(n)));if(0>this.X(RC)&&0>n.X(RC))return ka(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var c=this.D(r)>>>16,l=65535&this.D(r),g=n.D(i)>>>16,y=65535&n.D(i);t[2*r+2*i]+=l*y,Xf(t,2*r+2*i),t[2*r+2*i+1]+=c*y,Xf(t,2*r+2*i+1),t[2*r+2*i+1]+=l*g,Xf(t,2*r+2*i+1),t[2*r+2*i+2]+=c*g,Xf(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new bn(t,0)},qe.gb=function(n){return Tg(this,n).h},qe.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new bn(t,this.h&n.h)},qe.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new bn(t,this.h|n.h)},qe.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new bn(t,this.h^n.h)},ev.prototype.createWebChannel=ev.prototype.g,Vo.prototype.send=Vo.prototype.u,Vo.prototype.open=Vo.prototype.m,Vo.prototype.close=Vo.prototype.close,Lf.NO_ERROR=0,Lf.TIMEOUT=8,Lf.HTTP_ERROR=6,Vf.COMPLETE="complete",cC.EventType=mg,mg.OPEN="a",mg.CLOSE="b",mg.ERROR="c",mg.MESSAGE="d",Ir.prototype.listen=Ir.prototype.O,Zn.prototype.listenOnce=Zn.prototype.P,Zn.prototype.getLastError=Zn.prototype.Sa,Zn.prototype.getLastErrorCode=Zn.prototype.Ia,Zn.prototype.getStatus=Zn.prototype.da,Zn.prototype.getResponseJson=Zn.prototype.Wa,Zn.prototype.getResponseText=Zn.prototype.ja,Zn.prototype.send=Zn.prototype.ha,Zn.prototype.setWithCredentials=Zn.prototype.Oa,Ys.prototype.digest=Ys.prototype.l,Ys.prototype.reset=Ys.prototype.reset,Ys.prototype.update=Ys.prototype.j,bn.prototype.add=bn.prototype.add,bn.prototype.multiply=bn.prototype.R,bn.prototype.modulo=bn.prototype.gb,bn.prototype.compare=bn.prototype.X,bn.prototype.toNumber=bn.prototype.ea,bn.prototype.toString=bn.prototype.toString,bn.prototype.getBits=bn.prototype.D,bn.fromNumber=ka,bn.fromString=function PC(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return $r(PC(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=ka(Math.pow(e,8)),r=Qf,i=0;i<n.length;i+=8){var c=Math.min(8,n.length-i),l=parseInt(n.substring(i,i+c),e);8>c?(c=ka(Math.pow(e,c)),r=r.R(c).add(ka(l))):r=(r=r.R(t)).add(ka(l))}return r};var GS=Ks.createWebChannelTransport=function(){return new ev},qS=Ks.getStatEventTarget=function(){return oo()},Ag=Ks.ErrorCode=Lf,WS=Ks.EventType=Vf,OC=Ks.Event=vi,NC=Ks.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},iv=(Ks.FetchXmlHttpFactory=Eg,Ks.WebChannel=cC),ZS=Ks.XhrIo=Zn,KS=Ks.Md5=Ys,ep=Ks.Integer=bn;const kC="@firebase/firestore";class Gr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Gr.UNAUTHENTICATED=new Gr(null),Gr.GOOGLE_CREDENTIALS=new Gr("google-credentials-uid"),Gr.FIRST_PARTY=new Gr("first-party-uid"),Gr.MOCK_USER=new Gr("mock-user");let kd="10.4.0";const Hc=new ms.Yd("@firebase/firestore");function tp(){return Hc.logLevel}function Me(n,...e){if(Hc.logLevel<=ms.in.DEBUG){const t=e.map(FE);Hc.debug(`Firestore (${kd}): ${n}`,...t)}}function hr(n,...e){if(Hc.logLevel<=ms.in.ERROR){const t=e.map(FE);Hc.error(`Firestore (${kd}): ${n}`,...t)}}function ao(n,...e){if(Hc.logLevel<=ms.in.WARN){const t=e.map(FE);Hc.warn(`Firestore (${kd}): ${n}`,...t)}}function FE(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function tt(n="Unexpected state"){const e=`FIRESTORE (${kd}) INTERNAL ASSERTION FAILED: `+n;throw hr(e),new Error(e)}function lt(n,e){n||tt()}function ze(n,e){return n}const fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ae extends en.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Rr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class ov{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class QS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Gr.UNAUTHENTICATED))}shutdown(){}}class FC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Fd{constructor(e){this.t=e,this.currentUser=Gr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const c=I=>this.i!==i?(i=this.i,t(I)):Promise.resolve();let l=new Rr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Rr,e.enqueueRetryable(()=>c(this.currentUser))};const g=()=>{const I=l;e.enqueueRetryable((0,be.Z)(function*(){yield I.promise,yield c(r.currentUser)}))},y=I=>{Me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=I,this.auth.addAuthTokenListener(this.o),g()};this.t.onInit(I=>y(I)),setTimeout(()=>{if(!this.auth){const I=this.t.getImmediate({optional:!0});I?y(I):(Me("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Rr)}},0),g()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(lt("string"==typeof r.accessToken),new ov(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return lt(null===e||"string"==typeof e),new Gr(e)}}class LC{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Gr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class XS{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new LC(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Gr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class JS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class VE{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const r=c=>{null!=c.error&&Me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const l=c.token!==this.R;return this.R=c.token,Me("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>r(c))};const i=c=>{Me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>i(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?i(c):Me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(lt("string"==typeof t.token),this.R=t.token,new JS(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function eM(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class BE{static V(){const t=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=eM(40);for(let c=0;c<i.length;++c)r.length<20&&i[c]<t&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[c]%62))}return r}}function Pt(n,e){return n<e?-1:n>e?1:0}function np(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function UE(n){return n+"\0"}class Pn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ae(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ae(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ae(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ae(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Pn.fromMillis(Date.now())}static fromDate(e){return Pn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Pn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Pt(this.nanoseconds,e.nanoseconds):Pt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class dt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new dt(e)}static min(){return new dt(new Pn(0,0))}static max(){return new dt(new Pn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class rp{constructor(e,t,r){void 0===t?t=0:t>e.length&&tt(),void 0===r?r=e.length-t:r>e.length-t&&tt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===rp.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof rp?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const c=e.get(i),l=t.get(i);if(c<l)return-1;if(c>l)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class nn extends rp{construct(e,t,r){return new nn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ae(fe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new nn(t)}static emptyPath(){return new nn([])}}const BC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kn extends rp{construct(e,t,r){return new Kn(e,t,r)}static isValidIdentifier(e){return BC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Kn(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const c=()=>{if(0===r.length)throw new Ae(fe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;i<e.length;){const g=e[i];if("\\"===g){if(i+1===e.length)throw new Ae(fe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[i+1];if("\\"!==y&&"."!==y&&"`"!==y)throw new Ae(fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,i+=2}else"`"===g?(l=!l,i++):"."!==g||l?(r+=g,i++):(c(),i++)}if(c(),l)throw new Ae(fe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kn(t)}static emptyPath(){return new Kn([])}}class We{constructor(e){this.path=e}static fromPath(e){return new We(nn.fromString(e))}static fromName(e){return new We(nn.fromString(e).popFirst(5))}static empty(){return new We(nn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===nn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return nn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new We(new nn(e.slice()))}}class ip{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function jE(n){return n.fields.find(e=>2===e.kind)}function au(n){return n.fields.filter(e=>2!==e.kind)}ip.UNKNOWN_ID=-1;class cu{constructor(e,t){this.fieldPath=e,this.kind=t}}class op{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new op(0,Bo.min())}}function nM(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=dt.fromTimestamp(1e9===r?new Pn(t+1,0):new Pn(t,r));return new Bo(i,We.empty(),e)}function UC(n){return new Bo(n.readTime,n.key,-1)}class Bo{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Bo(dt.min(),We.empty(),-1)}static max(){return new Bo(dt.max(),We.empty(),-1)}}function HE(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=We.comparator(n.documentKey,e.documentKey),0!==t?t:Pt(n.largestBatchId,e.largestBatchId))}const jC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class HC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function lu(n){return zE.apply(this,arguments)}function zE(){return zE=(0,be.Z)(function*(n){if(n.code!==fe.FAILED_PRECONDITION||n.message!==jC)throw n;Me("LocalStore","Unexpectedly lost primary lease")}),zE.apply(this,arguments)}class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&tt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ae((r,i)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,i)},this.catchCallback=c=>{this.wrapFailure(t,c).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ae?t:ae.resolve(t)}catch(t){return ae.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ae.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ae.reject(t)}static resolve(e){return new ae((t,r)=>{t(e)})}static reject(e){return new ae((t,r)=>{r(e)})}static waitFor(e){return new ae((t,r)=>{let i=0,c=0,l=!1;e.forEach(g=>{++i,g.next(()=>{++c,l&&c===i&&t()},y=>r(y))}),l=!0,c===i&&t()})}static or(e){let t=ae.resolve(!1);for(const r of e)t=t.next(i=>i?ae.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,c)=>{r.push(t.call(this,i,c))}),this.waitFor(r)}static mapArray(e,t){return new ae((r,i)=>{const c=e.length,l=new Array(c);let g=0;for(let y=0;y<c;y++){const I=y;t(e[I]).next(D=>{l[I]=D,++g,g===c&&r(l)},D=>i(D))}})}static doWhile(e,t){return new ae((r,i)=>{const c=()=>{!0===e()?t().next(()=>{c()},i):r()};c()})}}class sv{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.m=new Rr,this.transaction.oncomplete=()=>{this.m.resolve()},this.transaction.onabort=()=>{t.error?this.m.reject(new Dg(e,t.error)):this.m.resolve()},this.transaction.onerror=r=>{const i=av(r.target.error);this.m.reject(new Dg(e,i))}}static open(e,t,r,i){try{return new sv(t,e.transaction(i,r))}catch(c){throw new Dg(t,c)}}get g(){return this.m.promise}abort(e){e&&this.m.reject(e),this.aborted||(Me("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}p(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new zC(t)}}class Qs{constructor(e,t,r){this.name=e,this.version=t,this.S=r,12.2===Qs.D((0,en.z$)())&&hr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Me("SimpleDb","Removing database:",e),uu(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,en.hl)())return!1;if(Qs.v())return!0;const e=(0,en.z$)(),t=Qs.D(e),r=0<t&&t<10,i=Qs.F(e),c=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||c)}static v(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.M)}static O(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static F(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}N(e){var t=this;return(0,be.Z)(function*(){return t.db||(Me("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const c=indexedDB.open(t.name,t.version);c.onsuccess=l=>{r(l.target.result)},c.onblocked=()=>{i(new Dg(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},c.onerror=l=>{const g=l.target.error;i("VersionError"===g.name?new Ae(fe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===g.name?new Ae(fe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+g):new Dg(e,g))},c.onupgradeneeded=l=>{Me("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',l.oldVersion),t.S.B(l.target.result,c.transaction,l.oldVersion,t.version).next(()=>{Me("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.L&&(t.db.onversionchange=r=>t.L(r)),t.db})()}k(e){this.L=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var c=this;return(0,be.Z)(function*(){const l="readonly"===t;let g=0;for(;;){++g;try{c.db=yield c.N(e);const y=sv.open(c.db,e,l?"readonly":"readwrite",r),I=i(y).next(D=>(y.p(),D)).catch(D=>(y.abort(D),ae.reject(D))).toPromise();return I.catch(()=>{}),yield y.g,I}catch(y){const I=y,D="FirebaseError"!==I.name&&g<3;if(Me("SimpleDb","Transaction failed with error:",I.message,"Retrying:",D),c.close(),!D)return Promise.reject(I)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class rM{constructor(e){this.q=e,this.K=!1,this.$=null}get isDone(){return this.K}get U(){return this.$}set cursor(e){this.q=e}done(){this.K=!0}W(e){this.$=e}delete(){return uu(this.q.delete())}}class Dg extends Ae{constructor(e,t){super(fe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function ys(n){return"IndexedDbTransactionError"===n.name}class zC{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Me("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Me("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),uu(r)}add(e){return Me("SimpleDb","ADD",this.store.name,e,e),uu(this.store.add(e))}get(e){return uu(this.store.get(e)).next(t=>(void 0===t&&(t=null),Me("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Me("SimpleDb","DELETE",this.store.name,e),uu(this.store.delete(e))}count(){return Me("SimpleDb","COUNT",this.store.name),uu(this.store.count())}G(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),c=[];return this.j(i,(l,g)=>{c.push(g)}).next(()=>c)}{const i=this.store.getAll(r.range);return new ae((c,l)=>{i.onerror=g=>{l(g.target.error)},i.onsuccess=g=>{c(g.target.result)}})}}H(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new ae((i,c)=>{r.onerror=l=>{c(l.target.error)},r.onsuccess=l=>{i(l.target.result)}})}J(e,t){Me("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.Y=!1;const i=this.cursor(r);return this.j(i,(c,l,g)=>g.delete())}Z(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.j(i,t)}X(e){const t=this.cursor({});return new ae((r,i)=>{t.onerror=c=>{const l=av(c.target.error);i(l)},t.onsuccess=c=>{const l=c.target.result;l?e(l.primaryKey,l.value).next(g=>{g?l.continue():r()}):r()}})}j(e,t){const r=[];return new ae((i,c)=>{e.onerror=l=>{c(l.target.error)},e.onsuccess=l=>{const g=l.target.result;if(!g)return void i();const y=new rM(g),I=t(g.primaryKey,g.value,y);if(I instanceof ae){const D=I.catch(P=>(y.done(),ae.reject(P)));r.push(D)}y.isDone?i():null===y.U?g.continue():g.continue(y.U)}}).next(()=>ae.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function uu(n){return new ae((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=av(r.target.error);t(i)}})}let $E=!1;function av(n){const e=Qs.D((0,en.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Ae("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return $E||($E=!0,setTimeout(()=>{throw r},0)),r}}return n}class $C{constructor(e,t){this.asyncQueue=e,this.ee=t,this.task=null}start(){this.te(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}te(e){var t=this;Me("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,be.Z)(function*(){t.task=null;try{Me("IndexBackiller",`Documents written: ${yield t.ee.ne()}`)}catch(r){ys(r)?Me("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield lu(r)}yield t.te(6e4)}))}}class iM{constructor(e,t){this.localStore=e,this.persistence=t}ne(e=50){var t=this;return(0,be.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.re(r,e))})()}re(e,t){const r=new Set;let i=t,c=!0;return ae.doWhile(()=>!0===c&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(l=>{if(null!==l&&!r.has(l))return Me("IndexBackiller",`Processing collection: ${l}`),this.ie(e,l,i).next(g=>{i-=g,r.add(l)});c=!1})).next(()=>t-i)}ie(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(c=>{const l=c.changes;return this.localStore.indexManager.updateIndexEntries(e,l).next(()=>this.se(i,c)).next(g=>(Me("IndexBackiller",`Updating offset: ${g}`),this.localStore.indexManager.updateCollectionGroup(e,t,g))).next(()=>l.size)}))}se(e,t){let r=e;return t.changes.forEach((i,c)=>{const l=UC(c);HE(l,r)>0&&(r=l)}),new Bo(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Uo=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.oe(i),this._e=i=>r.writeSequenceNumber(i))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}return n.ae=-1,n})();function cv(n){return null==n}function lv(n){return 0===n&&1/n==-1/0}function GC(n){return"number"==typeof n&&Number.isInteger(n)&&!lv(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function bi(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=qC(e)),e=oM(n.get(t),e);return qC(e)}function oM(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const c=n.charAt(i);switch(c){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=c}}return t}function qC(n){return n+"\x01\x01"}function La(n){const e=n.length;if(lt(e>=2),2===e)return lt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),nn.emptyPath();const t=e-2,r=[];let i="";for(let c=0;c<e;){const l=n.indexOf("\x01",c);switch((l<0||l>t)&&tt(),n.charAt(l+1)){case"\x01":const g=n.substring(c,l);let y;0===i.length?y=g:(i+=g,y=i,i=""),r.push(y);break;case"\x10":i+=n.substring(c,l),i+="\0";break;case"\x11":i+=n.substring(c,l+1);break;default:tt()}c=l+2}return new nn(r)}const sp=["userId","batchId"];function uv(n,e){return[n,bi(e)]}function dv(n,e,t){return[n,bi(e),t]}const sM={},_1=["prefixPath","collectionGroup","readTime","documentId"],aM=["prefixPath","collectionGroup","documentId"],y1=["collectionGroup","readTime","prefixPath","documentId"],Sg=["canonicalId","targetId"],cM=["targetId","path"],lM=["path","targetId"],uM=["collectionId","parent"],hv=["indexId","uid"],WC=["uid","sequenceNumber"],dM=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],ZC=["indexId","uid","orderedDocumentKey"],fv=["userId","collectionPath","documentId"],hM=["userId","collectionPath","largestBatchId"],fM=["userId","collectionGroup","largestBatchId"],GE=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],pM=[...GE,"documentOverlays"],KC=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],qE=KC,pv=[...qE,"indexConfiguration","indexState","indexEntries"];class WE extends HC{constructor(e,t){super(),this.ue=e,this.currentSequenceNumber=t}}function qr(n,e){const t=ze(n);return Qs.O(t.ue,e)}function ZE(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function zc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function mv(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class xn{constructor(e,t){this.comparator=e,this.root=t||Wr.EMPTY}insert(e,t){return new xn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Wr.BLACK,null,null))}remove(e){return new xn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new gv(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new gv(this.root,e,this.comparator,!1)}getReverseIterator(){return new gv(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new gv(this.root,e,this.comparator,!0)}}class gv{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?r(e.key,t):1,t&&i&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(0===c){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wr{constructor(e,t,r,i,c){this.key=e,this.value=t,this.color=r??Wr.RED,this.left=i??Wr.EMPTY,this.right=c??Wr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,c){return new Wr(e??this.key,t??this.value,r??this.color,i??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const c=r(e,i.key);return i=c<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===c?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Wr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Wr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw tt();const e=this.left.check();if(e!==this.right.check())throw tt();return e+(this.isRed()?0:1)}}Wr.EMPTY=null,Wr.RED=!0,Wr.BLACK=!1,Wr.EMPTY=new class{constructor(){this.size=0}get key(){throw tt()}get value(){throw tt()}get color(){throw tt()}get left(){throw tt()}get right(){throw tt()}copy(e,t,r,i,c){return this}insert(e,t,r){return new Wr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Cn{constructor(e){this.comparator=e,this.data=new xn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new YC(this.data.getIterator())}getIteratorFrom(e){return new YC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Cn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,c=r.getNext().key;if(0!==this.comparator(i,c))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Cn(this.comparator);return t.data=e,t}}class YC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ap(n){return n.hasNext()?n.getNext():void 0}class Ei{constructor(e){this.fields=e,e.sort(Kn.comparator)}static empty(){return new Ei([])}unionWith(e){let t=new Cn(Kn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Ei(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return np(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class _v extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class fr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new _v("Invalid base64 string: "+c):c}}(e);return new fr(t)}static fromUint8Array(e){const t=function(i){let c="";for(let l=0;l<i.length;++l)c+=String.fromCharCode(i[l]);return c}(e);return new fr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}fr.EMPTY_BYTE_STRING=new fr("");const KE=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function du(n){if(lt(!!n),"string"==typeof n){let e=0;const t=KE.exec(n);if(lt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:rr(n.seconds),nanos:rr(n.nanos)}}function rr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function $c(n){return"string"==typeof n?fr.fromBase64String(n):fr.fromUint8Array(n)}function yv(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Mg(n){const e=n.mapValue.fields.__previous_value__;return yv(e)?Mg(e):e}function Ld(n){const e=du(n.mapValue.fields.__local_write_time__.timestampValue);return new Pn(e.seconds,e.nanos)}class XC{constructor(e,t,r,i,c,l,g,y,I){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=c,this.forceLongPolling=l,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=I}}class hu{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new hu("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof hu&&e.projectId===this.projectId&&e.database===this.database}}const Gc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Pg={nullValue:"NULL_VALUE"};function fu(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?yv(n)?4:gM(n)?9007199254740991:10:tt()}function Xs(n,e){if(n===e)return!0;const t=fu(n);if(t!==fu(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Ld(n).isEqual(Ld(e));case 3:return function(i,c){if("string"==typeof i.timestampValue&&"string"==typeof c.timestampValue&&i.timestampValue.length===c.timestampValue.length)return i.timestampValue===c.timestampValue;const l=du(i.timestampValue),g=du(c.timestampValue);return l.seconds===g.seconds&&l.nanos===g.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return c=e,$c(n.bytesValue).isEqual($c(c.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,c){return rr(i.geoPointValue.latitude)===rr(c.geoPointValue.latitude)&&rr(i.geoPointValue.longitude)===rr(c.geoPointValue.longitude)}(n,e);case 2:return function(i,c){if("integerValue"in i&&"integerValue"in c)return rr(i.integerValue)===rr(c.integerValue);if("doubleValue"in i&&"doubleValue"in c){const l=rr(i.doubleValue),g=rr(c.doubleValue);return l===g?lv(l)===lv(g):isNaN(l)&&isNaN(g)}return!1}(n,e);case 9:return np(n.arrayValue.values||[],e.arrayValue.values||[],Xs);case 10:return function(i,c){const l=i.mapValue.fields||{},g=c.mapValue.fields||{};if(ZE(l)!==ZE(g))return!1;for(const y in l)if(l.hasOwnProperty(y)&&(void 0===g[y]||!Xs(l[y],g[y])))return!1;return!0}(n,e);default:return tt()}var c}function cp(n,e){return void 0!==(n.values||[]).find(t=>Xs(t,e))}function pu(n,e){if(n===e)return 0;const t=fu(n),r=fu(e);if(t!==r)return Pt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Pt(n.booleanValue,e.booleanValue);case 2:return function(c,l){const g=rr(c.integerValue||c.doubleValue),y=rr(l.integerValue||l.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1}(n,e);case 3:return YE(n.timestampValue,e.timestampValue);case 4:return YE(Ld(n),Ld(e));case 5:return Pt(n.stringValue,e.stringValue);case 6:return function(c,l){const g=$c(c),y=$c(l);return g.compareTo(y)}(n.bytesValue,e.bytesValue);case 7:return function(c,l){const g=c.split("/"),y=l.split("/");for(let I=0;I<g.length&&I<y.length;I++){const D=Pt(g[I],y[I]);if(0!==D)return D}return Pt(g.length,y.length)}(n.referenceValue,e.referenceValue);case 8:return function(c,l){const g=Pt(rr(c.latitude),rr(l.latitude));return 0!==g?g:Pt(rr(c.longitude),rr(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(c,l){const g=c.values||[],y=l.values||[];for(let I=0;I<g.length&&I<y.length;++I){const D=pu(g[I],y[I]);if(D)return D}return Pt(g.length,y.length)}(n.arrayValue,e.arrayValue);case 10:return function(c,l){if(c===Gc.mapValue&&l===Gc.mapValue)return 0;if(c===Gc.mapValue)return 1;if(l===Gc.mapValue)return-1;const g=c.fields||{},y=Object.keys(g),I=l.fields||{},D=Object.keys(I);y.sort(),D.sort();for(let P=0;P<y.length&&P<D.length;++P){const N=Pt(y[P],D[P]);if(0!==N)return N;const z=pu(g[y[P]],I[D[P]]);if(0!==z)return z}return Pt(y.length,D.length)}(n.mapValue,e.mapValue);default:throw tt()}}function YE(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Pt(n,e);const t=du(n),r=du(e),i=Pt(t.seconds,r.seconds);return 0!==i?i:Pt(t.nanos,r.nanos)}function lp(n){return ii(n)}function ii(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=du(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?$c(n.bytesValue).toBase64():"referenceValue"in n?We.fromName(n.referenceValue).toString():"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const c of t.values||[])i?i=!1:r+=",",r+=ii(c);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",c=!0;for(const l of r)c?c=!1:i+=",",i+=`${l}:${ii(t.fields[l])}`;return i+"}"}(n.mapValue):tt()}function Vd(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function QE(n){return!!n&&"integerValue"in n}function vv(n){return!!n&&"arrayValue"in n}function mM(n){return!!n&&"nullValue"in n}function XE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function up(n){return!!n&&"mapValue"in n}function bv(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return zc(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=bv(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=bv(n.arrayValue.values[t]);return e}return Object.assign({},n)}function gM(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function v1(n){return"nullValue"in n?Pg:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Vd(hu.empty(),We.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:tt()}function Rg(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Vd(hu.empty(),We.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Gc:tt()}function JC(n,e){const t=pu(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function Ev(n,e){const t=pu(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class oi{constructor(e){this.value=e}static empty(){return new oi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!up(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=bv(t)}setAll(e){let t=Kn.emptyPath(),r={},i=[];e.forEach((l,g)=>{if(!t.isImmediateParentOf(g)){const y=this.getFieldsMap(t);this.applyChanges(y,r,i),r={},i=[],t=g.popLast()}l?r[g.lastSegment()]=bv(l):i.push(g.lastSegment())});const c=this.getFieldsMap(t);this.applyChanges(c,r,i)}delete(e){const t=this.field(e.popLast());up(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Xs(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];up(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){zc(t,(i,c)=>e[i]=c);for(const i of r)delete e[i]}clone(){return new oi(bv(this.value))}}function JE(n){const e=[];return zc(n.fields,(t,r)=>{const i=new Kn([t]);if(up(r)){const c=JE(r.mapValue).fields;if(0===c.length)e.push(i);else for(const l of c)e.push(i.child(l))}else e.push(i)}),new Ei(e)}class Vn{constructor(e,t,r,i,c,l,g){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=c,this.data=l,this.documentState=g}static newInvalidDocument(e){return new Vn(e,0,dt.min(),dt.min(),dt.min(),oi.empty(),0)}static newFoundDocument(e,t,r,i){return new Vn(e,1,t,dt.min(),r,i,0)}static newNoDocument(e,t){return new Vn(e,2,t,dt.min(),dt.min(),oi.empty(),0)}static newUnknownDocument(e,t){return new Vn(e,3,t,dt.min(),dt.min(),oi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(dt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=oi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=oi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=dt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Vn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Vn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class mu{constructor(e,t){this.position=e,this.inclusive=t}}function eT(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const c=e[i],l=n.position[i];if(r=c.field.isKeyField()?We.comparator(We.fromName(l.referenceValue),t.key):pu(l,t.data.field(c.field)),"desc"===c.dir&&(r*=-1),0!==r)break}return r}function Iv(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Xs(n.position[t],e.position[t]))return!1;return!0}class Bd{constructor(e,t="asc"){this.field=e,this.dir=t}}function _M(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class Og{}class Qt extends Og{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new vM(e,t,r):"array-contains"===t?new EM(e,r):"in"===t?new rI(e,r):"not-in"===t?new nT(e,r):"array-contains-any"===t?new IM(e,r):new Qt(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new b1(e,r):new bM(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(pu(t,this.value)):null!==t&&fu(this.value)===fu(t)&&this.matchesComparison(pu(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return tt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class En extends Og{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new En(e,t)}matches(e){return Ud(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ce||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.le(t=>t.isInequality());return null!==e?e.field:null}le(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Ud(n){return"and"===n.op}function eI(n){return"or"===n.op}function wv(n){return jd(n)&&Ud(n)}function jd(n){for(const e of n.filters)if(e instanceof En)return!1;return!0}function tI(n){if(n instanceof Qt)return n.field.canonicalString()+n.op.toString()+lp(n.value);if(wv(n))return n.filters.map(e=>tI(e)).join(",");{const e=n.filters.map(t=>tI(t)).join(",");return`${n.op}(${e})`}}function nI(n,e){return n instanceof Qt?(r=n,(i=e)instanceof Qt&&r.op===i.op&&r.field.isEqual(i.field)&&Xs(r.value,i.value)):n instanceof En?function(r,i){return i instanceof En&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((c,l,g)=>c&&nI(l,i.filters[g]),!0)}(n,e):void tt();var r,i}function xv(n,e){const t=n.filters.concat(e);return En.create(t,n.op)}function yM(n){return n instanceof Qt?`${(t=n).field.canonicalString()} ${t.op} ${lp(t.value)}`:n instanceof En?function(t){return t.op.toString()+" {"+t.getFilters().map(yM).join(" ,")+"}"}(n):"Filter";var t}class vM extends Qt{constructor(e,t,r){super(e,t,r),this.key=We.fromName(r.referenceValue)}matches(e){const t=We.comparator(e.key,this.key);return this.matchesComparison(t)}}class b1 extends Qt{constructor(e,t){super(e,"in",t),this.keys=tT(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class bM extends Qt{constructor(e,t){super(e,"not-in",t),this.keys=tT(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function tT(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>We.fromName(r.referenceValue))}class EM extends Qt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return vv(t)&&cp(t.arrayValue,this.value)}}class rI extends Qt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&cp(this.value.arrayValue,t)}}class nT extends Qt{constructor(e,t){super(e,"not-in",t)}matches(e){if(cp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!cp(this.value.arrayValue,t)}}class IM extends Qt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!vv(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>cp(this.value.arrayValue,r))}}class rT{constructor(e,t=null,r=[],i=[],c=null,l=null,g=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=c,this.startAt=l,this.endAt=g,this.he=null}}function Cv(n,e=null,t=[],r=[],i=null,c=null,l=null){return new rT(n,e,t,r,i,c,l)}function Hd(n){const e=ze(n);if(null===e.he){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>tI(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(c=r).field.canonicalString()+c.dir;var c}).join(","),cv(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>lp(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>lp(r)).join(",")),e.he=t}return e.he}function Ng(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!_M(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!nI(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Iv(n.startAt,e.startAt)&&Iv(n.endAt,e.endAt)}function kg(n){return We.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Tv(n,e){return n.filters.filter(t=>t instanceof Qt&&t.field.isEqual(e))}function iI(n,e,t){let r=Pg,i=!0;for(const c of Tv(n,e)){let l=Pg,g=!0;switch(c.op){case"<":case"<=":l=v1(c.value);break;case"==":case"in":case">=":l=c.value;break;case">":l=c.value,g=!1;break;case"!=":case"not-in":l=Pg}JC({value:r,inclusive:i},{value:l,inclusive:g})<0&&(r=l,i=g)}if(null!==t)for(let c=0;c<n.orderBy.length;++c)if(n.orderBy[c].field.isEqual(e)){const l=t.position[c];JC({value:r,inclusive:i},{value:l,inclusive:t.inclusive})<0&&(r=l,i=t.inclusive);break}return{value:r,inclusive:i}}function oI(n,e,t){let r=Gc,i=!0;for(const c of Tv(n,e)){let l=Gc,g=!0;switch(c.op){case">=":case">":l=Rg(c.value),g=!1;break;case"==":case"in":case"<=":l=c.value;break;case"<":l=c.value,g=!1;break;case"!=":case"not-in":l=Gc}Ev({value:r,inclusive:i},{value:l,inclusive:g})>0&&(r=l,i=g)}if(null!==t)for(let c=0;c<n.orderBy.length;++c)if(n.orderBy[c].field.isEqual(e)){const l=t.position[c];Ev({value:r,inclusive:i},{value:l,inclusive:t.inclusive})>0&&(r=l,i=t.inclusive);break}return{value:r,inclusive:i}}class Va{constructor(e,t=null,r=[],i=[],c=null,l="F",g=null,y=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=c,this.limitType=l,this.startAt=g,this.endAt=y,this.Pe=null,this.Ie=null,this.de=null}}function sI(n,e,t,r,i,c,l,g){return new Va(n,e,t,r,i,c,l,g)}function dp(n){return new Va(n)}function iT(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function oT(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Fg(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function sT(n){return null!==n.collectionGroup}function Lg(n){const e=ze(n);if(null===e.Pe){e.Pe=[];const t=Fg(e),r=oT(e);if(null!==t&&null===r)t.isKeyField()||e.Pe.push(new Bd(t)),e.Pe.push(new Bd(Kn.keyField(),"asc"));else{let i=!1;for(const c of e.explicitOrderBy)e.Pe.push(c),c.field.isKeyField()&&(i=!0);if(!i){const c=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.Pe.push(new Bd(Kn.keyField(),c))}}}return e.Pe}function co(n){const e=ze(n);return e.Ie||(e.Ie=function wM(n,e){if("F"===n.limitType)return Cv(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>new Bd(i.field,"desc"===i.dir?"asc":"desc"));const t=n.endAt?new mu(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new mu(n.startAt.position,n.startAt.inclusive):null;return Cv(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}(e,Lg(n))),e.Ie}function aT(n,e){e.getFirstInequalityField(),Fg(n);const t=n.filters.concat([e]);return new Va(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function aI(n,e,t){return new Va(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Av(n,e){return Ng(co(n),co(e))&&n.limitType===e.limitType}function xM(n){return`${Hd(co(n))}|lt:${n.limitType}`}function Vg(n){return`Query(target=${function(t){let r=t.path.canonicalString();return null!==t.collectionGroup&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>yM(i)).join(", ")}]`),cv(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>{return`${(l=i).field.canonicalString()} (${l.dir})`;var l}).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>lp(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>lp(i)).join(",")),`Target(${r})`}(co(n))}; limitType=${n.limitType})`}function hp(n,e){return e.isFoundDocument()&&function(r,i){const c=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):We.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)}(n,e)&&function(r,i){for(const c of Lg(r))if(!c.field.isKeyField()&&null===i.data.field(c.field))return!1;return!0}(n,e)&&function(r,i){for(const c of r.filters)if(!c.matches(i))return!1;return!0}(n,e)&&(i=e,!((r=n).startAt&&!function(l,g,y){const I=eT(l,g,y);return l.inclusive?I<=0:I<0}(r.startAt,Lg(r),i)||r.endAt&&!function(l,g,y){const I=eT(l,g,y);return l.inclusive?I>=0:I>0}(r.endAt,Lg(r),i)));var r,i}function Dv(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function cI(n){return(e,t)=>{let r=!1;for(const i of Lg(n)){const c=CM(i,e,t);if(0!==c)return c;r=r||i.field.isKeyField()}return 0}}function CM(n,e,t){const r=n.field.isKeyField()?We.comparator(e.key,t.key):function(c,l,g){const y=l.data.field(c),I=g.data.field(c);return null!==y&&null!==I?pu(y,I):tt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return tt()}}class vs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,c]of r)if(this.equalsFn(i,e))return c}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let c=0;c<i.length;c++)if(this.equalsFn(i[c][0],e))return void(i[c]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){zc(this.inner,(t,r)=>{for(const[i,c]of r)e(i,c)})}isEmpty(){return mv(this.inner)}size(){return this.innerSize}}const TM=new xn(We.comparator);function jo(){return TM}const AM=new xn(We.comparator);function Bg(...n){let e=AM;for(const t of n)e=e.insert(t.key,t);return e}function lI(n){let e=AM;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Ba(){return Ug()}function cT(){return Ug()}function Ug(){return new vs(n=>n.toString(),(n,e)=>n.isEqual(e))}const E1=new xn(We.comparator),DM=new Cn(We.comparator);function Nt(...n){let e=DM;for(const t of n)e=e.add(t);return e}const Sv=new Cn(Pt);function uI(){return Sv}function lT(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lv(e)?"-0":e}}function uT(n){return{integerValue:""+n}}function dT(n,e){return GC(e)?uT(e):lT(n,e)}class Mv{constructor(){this._=void 0}}function SM(n,e,t){return n instanceof fp?function(i,c){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return c&&yv(c)&&(c=Mg(c)),c&&(l.fields.__previous_value__=c),{mapValue:l}}(t,e):n instanceof zd?fT(n,e):n instanceof $d?pT(n,e):function(i,c){const l=hT(i,c),g=mT(l)+mT(i.Te);return QE(l)&&QE(i.Te)?uT(g):lT(i.serializer,g)}(n,e)}function dI(n,e,t){return n instanceof zd?fT(n,e):n instanceof $d?pT(n,e):t}function hT(n,e){return n instanceof pp?QE(r=e)||(c=r)&&"doubleValue"in c?e:{integerValue:0}:null;var r,c}class fp extends Mv{}class zd extends Mv{constructor(e){super(),this.elements=e}}function fT(n,e){const t=gT(e);for(const r of n.elements)t.some(i=>Xs(i,r))||t.push(r);return{arrayValue:{values:t}}}class $d extends Mv{constructor(e){super(),this.elements=e}}function pT(n,e){let t=gT(e);for(const r of n.elements)t=t.filter(i=>!Xs(i,r));return{arrayValue:{values:t}}}class pp extends Mv{constructor(e,t){super(),this.serializer=e,this.Te=t}}function mT(n){return rr(n.integerValue||n.doubleValue)}function gT(n){return vv(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class jg{constructor(e,t){this.field=e,this.transform=t}}class _T{constructor(e,t){this.version=e,this.transformResults=t}}class Rn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Rn}static exists(e){return new Rn(void 0,e)}static updateTime(e){return new Rn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Pv(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Rv{}function hI(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Ho(n.key,Rn.none()):new Gd(n.key,n.data,Rn.none());{const t=n.data,r=oi.empty();let i=new Cn(Kn.comparator);for(let c of e.fields)if(!i.has(c)){let l=t.field(c);null===l&&c.length>1&&(c=c.popLast(),l=t.field(c)),null===l?r.delete(c):r.set(c,l),i=i.add(c)}return new Wc(n.key,r,new Ei(i.toArray()),Rn.none())}}function yT(n,e,t){n instanceof Gd?function(i,c,l){const g=i.value.clone(),y=vT(i.fieldTransforms,c,l.transformResults);g.setAll(y),c.convertToFoundDocument(l.version,g).setHasCommittedMutations()}(n,e,t):n instanceof Wc?function(i,c,l){if(!Pv(i.precondition,c))return void c.convertToUnknownDocument(l.version);const g=vT(i.fieldTransforms,c,l.transformResults),y=c.data;y.setAll(pI(i)),y.setAll(g),c.convertToFoundDocument(l.version,y).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Ov(n,e,t,r){return n instanceof Gd?function(c,l,g,y){if(!Pv(c.precondition,l))return g;const I=c.value.clone(),D=Nv(c.fieldTransforms,y,l);return I.setAll(D),l.convertToFoundDocument(l.version,I).setHasLocalMutations(),null}(n,e,t,r):n instanceof Wc?function(c,l,g,y){if(!Pv(c.precondition,l))return g;const I=Nv(c.fieldTransforms,y,l),D=l.data;return D.setAll(pI(c)),D.setAll(I),l.convertToFoundDocument(l.version,D).setHasLocalMutations(),null===g?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(P=>P.field))}(n,e,t,r):(g=t,Pv(n.precondition,l=e)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):g);var l,g}function lo(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),c=hT(r.transform,i||null);null!=c&&(null===t&&(t=oi.empty()),t.set(r.field,c))}return t||null}function fI(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(r=n.fieldTransforms)&&void 0===i||r&&i&&np(r,i,(c,l)=>function MM(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(r=n.transform)instanceof zd&&i instanceof zd||r instanceof $d&&i instanceof $d?np(r.elements,i.elements,Xs):r instanceof pp&&i instanceof pp?Xs(r.Te,i.Te):r instanceof fp&&i instanceof fp);var r,i}(c,l))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var r,i}class Gd extends Rv{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Wc extends Rv{constructor(e,t,r,i,c=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function pI(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function vT(n,e,t){const r=new Map;lt(n.length===t.length);for(let i=0;i<t.length;i++){const c=n[i],l=c.transform,g=e.data.field(c.field);r.set(c.field,dI(l,g,t[i]))}return r}function Nv(n,e,t){const r=new Map;for(const i of n){const c=i.transform,l=t.data.field(i.field);r.set(i.field,SM(c,l,e))}return r}class Ho extends Rv{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class kv extends Rv{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Hg{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const c=this.mutations[i];c.key.isEqual(e.key)&&yT(c,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Ov(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Ov(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=cT();return this.mutations.forEach(i=>{const c=e.get(i.key),l=c.overlayedDocument;let g=this.applyToLocalView(l,c.mutatedFields);g=t.has(i.key)?null:g;const y=hI(l,g);null!==y&&r.set(i.key,y),l.isValidDocument()||l.convertToNoDocument(dt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Nt())}isEqual(e){return this.batchId===e.batchId&&np(this.mutations,e.mutations,(t,r)=>fI(t,r))&&np(this.baseMutations,e.baseMutations,(t,r)=>fI(t,r))}}class zg{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){lt(e.mutations.length===r.length);let i=E1;const c=e.mutations;for(let l=0;l<c.length;l++)i=i.insert(c[l].key,r[l].version);return new zg(e,t,r,i)}}class mI{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class bT{constructor(e,t){this.count=e,this.unchangedNames=t}}var wr,cn;function ET(n){switch(n){default:return tt();case fe.CANCELLED:case fe.UNKNOWN:case fe.DEADLINE_EXCEEDED:case fe.RESOURCE_EXHAUSTED:case fe.INTERNAL:case fe.UNAVAILABLE:case fe.UNAUTHENTICATED:return!1;case fe.INVALID_ARGUMENT:case fe.NOT_FOUND:case fe.ALREADY_EXISTS:case fe.PERMISSION_DENIED:case fe.FAILED_PRECONDITION:case fe.ABORTED:case fe.OUT_OF_RANGE:case fe.UNIMPLEMENTED:case fe.DATA_LOSS:return!0}}function IT(n){if(void 0===n)return hr("GRPC error has no .code"),fe.UNKNOWN;switch(n){case wr.OK:return fe.OK;case wr.CANCELLED:return fe.CANCELLED;case wr.UNKNOWN:return fe.UNKNOWN;case wr.DEADLINE_EXCEEDED:return fe.DEADLINE_EXCEEDED;case wr.RESOURCE_EXHAUSTED:return fe.RESOURCE_EXHAUSTED;case wr.INTERNAL:return fe.INTERNAL;case wr.UNAVAILABLE:return fe.UNAVAILABLE;case wr.UNAUTHENTICATED:return fe.UNAUTHENTICATED;case wr.INVALID_ARGUMENT:return fe.INVALID_ARGUMENT;case wr.NOT_FOUND:return fe.NOT_FOUND;case wr.ALREADY_EXISTS:return fe.ALREADY_EXISTS;case wr.PERMISSION_DENIED:return fe.PERMISSION_DENIED;case wr.FAILED_PRECONDITION:return fe.FAILED_PRECONDITION;case wr.ABORTED:return fe.ABORTED;case wr.OUT_OF_RANGE:return fe.OUT_OF_RANGE;case wr.UNIMPLEMENTED:return fe.UNIMPLEMENTED;case wr.DATA_LOSS:return fe.DATA_LOSS;default:return tt()}}(cn=wr||(wr={}))[cn.OK=0]="OK",cn[cn.CANCELLED=1]="CANCELLED",cn[cn.UNKNOWN=2]="UNKNOWN",cn[cn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",cn[cn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",cn[cn.NOT_FOUND=5]="NOT_FOUND",cn[cn.ALREADY_EXISTS=6]="ALREADY_EXISTS",cn[cn.PERMISSION_DENIED=7]="PERMISSION_DENIED",cn[cn.UNAUTHENTICATED=16]="UNAUTHENTICATED",cn[cn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",cn[cn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",cn[cn.ABORTED=10]="ABORTED",cn[cn.OUT_OF_RANGE=11]="OUT_OF_RANGE",cn[cn.UNIMPLEMENTED=12]="UNIMPLEMENTED",cn[cn.INTERNAL=13]="INTERNAL",cn[cn.UNAVAILABLE=14]="UNAVAILABLE",cn[cn.DATA_LOSS=15]="DATA_LOSS";function PM(){return new TextEncoder}const wT=new ep([4294967295,4294967295],0);function xT(n){const e=PM().encode(n),t=new KS;return t.update(e),new Uint8Array(t.digest())}function gI(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new ep([t,r],0),new ep([i,c],0)]}class CT{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new qd(`Invalid padding: ${t}`);if(r<0)throw new qd(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new qd(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new qd(`Invalid padding when bitmap length is 0: ${t}`);this.Ae=8*e.length-t,this.Re=ep.fromNumber(this.Ae)}Ve(e,t,r){let i=e.add(t.multiply(ep.fromNumber(r)));return 1===i.compare(wT)&&(i=new ep([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Re).toNumber()}me(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ae)return!1;const t=xT(e),[r,i]=gI(t);for(let c=0;c<this.hashCount;c++){const l=this.Ve(r,i,c);if(!this.me(l))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),l=new CT(c,i,t);return r.forEach(g=>l.insert(g)),l}insert(e){if(0===this.Ae)return;const t=xT(e),[r,i]=gI(t);for(let c=0;c<this.hashCount;c++){const l=this.Ve(r,i,c);this.fe(l)}}fe(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class qd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class mp{constructor(e,t,r,i,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,gp.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new mp(dt.min(),i,new xn(Pt),jo(),Nt())}}class gp{constructor(e,t,r,i,c){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new gp(r,t,Nt(),Nt(),Nt())}}class Fv{constructor(e,t,r,i){this.ge=e,this.removedTargetIds=t,this.key=r,this.pe=i}}class _I{constructor(e,t){this.targetId=e,this.ye=t}}class yI{constructor(e,t,r=fr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class Wd{constructor(){this.we=0,this.Se=bI(),this.be=fr.EMPTY_BYTE_STRING,this.De=!1,this.Ce=!0}get current(){return this.De}get resumeToken(){return this.be}get ve(){return 0!==this.we}get Fe(){return this.Ce}Me(e){e.approximateByteSize()>0&&(this.Ce=!0,this.be=e)}xe(){let e=Nt(),t=Nt(),r=Nt();return this.Se.forEach((i,c)=>{switch(c){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:tt()}}),new gp(this.be,this.De,e,t,r)}Oe(){this.Ce=!1,this.Se=bI()}Ne(e,t){this.Ce=!0,this.Se=this.Se.insert(e,t)}Be(e){this.Ce=!0,this.Se=this.Se.remove(e)}Le(){this.we+=1}ke(){this.we-=1}qe(){this.Ce=!0,this.De=!0}}class Lv{constructor(e){this.Qe=e,this.Ke=new Map,this.$e=jo(),this.Ue=vI(),this.We=new xn(Pt)}Ge(e){for(const t of e.ge)e.pe&&e.pe.isFoundDocument()?this.ze(t,e.pe):this.je(t,e.key,e.pe);for(const t of e.removedTargetIds)this.je(t,e.key,e.pe)}He(e){this.forEachTarget(e,t=>{const r=this.Je(t);switch(e.state){case 0:this.Ye(t)&&r.Me(e.resumeToken);break;case 1:r.ke(),r.ve||r.Oe(),r.Me(e.resumeToken);break;case 2:r.ke(),r.ve||this.removeTarget(t);break;case 3:this.Ye(t)&&(r.qe(),r.Me(e.resumeToken));break;case 4:this.Ye(t)&&(this.Ze(t),r.Me(e.resumeToken));break;default:tt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ke.forEach((r,i)=>{this.Ye(i)&&t(i)})}Xe(e){const t=e.targetId,r=e.ye.count,i=this.et(t);if(i){const c=i.target;if(kg(c))if(0===r){const l=new We(c.path);this.je(t,l,Vn.newNoDocument(l,dt.min()))}else lt(1===r);else{const l=this.tt(t);if(l!==r){const g=this.nt(e),y=g?this.rt(g,e,l):1;0!==y&&(this.Ze(t),this.We=this.We.insert(t,2===y?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}nt(e){const t=e.ye.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:c=0}=t;let l,g;try{l=$c(r).toUint8Array()}catch(y){if(y instanceof _v)return ao("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new CT(l,i,c)}catch(y){return ao(y instanceof qd?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return 0===g.Ae?null:g}rt(e,t,r){return t.ye.count===r-this.ot(e,t.targetId)?0:2}ot(e,t){const r=this.Qe.getRemoteKeysForTarget(t);let i=0;return r.forEach(c=>{const l=this.Qe.st(),g=`projects/${l.projectId}/databases/${l.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.je(t,c,null),i++)}),i}_t(e){const t=new Map;this.Ke.forEach((c,l)=>{const g=this.et(l);if(g){if(c.current&&kg(g.target)){const y=new We(g.target.path);null!==this.$e.get(y)||this.ut(l,y)||this.je(l,y,Vn.newNoDocument(y,e))}c.Fe&&(t.set(l,c.xe()),c.Oe())}});let r=Nt();this.Ue.forEach((c,l)=>{let g=!0;l.forEachWhile(y=>{const I=this.et(y);return!I||"TargetPurposeLimboResolution"===I.purpose||(g=!1,!1)}),g&&(r=r.add(c))}),this.$e.forEach((c,l)=>l.setReadTime(e));const i=new mp(e,t,this.We,this.$e,r);return this.$e=jo(),this.Ue=vI(),this.We=new xn(Pt),i}ze(e,t){if(!this.Ye(e))return;const r=this.ut(e,t.key)?2:0;this.Je(e).Ne(t.key,r),this.$e=this.$e.insert(t.key,t),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}je(e,t,r){if(!this.Ye(e))return;const i=this.Je(e);this.ut(e,t)?i.Ne(t,1):i.Be(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),r&&(this.$e=this.$e.insert(t,r))}removeTarget(e){this.Ke.delete(e)}tt(e){const t=this.Je(e).xe();return this.Qe.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Le(e){this.Je(e).Le()}Je(e){let t=this.Ke.get(e);return t||(t=new Wd,this.Ke.set(e,t)),t}ct(e){let t=this.Ue.get(e);return t||(t=new Cn(Pt),this.Ue=this.Ue.insert(e,t)),t}Ye(e){const t=null!==this.et(e);return t||Me("WatchChangeAggregator","Detected inactive target",e),t}et(e){const t=this.Ke.get(e);return t&&t.ve?null:this.Qe.lt(e)}Ze(e){this.Ke.set(e,new Wd),this.Qe.getRemoteKeysForTarget(e).forEach(t=>{this.je(e,t,null)})}ut(e,t){return this.Qe.getRemoteKeysForTarget(e).has(t)}}function vI(){return new xn(We.comparator)}function bI(){return new xn(We.comparator)}const RM={asc:"ASCENDING",desc:"DESCENDING"},OM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},w1={and:"AND",or:"OR"};class TT{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function EI(n,e){return n.useProto3Json||cv(e)?e:{value:e}}function _p(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function AT(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function x1(n,e){return _p(n,e.toTimestamp())}function xr(n){return lt(!!n),dt.fromTimestamp(function(t){const r=du(t);return new Pn(r.seconds,r.nanos)}(n))}function Vv(n,e){return(r=n,new nn(["projects",r.projectId,"databases",r.database])).child("documents").child(e).canonicalString();var r}function DT(n){const e=nn.fromString(n);return lt(PT(e)),e}function Gg(n,e){return Vv(n.databaseId,e.path)}function Ua(n,e){const t=DT(e);if(t.get(1)!==n.databaseId.projectId)throw new Ae(fe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ae(fe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new We(kM(t))}function ST(n,e){return Vv(n.databaseId,e)}function NM(n){const e=DT(n);return 4===e.length?nn.emptyPath():kM(e)}function Bv(n){return new nn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function kM(n){return lt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function FM(n,e,t){return{name:Gg(n,e),fields:t.value.mapValue.fields}}function MT(n,e,t){const r=Ua(n,e.name),i=xr(e.updateTime),c=e.createTime?xr(e.createTime):dt.min(),l=new oi({mapValue:{fields:e.fields}}),g=Vn.newFoundDocument(r,i,c,l);return t&&g.setHasCommittedMutations(),t?g.setHasCommittedMutations():g}function qg(n,e){let t;if(e instanceof Gd)t={update:FM(n,e.key,e.value)};else if(e instanceof Ho)t={delete:Gg(n,e.key)};else if(e instanceof Wc)t={update:FM(n,e.key,e.data),updateMask:BM(e.fieldMask)};else{if(!(e instanceof kv))return tt();t={verify:Gg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(c,l){const g=l.transform;if(g instanceof fp)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof zd)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof $d)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof pp)return{fieldPath:l.field.canonicalString(),increment:g.Te};throw tt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(c=e.precondition).updateTime?{updateTime:x1(n,c.updateTime)}:void 0!==c.exists?{exists:c.exists}:tt()),t;var c}function jv(n,e){const t=e.currentDocument?void 0!==(c=e.currentDocument).updateTime?Rn.updateTime(xr(c.updateTime)):void 0!==c.exists?Rn.exists(c.exists):Rn.none():Rn.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(l,g){let y=null;"setToServerValue"in g?(lt("REQUEST_TIME"===g.setToServerValue),y=new fp):"appendMissingElements"in g?y=new zd(g.appendMissingElements.values||[]):"removeAllFromArray"in g?y=new $d(g.removeAllFromArray.values||[]):"increment"in g?y=new pp(l,g.increment):tt();const I=Kn.fromServerFormat(g.fieldPath);return new jg(I,y)}(n,i)):[];var c;if(e.update){const i=Ua(n,e.update.name),c=new oi({mapValue:{fields:e.update.fields}});if(e.updateMask){const l=new Ei((e.updateMask.fieldPaths||[]).map(D=>Kn.fromServerFormat(D)));return new Wc(i,c,l,t,r)}return new Gd(i,c,t,r)}if(e.delete){const i=Ua(n,e.delete);return new Ho(i,t)}if(e.verify){const i=Ua(n,e.verify);return new kv(i,t)}return tt()}function II(n,e){return{documents:[ST(n,e.path)]}}function Wg(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=ST(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=ST(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(y){if(0!==y.length)return xI(En.create(y,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const c=function(y){if(0!==y.length)return y.map(I=>{return{field:Kd((P=I).field),direction:wI(P.dir)};var P})}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const l=EI(n,e.limit);return null!==l&&(t.structuredQuery.limit=l),e.startAt&&(t.structuredQuery.startAt={before:(y=e.startAt).inclusive,values:y.position}),e.endAt&&(t.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),t;var y}function Hv(n){let e=NM(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){lt(1===r);const D=t.from[0];D.allDescendants?i=D.collectionId:e=e.child(D.collectionId)}let c=[];t.where&&(c=function(P){const N=zv(P);return N instanceof En&&wv(N)?N.getFilters():[N]}(t.where));let l=[];t.orderBy&&(l=t.orderBy.map(N=>{return new Bd(Zg((J=N).field),function(ue){switch(ue){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(J.direction));var J}));let g=null;t.limit&&(g=function(P){let N;return N="object"==typeof P?P.value:P,cv(N)?null:N}(t.limit));let y=null;var P;t.startAt&&(y=new mu((P=t.startAt).values||[],!!P.before));let I=null;return t.endAt&&(I=function(P){return new mu(P.values||[],!P.before)}(t.endAt)),sI(e,i,l,c,g,"F",y,I)}function zv(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Zg(t.unaryFilter.field);return Qt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Zg(t.unaryFilter.field);return Qt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Zg(t.unaryFilter.field);return Qt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Zg(t.unaryFilter.field);return Qt.create(l,"!=",{nullValue:"NULL_VALUE"});default:return tt()}}(n):void 0!==n.fieldFilter?Qt.create(Zg((t=n).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return tt()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return En.create(t.compositeFilter.filters.map(r=>zv(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return tt()}}(t.compositeFilter.op))}(n):tt();var t}function wI(n){return RM[n]}function $v(n){return OM[n]}function C1(n){return w1[n]}function Kd(n){return{fieldPath:n.canonicalString()}}function Zg(n){return Kn.fromServerFormat(n.fieldPath)}function xI(n){return n instanceof Qt?function(t){if("=="===t.op){if(XE(t.value))return{unaryFilter:{field:Kd(t.field),op:"IS_NAN"}};if(mM(t.value))return{unaryFilter:{field:Kd(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(XE(t.value))return{unaryFilter:{field:Kd(t.field),op:"IS_NOT_NAN"}};if(mM(t.value))return{unaryFilter:{field:Kd(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Kd(t.field),op:$v(t.op),value:t.value}}}(n):n instanceof En?function(t){const r=t.getFilters().map(i=>xI(i));return 1===r.length?r[0]:{compositeFilter:{op:C1(t.op),filters:r}}}(n):tt()}function BM(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function PT(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Zc{constructor(e,t,r,i,c=dt.min(),l=dt.min(),g=fr.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(e){return new Zc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Zc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Zc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Zc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class RT{constructor(e){this.ht=e}}function CI(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Kg(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Gg(c=n.ht,(l=e).key),fields:l.data.value.mapValue.fields,updateTime:_p(c,l.version.toTimestamp()),createTime:_p(c,l.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Yd(e.version)};else{if(!e.isUnknownDocument())return tt();r.unknownDocument={path:t.path.toArray(),version:Yd(e.version)}}var c,l;return r}function Kg(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Yd(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Qd(n){const e=new Pn(n.seconds,n.nanoseconds);return dt.fromTimestamp(e)}function gu(n,e){const t=(e.baseMutations||[]).map(c=>jv(n.ht,c));for(let c=0;c<e.mutations.length-1;++c)c+1<e.mutations.length&&void 0!==e.mutations[c+1].transform&&(e.mutations[c].updateTransforms=e.mutations[c+1].transform.fieldTransforms,e.mutations.splice(c+1,1),++c);const r=e.mutations.map(c=>jv(n.ht,c)),i=Pn.fromMillis(e.localWriteTimeMs);return new Hg(e.batchId,i,t,r)}function Xd(n){const e=Qd(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Qd(n.lastLimboFreeSnapshotVersion):dt.min();let r;return r=void 0!==n.query.documents?(lt(1===(c=n.query).documents.length),co(dp(NM(c.documents[0])))):function(c){return co(Hv(c))}(n.query),new Zc(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,fr.fromBase64String(n.resumeToken));var c}function UM(n,e){const t=Yd(e.snapshotVersion),r=Yd(e.lastLimboFreeSnapshotVersion);let i;i=kg(e.target)?II(n.ht,e.target):Wg(n.ht,e.target);const c=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Hd(e.target),readTime:t,resumeToken:c,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function Gv(n){const e=Hv({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?aI(e,e.limit,"L"):e}function Yg(n,e){return new mI(e.largestBatchId,jv(n.ht,e.overlayMutation))}function NT(n,e){const t=e.path.lastSegment();return[n,bi(e.path.popLast()),t]}function kT(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Yd(r.readTime),documentKey:bi(r.documentKey.path),largestBatchId:r.largestBatchId}}class T1{getBundleMetadata(e,t){return jM(e).get(t).next(r=>{if(r)return{id:(c=r).bundleId,createTime:Qd(c.createTime),version:c.version};var c})}saveBundleMetadata(e,t){return jM(e).put({bundleId:(i=t).id,createTime:Yd(xr(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return FT(e).get(t).next(r=>{if(r)return{name:(c=r).name,query:Gv(c.bundledQuery),readTime:Qd(c.readTime)};var c})}saveNamedQuery(e,t){return FT(e).put({name:(i=t).name,readTime:Yd(xr(i.readTime)),bundledQuery:i.bundledQuery});var i}}function jM(n){return qr(n,"bundles")}function FT(n){return qr(n,"namedQueries")}class qv{constructor(e,t){this.serializer=e,this.userId=t}static Pt(e,t){return new qv(e,t.uid||"")}getOverlay(e,t){return Qg(e).get(NT(this.userId,t)).next(r=>r?Yg(this.serializer,r):null)}getOverlays(e,t){const r=Ba();return ae.forEach(t,i=>this.getOverlay(e,i).next(c=>{null!==c&&r.set(i,c)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((c,l)=>{const g=new mI(t,l);i.push(this.It(e,g))}),ae.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(l=>i.add(bi(l.getCollectionPath())));const c=[];return i.forEach(l=>{const g=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,r+1],!1,!0);c.push(Qg(e).J("collectionPathOverlayIndex",g))}),ae.waitFor(c)}getOverlaysForCollection(e,t,r){const i=Ba(),c=bi(t),l=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,Number.POSITIVE_INFINITY],!0);return Qg(e).G("collectionPathOverlayIndex",l).next(g=>{for(const y of g){const I=Yg(this.serializer,y);i.set(I.getKey(),I)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const c=Ba();let l;const g=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Qg(e).Z({index:"collectionGroupOverlayIndex",range:g},(y,I,D)=>{const P=Yg(this.serializer,I);c.size()<i||P.largestBatchId===l?(c.set(P.getKey(),P),l=P.largestBatchId):D.done()}).next(()=>c)}It(e,t){return Qg(e).put(function(i,c,l){const[g,y,I]=NT(c,l.mutation.key);return{userId:c,collectionPath:y,documentId:I,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:qg(i.ht,l.mutation)}}(this.serializer,this.userId,t))}}function Qg(n){return qr(n,"documentOverlays")}class Jd{constructor(){}dt(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.At(t,5);else if("booleanValue"in e)this.At(t,10),t.Rt(e.booleanValue?1:0);else if("integerValue"in e)this.At(t,15),t.Rt(rr(e.integerValue));else if("doubleValue"in e){const r=rr(e.doubleValue);isNaN(r)?this.At(t,13):(this.At(t,15),lv(r)?t.Rt(0):t.Rt(r))}else if("timestampValue"in e){const r=e.timestampValue;this.At(t,20),"string"==typeof r?t.Vt(r):(t.Vt(`${r.seconds||""}`),t.Rt(r.nanos||0))}else if("stringValue"in e)this.ft(e.stringValue,t),this.gt(t);else if("bytesValue"in e)this.At(t,30),t.yt($c(e.bytesValue)),this.gt(t);else if("referenceValue"in e)this.wt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.At(t,45),t.Rt(r.latitude||0),t.Rt(r.longitude||0)}else"mapValue"in e?gM(e)?this.At(t,Number.MAX_SAFE_INTEGER):(this.St(e.mapValue,t),this.gt(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.gt(t)):tt()}ft(e,t){this.At(t,25),this.Dt(e,t)}Dt(e,t){t.Vt(e)}St(e,t){const r=e.fields||{};this.At(t,55);for(const i of Object.keys(r))this.ft(i,t),this.Tt(r[i],t)}bt(e,t){const r=e.values||[];this.At(t,50);for(const i of r)this.Tt(i,t)}wt(e,t){this.At(t,37),We.fromName(e).path.forEach(r=>{this.At(t,60),this.Dt(r,t)})}At(e,t){e.Rt(t)}gt(e){e.Rt(2)}}function LT(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function TI(n){const e=64-function(r){let i=0;for(let c=0;c<8;++c){const l=LT(255&r[c]);if(i+=l,8!==l)break}return i}(n);return Math.ceil(e/8)}Jd.Ct=new Jd;class HM{constructor(){this.buffer=new Uint8Array(1024),this.position=0}vt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ft(r.value),r=t.next();this.Mt()}xt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ot(r.value),r=t.next();this.Nt()}Bt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ft(r);else if(r<2048)this.Ft(960|r>>>6),this.Ft(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ft(480|r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r);else{const i=t.codePointAt(0);this.Ft(240|i>>>18),this.Ft(128|63&i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i)}}this.Mt()}Lt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ot(r);else if(r<2048)this.Ot(960|r>>>6),this.Ot(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ot(480|r>>>12),this.Ot(128|63&r>>>6),this.Ot(128|63&r);else{const i=t.codePointAt(0);this.Ot(240|i>>>18),this.Ot(128|63&i>>>12),this.Ot(128|63&i>>>6),this.Ot(128|63&i)}}this.Nt()}kt(e){const t=this.qt(e),r=TI(t);this.Qt(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Kt(e){const t=this.qt(e),r=TI(t);this.Qt(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){const t=function(c){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,c,!1),new Uint8Array(l.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Ft(e){const t=255&e;0===t?(this.Ut(0),this.Ut(255)):255===t?(this.Ut(255),this.Ut(0)):this.Ut(t)}Ot(e){const t=255&e;0===t?(this.Gt(0),this.Gt(255)):255===t?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class VT{constructor(e){this.jt=e}yt(e){this.jt.vt(e)}Vt(e){this.jt.Bt(e)}Rt(e){this.jt.kt(e)}Et(){this.jt.$t()}}class BT{constructor(e){this.jt=e}yt(e){this.jt.xt(e)}Vt(e){this.jt.Lt(e)}Rt(e){this.jt.Kt(e)}Et(){this.jt.Wt()}}class Wv{constructor(){this.jt=new HM,this.Ht=new VT(this.jt),this.Jt=new BT(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return 0===e?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}class eh{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Zt(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new eh(this.indexId,this.documentKey,this.arrayValue,r)}}function ja(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=AI(n.arrayValue,e.arrayValue),0!==t?t:(t=AI(n.directionalValue,e.directionalValue),0!==t?t:We.comparator(n.documentKey,e.documentKey)))}function AI(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class DI{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Xt=e.orderBy,this.en=[];for(const t of e.filters){const r=t;r.isInequality()?this.tn=r:this.en.push(r)}}nn(e){lt(e.collectionGroup===this.collectionId);const t=jE(e);if(void 0!==t&&!this.rn(t))return!1;const r=au(e);let i=new Set,c=0,l=0;for(;c<r.length&&this.rn(r[c]);++c)i=i.add(r[c].fieldPath.canonicalString());if(c===r.length)return!0;if(void 0!==this.tn){if(!i.has(this.tn.field.canonicalString())){const g=r[c];if(!this.sn(this.tn,g)||!this.on(this.Xt[l++],g))return!1}++c}for(;c<r.length;++c)if(l>=this.Xt.length||!this.on(this.Xt[l++],r[c]))return!1;return!0}_n(){let e=new Cn(Kn.comparator);const t=[];for(const r of this.en)if(!r.field.isKeyField())if("array-contains"===r.op||"array-contains-any"===r.op)t.push(new cu(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new cu(r.field,0))}for(const r of this.Xt)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new cu(r.field,"asc"===r.dir?0:1)));return new ip(ip.UNKNOWN_ID,this.collectionId,t,op.empty())}rn(e){for(const t of this.en)if(this.sn(t,e))return!0;return!1}sn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}on(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function UT(n){var e,t;if(lt(n instanceof Qt||n instanceof En),n instanceof Qt){if(n instanceof rI){const i=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(c=>Qt.create(n.field,"==",c)))||[];return En.create(i,"or")}return n}const r=n.filters.map(i=>UT(i));return En.create(r,n.op)}function Zv(n){if(0===n.getFilters().length)return[];const e=Kv(UT(n));return lt(PI(e)),SI(e)||MI(e)?[e]:e.getFilters()}function SI(n){return n instanceof Qt}function MI(n){return n instanceof En&&wv(n)}function PI(n){return SI(n)||MI(n)||function(t){if(t instanceof En&&eI(t)){for(const r of t.getFilters())if(!SI(r)&&!MI(r))return!1;return!0}return!1}(n)}function Kv(n){if(lt(n instanceof Qt||n instanceof En),n instanceof Qt)return n;if(1===n.filters.length)return Kv(n.filters[0]);const e=n.filters.map(r=>Kv(r));let t=En.create(e,n.op);return t=RI(t),PI(t)?t:(lt(t instanceof En),lt(Ud(t)),lt(t.filters.length>1),t.filters.reduce((r,i)=>jT(r,i)))}function jT(n,e){let t;return lt(n instanceof Qt||n instanceof En),lt(e instanceof Qt||e instanceof En),t=n instanceof Qt?e instanceof Qt?En.create([n,e],"and"):HT(n,e):e instanceof Qt?HT(e,n):function(i,c){if(lt(i.filters.length>0&&c.filters.length>0),Ud(i)&&Ud(c))return xv(i,c.getFilters());const l=eI(i)?i:c,g=eI(i)?c:i,y=l.filters.map(I=>jT(I,g));return En.create(y,"or")}(n,e),RI(t)}function HT(n,e){if(Ud(e))return xv(e,n.getFilters());{const t=e.filters.map(r=>jT(n,r));return En.create(t,"or")}}function RI(n){if(lt(n instanceof Qt||n instanceof En),n instanceof Qt)return n;const e=n.getFilters();if(1===e.length)return RI(e[0]);if(jd(n))return n;const t=e.map(i=>RI(i)),r=[];return t.forEach(i=>{i instanceof Qt?r.push(i):i instanceof En&&(i.op===n.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:En.create(r,n.op)}class zM{constructor(){this.an=new zT}addToCollectionParentIndex(e,t){return this.an.add(t),ae.resolve()}getCollectionParents(e,t){return ae.resolve(this.an.getEntries(t))}addFieldIndex(e,t){return ae.resolve()}deleteFieldIndex(e,t){return ae.resolve()}deleteAllFieldIndexes(e){return ae.resolve()}createTargetIndexes(e,t){return ae.resolve()}getDocumentsMatchingTarget(e,t){return ae.resolve(null)}getIndexType(e,t){return ae.resolve(0)}getFieldIndexes(e,t){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,t){return ae.resolve(Bo.min())}getMinOffsetFromCollectionGroup(e,t){return ae.resolve(Bo.min())}updateCollectionGroup(e,t,r){return ae.resolve()}updateIndexEntries(e,t){return ae.resolve()}}class zT{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Cn(nn.comparator),c=!i.has(r);return this.index[t]=i.add(r),c}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Cn(nn.comparator)).toArray()}}const OI=new Uint8Array(0);class $M{constructor(e,t){this.user=e,this.databaseId=t,this.un=new zT,this.cn=new vs(r=>Hd(r),(r,i)=>Ng(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.un.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.un.add(t)});const c={collectionId:r,parent:bi(i)};return $T(e).put(c)}return ae.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[UE(t),""],!1,!0);return $T(e).G(i).next(c=>{for(const l of c){if(l.collectionId!==t)break;r.push(La(l.parent))}return r})}addFieldIndex(e,t){const r=Yv(e),i={indexId:(g=t).indexId,collectionGroup:g.collectionGroup,fields:g.fields.map(y=>[y.fieldPath.canonicalString(),y.kind])};var g;delete i.indexId;const c=r.add(i);if(t.indexState){const l=Jg(e);return c.next(g=>{l.put(kT(g,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return c.next()}deleteFieldIndex(e,t){const r=Yv(e),i=Jg(e),c=Xg(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>c.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const t=Yv(e),r=Xg(e),i=Jg(e);return t.J().next(()=>r.J()).next(()=>i.J())}createTargetIndexes(e,t){return ae.forEach(this.ln(t),r=>this.getIndexType(e,r).next(i=>{if(0===i||1===i){const c=new DI(r);return this.addFieldIndex(e,c._n())}}))}getDocumentsMatchingTarget(e,t){const r=Xg(e);let i=!0;const c=new Map;return ae.forEach(this.ln(t),l=>this.hn(e,l).next(g=>{i&&(i=!!g),c.set(l,g)})).next(()=>{if(i){let l=Nt();const g=[];return ae.forEach(c,(y,I)=>{var ke;Me("IndexedDbIndexManager",`Using index ${ke=y,`id=${ke.indexId}|cg=${ke.collectionGroup}|f=${ke.fields.map(Be=>`${Be.fieldPath}:${Be.kind}`).join(",")}`} to execute ${Hd(t)}`);const D=function(ke,Be){const gt=jE(Be);if(void 0===gt)return null;for(const It of Tv(ke,gt.fieldPath))switch(It.op){case"array-contains-any":return It.value.arrayValue.values||[];case"array-contains":return[It.value]}return null}(I,y),P=function(ke,Be){const gt=new Map;for(const It of au(Be))for(const on of Tv(ke,It.fieldPath))switch(on.op){case"==":case"in":gt.set(It.fieldPath.canonicalString(),on.value);break;case"not-in":case"!=":return gt.set(It.fieldPath.canonicalString(),on.value),Array.from(gt.values())}return null}(I,y),N=function(ke,Be){const gt=[];let It=!0;for(const on of au(Be)){const Or=0===on.kind?iI(ke,on.fieldPath,ke.startAt):oI(ke,on.fieldPath,ke.startAt);gt.push(Or.value),It&&(It=Or.inclusive)}return new mu(gt,It)}(I,y),z=function(ke,Be){const gt=[];let It=!0;for(const on of au(Be)){const Or=0===on.kind?oI(ke,on.fieldPath,ke.endAt):iI(ke,on.fieldPath,ke.endAt);gt.push(Or.value),It&&(It=Or.inclusive)}return new mu(gt,It)}(I,y),J=this.Pn(y,I,N),ee=this.Pn(y,I,z),ue=this.In(y,I,P),Pe=this.dn(y.indexId,D,J,N.inclusive,ee,z.inclusive,ue);return ae.forEach(Pe,Le=>r.H(Le,t.limit).next(ke=>{ke.forEach(Be=>{const gt=We.fromSegments(Be.documentKey);l.has(gt)||(l=l.add(gt),g.push(gt))})}))}).next(()=>g)}return ae.resolve(null)})}ln(e){let t=this.cn.get(e);return t||(t=0===e.filters.length?[e]:Zv(En.create(e.filters,"and")).map(r=>Cv(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.cn.set(e,t),t)}dn(e,t,r,i,c,l,g){const y=(null!=t?t.length:1)*Math.max(r.length,c.length),I=y/(null!=t?t.length:1),D=[];for(let P=0;P<y;++P){const N=t?this.Tn(t[P/I]):OI,z=this.En(e,N,r[P%I],i),J=this.An(e,N,c[P%I],l),ee=g.map(ue=>this.En(e,N,ue,!0));D.push(...this.createRange(z,J,ee))}return D}En(e,t,r,i){const c=new eh(e,We.empty(),t,r);return i?c:c.Zt()}An(e,t,r,i){const c=new eh(e,We.empty(),t,r);return i?c.Zt():c}hn(e,t){const r=new DI(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(c=>{let l=null;for(const g of c)r.nn(g)&&(!l||g.fields.length>l.fields.length)&&(l=g);return l})}getIndexType(e,t){let r=2;const i=this.ln(t);return ae.forEach(i,c=>this.hn(e,c).next(l=>{l?0!==r&&l.fields.length<function(y){let I=new Cn(Kn.comparator),D=!1;for(const P of y.filters)for(const N of P.getFlattenedFilters())N.field.isKeyField()||("array-contains"===N.op||"array-contains-any"===N.op?D=!0:I=I.add(N.field));for(const P of y.orderBy)P.field.isKeyField()||(I=I.add(P.field));return I.size+(D?1:0)}(c)&&(r=1):r=0})).next(()=>null!==t.limit&&i.length>1&&2===r?1:r)}Rn(e,t){const r=new Wv;for(const i of au(e)){const c=t.data.field(i.fieldPath);if(null==c)return null;const l=r.Yt(i.kind);Jd.Ct.dt(c,l)}return r.zt()}Tn(e){const t=new Wv;return Jd.Ct.dt(e,t.Yt(0)),t.zt()}Vn(e,t){const r=new Wv;return Jd.Ct.dt(Vd(this.databaseId,t),r.Yt(function(c){const l=au(c);return 0===l.length?0:l[l.length-1].kind}(e))),r.zt()}In(e,t,r){if(null===r)return[];let i=[];i.push(new Wv);let c=0;for(const l of au(e)){const g=r[c++];for(const y of i)if(this.mn(t,l.fieldPath)&&vv(g))i=this.fn(i,l,g);else{const I=y.Yt(l.kind);Jd.Ct.dt(g,I)}}return this.gn(i)}Pn(e,t,r){return this.In(e,t,r.position)}gn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].zt();return t}fn(e,t,r){const i=[...e],c=[];for(const l of r.arrayValue.values||[])for(const g of i){const y=new Wv;y.seed(g.zt()),Jd.Ct.dt(l,y.Yt(t.kind)),c.push(y)}return c}mn(e,t){return!!e.filters.find(r=>r instanceof Qt&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=Yv(e),i=Jg(e);return(t?r.G("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.G()).next(c=>{const l=[];return ae.forEach(c,g=>i.get([g.indexId,this.uid]).next(y=>{l.push(function(D,P){const N=P?new op(P.sequenceNumber,new Bo(Qd(P.readTime),new We(La(P.documentKey)),P.largestBatchId)):op.empty(),z=D.fields.map(([J,ee])=>new cu(Kn.fromServerFormat(J),ee));return new ip(D.indexId,D.collectionGroup,z,N)}(g,y))})).next(()=>l)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const c=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==c?c:Pt(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=Yv(e),c=Jg(e);return this.pn(e).next(l=>i.G("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(g=>ae.forEach(g,y=>c.put(kT(y.indexId,this.user,l,r)))))}updateIndexEntries(e,t){const r=new Map;return ae.forEach(t,(i,c)=>{const l=r.get(i.collectionGroup);return(l?ae.resolve(l):this.getFieldIndexes(e,i.collectionGroup)).next(g=>(r.set(i.collectionGroup,g),ae.forEach(g,y=>this.yn(e,i,y).next(I=>{const D=this.wn(c,y);return I.isEqual(D)?ae.resolve():this.Sn(e,c,y,I,D)}))))})}bn(e,t,r,i){return Xg(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.Vn(r,t.key),documentKey:t.key.path.toArray()})}Dn(e,t,r,i){return Xg(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.Vn(r,t.key),t.key.path.toArray()])}yn(e,t,r){const i=Xg(e);let c=new Cn(ja);return i.Z({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.Vn(r,t)])},(l,g)=>{c=c.add(new eh(r.indexId,t,g.arrayValue,g.directionalValue))}).next(()=>c)}wn(e,t){let r=new Cn(ja);const i=this.Rn(t,e);if(null==i)return r;const c=jE(t);if(null!=c){const l=e.data.field(c.fieldPath);if(vv(l))for(const g of l.arrayValue.values||[])r=r.add(new eh(t.indexId,e.key,this.Tn(g),i))}else r=r.add(new eh(t.indexId,e.key,OI,i));return r}Sn(e,t,r,i,c){Me("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const l=[];return function(y,I,D,P,N){const z=y.getIterator(),J=I.getIterator();let ee=ap(z),ue=ap(J);for(;ee||ue;){let Pe=!1,Le=!1;if(ee&&ue){const ke=D(ee,ue);ke<0?Le=!0:ke>0&&(Pe=!0)}else null!=ee?Le=!0:Pe=!0;Pe?(P(ue),ue=ap(J)):Le?(N(ee),ee=ap(z)):(ee=ap(z),ue=ap(J))}}(i,c,ja,g=>{l.push(this.bn(e,t,r,g))},g=>{l.push(this.Dn(e,t,r,g))}),ae.waitFor(l)}pn(e){let t=1;return Jg(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,c)=>{c.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((l,g)=>ja(l,g)).filter((l,g,y)=>!g||0!==ja(l,y[g-1]));const i=[];i.push(e);for(const l of r){const g=ja(l,e),y=ja(l,t);if(0===g)i[0]=e.Zt();else if(g>0&&y<0)i.push(l),i.push(l.Zt());else if(y>0)break}i.push(t);const c=[];for(let l=0;l<i.length;l+=2){if(this.Cn(i[l],i[l+1]))return[];c.push(IDBKeyRange.bound([i[l].indexId,this.uid,i[l].arrayValue,i[l].directionalValue,OI,[]],[i[l+1].indexId,this.uid,i[l+1].arrayValue,i[l+1].directionalValue,OI,[]]))}return c}Cn(e,t){return ja(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(GM)}getMinOffset(e,t){return ae.mapArray(this.ln(t),r=>this.hn(e,r).next(i=>i||tt())).next(GM)}}function $T(n){return qr(n,"collectionParents")}function Xg(n){return qr(n,"indexEntries")}function Yv(n){return qr(n,"indexConfiguration")}function Jg(n){return qr(n,"indexState")}function GM(n){lt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;HE(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new Bo(e.readTime,e.documentKey,t)}const qM={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ii{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Ii(e,Ii.DEFAULT_COLLECTION_PERCENTILE,Ii.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function WM(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),c=[],l=IDBKeyRange.only(t.batchId);let g=0;const y=r.Z({range:l},(D,P,N)=>(g++,N.delete()));c.push(y.next(()=>{lt(1===g)}));const I=[];for(const D of t.mutations){const P=dv(e,D.key.path,t.batchId);c.push(i.delete(P)),I.push(D.key)}return ae.waitFor(c).next(()=>I)}function NI(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw tt();e=n.noDocument}return JSON.stringify(e).length}Ii.DEFAULT_COLLECTION_PERCENTILE=10,Ii.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ii.DEFAULT=new Ii(41943040,Ii.DEFAULT_COLLECTION_PERCENTILE,Ii.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ii.DISABLED=new Ii(-1,0,0);class kI{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.vn={}}static Pt(e,t,r,i){lt(""!==e.uid);const c=e.isAuthenticated()?e.uid:"";return new kI(c,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return th(e).Z({index:"userMutationsIndex",range:r},(i,c,l)=>{t=!1,l.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const c=yp(e),l=th(e);return l.add({}).next(g=>{lt("number"==typeof g);const y=new Hg(g,t,r,i),I=function(z,J,ee){const ue=ee.baseMutations.map(Le=>qg(z.ht,Le)),Pe=ee.mutations.map(Le=>qg(z.ht,Le));return{userId:J,batchId:ee.batchId,localWriteTimeMs:ee.localWriteTime.toMillis(),baseMutations:ue,mutations:Pe}}(this.serializer,this.userId,y),D=[];let P=new Cn((N,z)=>Pt(N.canonicalString(),z.canonicalString()));for(const N of i){const z=dv(this.userId,N.key.path,g);P=P.add(N.key.path.popLast()),D.push(l.put(I)),D.push(c.put(z,sM))}return P.forEach(N=>{D.push(this.indexManager.addToCollectionParentIndex(e,N))}),e.addOnCommittedListener(()=>{this.vn[g]=y.keys()}),ae.waitFor(D).next(()=>y)})}lookupMutationBatch(e,t){return th(e).get(t).next(r=>r?(lt(r.userId===this.userId),gu(this.serializer,r)):null)}Fn(e,t){return this.vn[t]?ae.resolve(this.vn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.vn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let c=null;return th(e).Z({index:"userMutationsIndex",range:i},(l,g,y)=>{g.userId===this.userId&&(lt(g.batchId>=r),c=gu(this.serializer,g)),y.done()}).next(()=>c)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return th(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(i,c,l)=>{r=c.batchId,l.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return th(e).G("userMutationsIndex",t).next(r=>r.map(i=>gu(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=uv(this.userId,t.path),i=IDBKeyRange.lowerBound(r),c=[];return yp(e).Z({range:i},(l,g,y)=>{const[I,D,P]=l,N=La(D);if(I===this.userId&&t.path.isEqual(N))return th(e).get(P).next(z=>{if(!z)throw tt();lt(z.userId===this.userId),c.push(gu(this.serializer,z))});y.done()}).next(()=>c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Cn(Pt);const i=[];return t.forEach(c=>{const l=uv(this.userId,c.path),g=IDBKeyRange.lowerBound(l),y=yp(e).Z({range:g},(I,D,P)=>{const[N,z,J]=I,ee=La(z);N===this.userId&&c.path.isEqual(ee)?r=r.add(J):P.done()});i.push(y)}),ae.waitFor(i).next(()=>this.Mn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,c=uv(this.userId,r),l=IDBKeyRange.lowerBound(c);let g=new Cn(Pt);return yp(e).Z({range:l},(y,I,D)=>{const[P,N,z]=y,J=La(N);P===this.userId&&r.isPrefixOf(J)?J.length===i&&(g=g.add(z)):D.done()}).next(()=>this.Mn(e,g))}Mn(e,t){const r=[],i=[];return t.forEach(c=>{i.push(th(e).get(c).next(l=>{if(null===l)throw tt();lt(l.userId===this.userId),r.push(gu(this.serializer,l))}))}),ae.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return WM(e.ue,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.xn(t.batchId)}),ae.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}xn(e){delete this.vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ae.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return yp(e).Z({range:r},(c,l,g)=>{if(c[0]===this.userId){const y=La(c[1]);i.push(y)}else g.done()}).next(()=>{lt(0===i.length)})})}containsKey(e,t){return ZM(e,this.userId,t)}On(e){return KM(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function ZM(n,e,t){const r=uv(e,t.path),i=r[1],c=IDBKeyRange.lowerBound(r);let l=!1;return yp(n).Z({range:c,Y:!0},(g,y,I)=>{const[D,P,N]=g;D===e&&P===i&&(l=!0),I.done()}).next(()=>l)}function th(n){return qr(n,"mutations")}function yp(n){return qr(n,"documentMutations")}function KM(n){return qr(n,"mutationQueues")}class o{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static Bn(){return new o(0)}static Ln(){return new o(-1)}}class s{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.kn(e).next(t=>{const r=new o(t.highestTargetId);return t.highestTargetId=r.next(),this.qn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.kn(e).next(t=>dt.fromTimestamp(new Pn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.kn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.kn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.qn(e,i)))}addTargetData(e,t){return this.Qn(e,t).next(()=>this.kn(e).next(r=>(r.targetCount+=1,this.Kn(t,r),this.qn(e,r))))}updateTargetData(e,t){return this.Qn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>a(e).delete(t.targetId)).next(()=>this.kn(e)).next(r=>(lt(r.targetCount>0),r.targetCount-=1,this.qn(e,r)))}removeTargets(e,t,r){let i=0;const c=[];return a(e).Z((l,g)=>{const y=Xd(g);y.sequenceNumber<=t&&null===r.get(y.targetId)&&(i++,c.push(this.removeTargetData(e,y)))}).next(()=>ae.waitFor(c)).next(()=>i)}forEachTarget(e,t){return a(e).Z((r,i)=>{const c=Xd(i);t(c)})}kn(e){return u(e).get("targetGlobalKey").next(t=>(lt(null!==t),t))}qn(e,t){return u(e).put("targetGlobalKey",t)}Qn(e,t){return a(e).put(UM(this.serializer,t))}Kn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.kn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Hd(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let c=null;return a(e).Z({range:i,index:"queryTargetsIndex"},(l,g,y)=>{const I=Xd(g);Ng(t,I.target)&&(c=I,y.done())}).next(()=>c)}addMatchingKeys(e,t,r){const i=[],c=d(e);return t.forEach(l=>{const g=bi(l.path);i.push(c.put({targetId:r,path:g})),i.push(this.referenceDelegate.addReference(e,r,l))}),ae.waitFor(i)}removeMatchingKeys(e,t,r){const i=d(e);return ae.forEach(t,c=>{const l=bi(c.path);return ae.waitFor([i.delete([r,l]),this.referenceDelegate.removeReference(e,r,c)])})}removeMatchingKeysForTargetId(e,t){const r=d(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=d(e);let c=Nt();return i.Z({range:r,Y:!0},(l,g,y)=>{const I=La(l[1]),D=new We(I);c=c.add(D)}).next(()=>c)}containsKey(e,t){const r=bi(t.path),i=IDBKeyRange.bound([r],[UE(r)],!1,!0);let c=0;return d(e).Z({index:"documentTargetsIndex",Y:!0,range:i},([l,g],y,I)=>{0!==l&&(c++,I.done())}).next(()=>c>0)}lt(e,t){return a(e).get(t).next(r=>r?Xd(r):null)}}function a(n){return qr(n,"targets")}function u(n){return qr(n,"targetGlobal")}function d(n){return qr(n,"targetDocuments")}function m([n,e],[t,r]){const i=Pt(n,t);return 0===i?Pt(e,r):i}class b{constructor(e){this.$n=e,this.buffer=new Cn(m),this.Un=0}Wn(){return++this.Un}Gn(e){const t=[e,this.Wn()];if(this.buffer.size<this.$n)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();m(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class E{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.zn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.jn(6e4)}stop(){this.zn&&(this.zn.cancel(),this.zn=null)}get started(){return null!==this.zn}jn(e){var t=this;Me("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.zn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,be.Z)(function*(){t.zn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){ys(r)?Me("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield lu(r)}yield t.jn(3e5)}))}}class w{constructor(e,t){this.Hn=e,this.params=t}calculateTargetCount(e,t){return this.Hn.Jn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return ae.resolve(Uo.ae);const r=new b(t);return this.Hn.forEachTarget(e,i=>r.Gn(i.sequenceNumber)).next(()=>this.Hn.Yn(e,i=>r.Gn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Hn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Hn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Me("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(qM)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Me("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),qM):this.Zn(e,t))}getCacheSize(e){return this.Hn.getCacheSize(e)}Zn(e,t){let r,i,c,l,g,y,I;const D=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(P=>(P>this.params.maximumSequenceNumbersToCollect?(Me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${P}`),i=this.params.maximumSequenceNumbersToCollect):i=P,l=Date.now(),this.nthSequenceNumber(e,i))).next(P=>(r=P,g=Date.now(),this.removeTargets(e,r,t))).next(P=>(c=P,y=Date.now(),this.removeOrphanedDocuments(e,r))).next(P=>(I=Date.now(),tp()<=ms.in.DEBUG&&Me("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${l-D}ms\n\tDetermined least recently used ${i} in `+(g-l)+`ms\n\tRemoved ${c} targets in `+(y-g)+`ms\n\tRemoved ${P} documents in `+(I-y)+`ms\nTotal Duration: ${I-D}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:c,documentsRemoved:P})))}}class O{constructor(e,t){this.db=e,this.garbageCollector=function S(n,e){return new w(n,e)}(this,t)}Jn(e){const t=this.Xn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Xn(e){let t=0;return this.Yn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Yn(e,t){return this.er(e,(r,i)=>t(i))}addReference(e,t,r){return U(e,r)}removeReference(e,t,r){return U(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return U(e,t)}tr(e,t){return function(i,c){let l=!1;return KM(i).X(g=>ZM(i,g,c).next(y=>(y&&(l=!0),ae.resolve(!y)))).next(()=>l)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let c=0;return this.er(e,(l,g)=>{if(g<=t){const y=this.tr(e,l).next(I=>{if(!I)return c++,r.getEntry(e,l).next(()=>(r.removeEntry(l,dt.min()),d(e).delete([0,bi(l.path)])))});i.push(y)}}).next(()=>ae.waitFor(i)).next(()=>r.apply(e)).next(()=>c)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return U(e,t)}er(e,t){const r=d(e);let i,c=Uo.ae;return r.Z({index:"documentTargetsIndex"},([l,g],{path:y,sequenceNumber:I})=>{0===l?(c!==Uo.ae&&t(new We(La(i)),c),c=I,i=y):c=Uo.ae}).next(()=>{c!==Uo.ae&&t(new We(La(i)),c)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function U(n,e){return d(n).put((i=n.currentSequenceNumber,{targetId:0,path:bi(e.path),sequenceNumber:i}));var i}class Y{constructor(){this.changes=new vs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Vn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?ae.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class te{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return rt(e).put(r)}removeEntry(e,t,r){return rt(e).delete(function(c,l){const g=c.path.toArray();return[g.slice(0,g.length-2),g[g.length-2],Kg(l),g[g.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.nr(e,r)))}getEntry(e,t){let r=Vn.newInvalidDocument(t);return rt(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Ce(t))},(i,c)=>{r=this.rr(t,c)}).next(()=>r)}ir(e,t){let r={size:0,document:Vn.newInvalidDocument(t)};return rt(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Ce(t))},(i,c)=>{r={document:this.rr(t,c),size:NI(c)}}).next(()=>r)}getEntries(e,t){let r=jo();return this.sr(e,t,(i,c)=>{const l=this.rr(i,c);r=r.insert(i,l)}).next(()=>r)}_r(e,t){let r=jo(),i=new xn(We.comparator);return this.sr(e,t,(c,l)=>{const g=this.rr(c,l);r=r.insert(c,g),i=i.insert(c,NI(l))}).next(()=>({documents:r,ar:i}))}sr(e,t,r){if(t.isEmpty())return ae.resolve();let i=new Cn(Gt);t.forEach(y=>i=i.add(y));const c=IDBKeyRange.bound(Ce(i.first()),Ce(i.last())),l=i.getIterator();let g=l.getNext();return rt(e).Z({index:"documentKeyIndex",range:c},(y,I,D)=>{const P=We.fromSegments([...I.prefixPath,I.collectionGroup,I.documentId]);for(;g&&Gt(g,P)<0;)r(g,null),g=l.getNext();g&&g.isEqual(P)&&(r(g,I),g=l.hasNext()?l.getNext():null),g?D.W(Ce(g)):D.done()}).next(()=>{for(;g;)r(g,null),g=l.hasNext()?l.getNext():null})}getDocumentsMatchingQuery(e,t,r,i,c){const l=t.path,g=[l.popLast().toArray(),l.lastSegment(),Kg(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],y=[l.popLast().toArray(),l.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return rt(e).G(IDBKeyRange.bound(g,y,!0)).next(I=>{c?.incrementDocumentReadCount(I.length);let D=jo();for(const P of I){const N=this.rr(We.fromSegments(P.prefixPath.concat(P.collectionGroup,P.documentId)),P);N.isFoundDocument()&&(hp(t,N)||i.has(N.key))&&(D=D.insert(N.key,N))}return D})}getAllFromCollectionGroup(e,t,r,i){let c=jo();const l=Dt(t,r),g=Dt(t,Bo.max());return rt(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(l,g,!0)},(y,I,D)=>{const P=this.rr(We.fromSegments(I.prefixPath.concat(I.collectionGroup,I.documentId)),I);c=c.insert(P.key,P),c.size===i&&D.done()}).next(()=>c)}newChangeBuffer(e){return new Re(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Ze(e).get("remoteDocumentGlobalKey").next(t=>(lt(!!t),t))}nr(e,t){return Ze(e).put("remoteDocumentGlobalKey",t)}rr(e,t){if(t){const r=function OT(n,e){let t;if(e.document)t=MT(n.ht,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=We.fromSegments(e.noDocument.path),i=Qd(e.noDocument.readTime);t=Vn.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return tt();{const r=We.fromSegments(e.unknownDocument.path),i=Qd(e.unknownDocument.version);t=Vn.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(i){const c=new Pn(i[0],i[1]);return dt.fromTimestamp(c)}(e.readTime)),t}(this.serializer,t);if(!r.isNoDocument()||!r.version.isEqual(dt.min()))return r}return Vn.newInvalidDocument(e)}}function Ee(n){return new te(n)}class Re extends Y{constructor(e,t){super(),this.ur=e,this.trackRemovals=t,this.cr=new vs(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new Cn((c,l)=>Pt(c.canonicalString(),l.canonicalString()));return this.changes.forEach((c,l)=>{const g=this.cr.get(c);if(t.push(this.ur.removeEntry(e,c,g.readTime)),l.isValidDocument()){const y=CI(this.ur.serializer,l);i=i.add(c.path.popLast());const I=NI(y);r+=I-g.size,t.push(this.ur.addEntry(e,c,y))}else if(r-=g.size,this.trackRemovals){const y=CI(this.ur.serializer,l.convertToNoDocument(dt.min()));t.push(this.ur.addEntry(e,c,y))}}),i.forEach(c=>{t.push(this.ur.indexManager.addToCollectionParentIndex(e,c))}),t.push(this.ur.updateMetadata(e,r)),ae.waitFor(t)}getFromCache(e,t){return this.ur.ir(e,t).next(r=>(this.cr.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.ur._r(e,t).next(({documents:r,ar:i})=>(i.forEach((c,l)=>{this.cr.set(c,{size:l,readTime:r.get(c).readTime})}),r))}}function Ze(n){return qr(n,"remoteDocumentGlobal")}function rt(n){return qr(n,"remoteDocumentsV14")}function Ce(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Dt(n,e){const t=e.documentKey.path.toArray();return[n,Kg(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Gt(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let c=0;c<t.length-2&&c<r.length-2;++c)if(i=Pt(t[c],r[c]),i)return i;return i=Pt(t.length,r.length),i||(i=Pt(t[t.length-2],r[r.length-2]),i||Pt(t[t.length-1],r[r.length-1]))}class vn{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Vi{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&Ov(r.mutation,i,Ei.empty(),Pn.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Nt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Nt()){const i=Ba();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(c=>{let l=Bg();return c.forEach((g,y)=>{l=l.insert(g,y.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=Ba();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Nt()))}populateOverlays(e,t,r){const i=[];return r.forEach(c=>{t.has(c)||i.push(c)}),this.documentOverlayCache.getOverlays(e,i).next(c=>{c.forEach((l,g)=>{t.set(l,g)})})}computeViews(e,t,r,i){let c=jo();const l=Ug(),g=Ug();return t.forEach((y,I)=>{const D=r.get(I.key);i.has(I.key)&&(void 0===D||D.mutation instanceof Wc)?c=c.insert(I.key,I):void 0!==D?(l.set(I.key,D.mutation.getFieldMask()),Ov(D.mutation,I,D.mutation.getFieldMask(),Pn.now())):l.set(I.key,Ei.empty())}),this.recalculateAndSaveOverlays(e,c).next(y=>(y.forEach((I,D)=>l.set(I,D)),t.forEach((I,D)=>{var P;return g.set(I,new vn(D,null!==(P=l.get(I))&&void 0!==P?P:null))}),g))}recalculateAndSaveOverlays(e,t){const r=Ug();let i=new xn((l,g)=>l-g),c=Nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const g of l)g.keys().forEach(y=>{const I=t.get(y);if(null===I)return;let D=r.get(y)||Ei.empty();D=g.applyToLocalView(I,D),r.set(y,D);const P=(i.get(g.batchId)||Nt()).add(y);i=i.insert(g.batchId,P)})}).next(()=>{const l=[],g=i.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),I=y.key,D=y.value,P=cT();D.forEach(N=>{if(!c.has(N)){const z=hI(t.get(N),r.get(N));null!==z&&P.set(N,z),c=c.add(N)}}),l.push(this.documentOverlayCache.saveOverlays(e,I,P))}return ae.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return We.isDocumentKey((l=t).path)&&null===l.collectionGroup&&0===l.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):sT(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i);var l}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(c=>{const l=i-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-c.size):ae.resolve(Ba());let g=-1,y=c;return l.next(I=>ae.forEach(I,(D,P)=>(g<P.largestBatchId&&(g=P.largestBatchId),c.get(D)?ae.resolve():this.remoteDocumentCache.getEntry(e,D).next(N=>{y=y.insert(D,N)}))).next(()=>this.populateOverlays(e,I,c)).next(()=>this.computeViews(e,y,I,Nt())).next(D=>({batchId:g,changes:lI(D)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new We(t)).next(r=>{let i=Bg();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const c=t.collectionGroup;let l=Bg();return this.indexManager.getCollectionParents(e,c).next(g=>ae.forEach(g,y=>{const I=(P=t,N=y.child(c),new Va(N,null,P.explicitOrderBy.slice(),P.filters.slice(),P.limit,P.limitType,P.startAt,P.endAt));var P,N;return this.getDocumentsMatchingCollectionQuery(e,I,r,i).next(D=>{D.forEach((P,N)=>{l=l.insert(P,N)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r,i){let c;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(l=>(c=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,c,i))).next(l=>{c.forEach((y,I)=>{const D=I.getKey();null===l.get(D)&&(l=l.insert(D,Vn.newInvalidDocument(D)))});let g=Bg();return l.forEach((y,I)=>{const D=c.get(y);void 0!==D&&Ov(D.mutation,I,Ei.empty(),Pn.now()),hp(t,I)&&(g=g.insert(y,I))}),g})}}class Kc{constructor(e){this.serializer=e,this.lr=new Map,this.hr=new Map}getBundleMetadata(e,t){return ae.resolve(this.lr.get(t))}saveBundleMetadata(e,t){return this.lr.set(t.id,{id:(i=t).id,version:i.version,createTime:xr(i.createTime)}),ae.resolve();var i}getNamedQuery(e,t){return ae.resolve(this.hr.get(t))}saveNamedQuery(e,t){return this.hr.set(t.name,{name:(i=t).name,query:Gv(i.bundledQuery),readTime:xr(i.readTime)}),ae.resolve();var i}}class vp{constructor(){this.overlays=new xn(We.comparator),this.Pr=new Map}getOverlay(e,t){return ae.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Ba();return ae.forEach(t,i=>this.getOverlay(e,i).next(c=>{null!==c&&r.set(i,c)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,c)=>{this.It(e,t,c)}),ae.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Pr.get(r);return void 0!==i&&(i.forEach(c=>this.overlays=this.overlays.remove(c)),this.Pr.delete(r)),ae.resolve()}getOverlaysForCollection(e,t,r){const i=Ba(),c=t.length+1,l=new We(t.child("")),g=this.overlays.getIteratorFrom(l);for(;g.hasNext();){const y=g.getNext().value,I=y.getKey();if(!t.isPrefixOf(I.path))break;I.path.length===c&&y.largestBatchId>r&&i.set(y.getKey(),y)}return ae.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let c=new xn((I,D)=>I-D);const l=this.overlays.getIterator();for(;l.hasNext();){const I=l.getNext().value;if(I.getKey().getCollectionGroup()===t&&I.largestBatchId>r){let D=c.get(I.largestBatchId);null===D&&(D=Ba(),c=c.insert(I.largestBatchId,D)),D.set(I.getKey(),I)}}const g=Ba(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((I,D)=>g.set(I,D)),!(g.size()>=i)););return ae.resolve(g)}It(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const l=this.Pr.get(i.largestBatchId).delete(r.key);this.Pr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new mI(t,r));let c=this.Pr.get(t);void 0===c&&(c=Nt(),this.Pr.set(t,c)),this.Pr.set(t,c.add(r.key))}}class e_{constructor(){this.Ir=new Cn(Zr.dr),this.Tr=new Cn(Zr.Er)}isEmpty(){return this.Ir.isEmpty()}addReference(e,t){const r=new Zr(e,t);this.Ir=this.Ir.add(r),this.Tr=this.Tr.add(r)}Ar(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Rr(new Zr(e,t))}Vr(e,t){e.forEach(r=>this.removeReference(r,t))}mr(e){const t=new We(new nn([])),r=new Zr(t,e),i=new Zr(t,e+1),c=[];return this.Tr.forEachInRange([r,i],l=>{this.Rr(l),c.push(l.key)}),c}gr(){this.Ir.forEach(e=>this.Rr(e))}Rr(e){this.Ir=this.Ir.delete(e),this.Tr=this.Tr.delete(e)}pr(e){const t=new We(new nn([])),r=new Zr(t,e),i=new Zr(t,e+1);let c=Nt();return this.Tr.forEachInRange([r,i],l=>{c=c.add(l.key)}),c}containsKey(e){const t=new Zr(e,0),r=this.Ir.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Zr{constructor(e,t){this.key=e,this.yr=t}static dr(e,t){return We.comparator(e.key,t.key)||Pt(e.yr,t.yr)}static Er(e,t){return Pt(e.yr,t.yr)||We.comparator(e.key,t.key)}}class YM{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.wr=1,this.Sr=new Cn(Zr.dr)}checkEmpty(e){return ae.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const c=this.wr;this.wr++;const l=new Hg(c,t,r,i);this.mutationQueue.push(l);for(const g of i)this.Sr=this.Sr.add(new Zr(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return ae.resolve(l)}lookupMutationBatch(e,t){return ae.resolve(this.br(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.Dr(t+1),c=i<0?0:i;return ae.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(0===this.mutationQueue.length?-1:this.wr-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Zr(t,0),i=new Zr(t,Number.POSITIVE_INFINITY),c=[];return this.Sr.forEachInRange([r,i],l=>{const g=this.br(l.yr);c.push(g)}),ae.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Cn(Pt);return t.forEach(i=>{const c=new Zr(i,0),l=new Zr(i,Number.POSITIVE_INFINITY);this.Sr.forEachInRange([c,l],g=>{r=r.add(g.yr)})}),ae.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let c=r;We.isDocumentKey(c)||(c=c.child(""));const l=new Zr(new We(c),0);let g=new Cn(Pt);return this.Sr.forEachWhile(y=>{const I=y.key.path;return!!r.isPrefixOf(I)&&(I.length===i&&(g=g.add(y.yr)),!0)},l),ae.resolve(this.Cr(g))}Cr(e){const t=[];return e.forEach(r=>{const i=this.br(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){lt(0===this.vr(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Sr;return ae.forEach(t.mutations,i=>{const c=new Zr(i.key,t.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Sr=r})}xn(e){}containsKey(e,t){const r=new Zr(t,0),i=this.Sr.firstAfterOrEqual(r);return ae.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return ae.resolve()}vr(e,t){return this.Dr(e)}Dr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}br(e){const t=this.Dr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class rL{constructor(e){this.Fr=e,this.docs=new xn(We.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),c=i?i.size:0,l=this.Fr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ae.resolve(r?r.document.mutableCopy():Vn.newInvalidDocument(t))}getEntries(e,t){let r=jo();return t.forEach(i=>{const c=this.docs.get(i);r=r.insert(i,c?c.document.mutableCopy():Vn.newInvalidDocument(i))}),ae.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let c=jo();const l=t.path,g=new We(l.child("")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:I,value:{document:D}}=y.getNext();if(!l.isPrefixOf(I.path))break;I.path.length>l.length+1||HE(UC(D),r)<=0||(i.has(D.key)||hp(t,D))&&(c=c.insert(D.key,D.mutableCopy()))}return ae.resolve(c)}getAllFromCollectionGroup(e,t,r,i){tt()}Mr(e,t){return ae.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new iL(this)}getSize(e){return ae.resolve(this.size)}}class iL extends Y{constructor(e){super(),this.ur=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.ur.addEntry(e,i)):this.ur.removeEntry(r)}),ae.waitFor(t)}getFromCache(e,t){return this.ur.getEntry(e,t)}getAllFromCache(e,t){return this.ur.getEntries(e,t)}}class oL{constructor(e){this.persistence=e,this.Or=new vs(t=>Hd(t),Ng),this.lastRemoteSnapshotVersion=dt.min(),this.highestTargetId=0,this.Nr=0,this.Br=new e_,this.targetCount=0,this.Lr=o.Bn()}forEachTarget(e,t){return this.Or.forEach((r,i)=>t(i)),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.Nr)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Nr&&(this.Nr=t),ae.resolve()}Qn(e){this.Or.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Lr=new o(t),this.highestTargetId=t),e.sequenceNumber>this.Nr&&(this.Nr=e.sequenceNumber)}addTargetData(e,t){return this.Qn(t),this.targetCount+=1,ae.resolve()}updateTargetData(e,t){return this.Qn(t),ae.resolve()}removeTargetData(e,t){return this.Or.delete(t.target),this.Br.mr(t.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,t,r){let i=0;const c=[];return this.Or.forEach((l,g)=>{g.sequenceNumber<=t&&null===r.get(g.targetId)&&(this.Or.delete(l),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),i++)}),ae.waitFor(c).next(()=>i)}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,t){const r=this.Or.get(t)||null;return ae.resolve(r)}addMatchingKeys(e,t,r){return this.Br.Ar(t,r),ae.resolve()}removeMatchingKeys(e,t,r){this.Br.Vr(t,r);const i=this.persistence.referenceDelegate,c=[];return i&&t.forEach(l=>{c.push(i.markPotentiallyOrphaned(e,l))}),ae.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this.Br.mr(t),ae.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Br.pr(t);return ae.resolve(r)}containsKey(e,t){return ae.resolve(this.Br.containsKey(t))}}class QM{constructor(e,t){this.kr={},this.overlays={},this.qr=new Uo(0),this.Qr=!1,this.Qr=!0,this.referenceDelegate=e(this),this.Kr=new oL(this),this.indexManager=new zM,this.remoteDocumentCache=new rL(r=>this.referenceDelegate.$r(r)),this.serializer=new RT(t),this.Ur=new Kc(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Qr=!1,Promise.resolve()}get started(){return this.Qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new vp,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.kr[e.toKey()];return r||(r=new YM(t,this.referenceDelegate),this.kr[e.toKey()]=r),r}getTargetCache(){return this.Kr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ur}runTransaction(e,t,r){Me("MemoryPersistence","Starting transaction:",e);const i=new sL(this.qr.next());return this.referenceDelegate.Wr(),r(i).next(c=>this.referenceDelegate.Gr(i).next(()=>c)).toPromise().then(c=>(i.raiseOnCommittedEvent(),c))}zr(e,t){return ae.or(Object.values(this.kr).map(r=>()=>r.containsKey(e,t)))}}class sL extends HC{constructor(e){super(),this.currentSequenceNumber=e}}class GT{constructor(e){this.persistence=e,this.jr=new e_,this.Hr=null}static Jr(e){return new GT(e)}get Yr(){if(this.Hr)return this.Hr;throw tt()}addReference(e,t,r){return this.jr.addReference(r,t),this.Yr.delete(r.toString()),ae.resolve()}removeReference(e,t,r){return this.jr.removeReference(r,t),this.Yr.add(r.toString()),ae.resolve()}markPotentiallyOrphaned(e,t){return this.Yr.add(t.toString()),ae.resolve()}removeTarget(e,t){this.jr.mr(t.targetId).forEach(i=>this.Yr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(c=>this.Yr.add(c.toString()))}).next(()=>r.removeTargetData(e,t))}Wr(){this.Hr=new Set}Gr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.Yr,r=>{const i=We.fromPath(r);return this.Zr(e,i).next(c=>{c||t.removeEntry(i,dt.min())})}).next(()=>(this.Hr=null,t.apply(e)))}updateLimboDocument(e,t){return this.Zr(e,t).next(r=>{r?this.Yr.delete(t.toString()):this.Yr.add(t.toString())})}$r(e){return 0}Zr(e,t){return ae.or([()=>ae.resolve(this.jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.zr(e,t)])}}class aL{constructor(e){this.serializer=e}B(e,t,r,i){const c=new sv("createOrUpgrade",t);var y;r<1&&i>=1&&(e.createObjectStore("owner"),(y=e).createObjectStore("mutationQueues",{keyPath:"userId"}),y.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",sp,{unique:!0}),y.createObjectStore("documentMutations"),A1(e),function(y){y.createObjectStore("remoteDocuments")}(e));let l=ae.resolve();return r<3&&i>=3&&(0!==r&&(function(y){y.deleteObjectStore("targetDocuments"),y.deleteObjectStore("targets"),y.deleteObjectStore("targetGlobal")}(e),A1(e)),l=l.next(()=>function(y){const I=y.store("targetGlobal"),D={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:dt.min().toTimestamp(),targetCount:0};return I.put("targetGlobalKey",D)}(c))),r<4&&i>=4&&(0!==r&&(l=l.next(()=>function(y,I){return I.store("mutations").G().next(D=>{y.deleteObjectStore("mutations"),y.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",sp,{unique:!0});const P=I.store("mutations"),N=D.map(z=>P.put(z));return ae.waitFor(N)})}(e,c))),l=l.next(()=>{!function(y){y.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(l=l.next(()=>this.ei(c))),r<6&&i>=6&&(l=l.next(()=>(function(y){y.createObjectStore("remoteDocumentGlobal")}(e),this.ti(c)))),r<7&&i>=7&&(l=l.next(()=>this.ni(c))),r<8&&i>=8&&(l=l.next(()=>this.ri(e,c))),r<9&&i>=9&&(l=l.next(()=>{!function(y){y.objectStoreNames.contains("remoteDocumentChanges")&&y.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(l=l.next(()=>this.ii(c))),r<11&&i>=11&&(l=l.next(()=>{(function(y){y.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(y){y.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(l=l.next(()=>{!function(y){const I=y.createObjectStore("documentOverlays",{keyPath:fv});I.createIndex("collectionPathOverlayIndex",hM,{unique:!1}),I.createIndex("collectionGroupOverlayIndex",fM,{unique:!1})}(e)})),r<13&&i>=13&&(l=l.next(()=>function(y){const I=y.createObjectStore("remoteDocumentsV14",{keyPath:_1});I.createIndex("documentKeyIndex",aM),I.createIndex("collectionGroupIndex",y1)}(e)).next(()=>this.si(e,c)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(l=l.next(()=>this.oi(e,c))),r<15&&i>=15&&(l=l.next(()=>function(y){y.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),y.createObjectStore("indexState",{keyPath:hv}).createIndex("sequenceNumberIndex",WC,{unique:!1}),y.createObjectStore("indexEntries",{keyPath:dM}).createIndex("documentKeyIndex",ZC,{unique:!1})}(e))),l}ti(e){let t=0;return e.store("remoteDocuments").Z((r,i)=>{t+=NI(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}ei(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.G().next(i=>ae.forEach(i,c=>{const l=IDBKeyRange.bound([c.userId,-1],[c.userId,c.lastAcknowledgedBatchId]);return r.G("userMutationsIndex",l).next(g=>ae.forEach(g,y=>{lt(y.userId===c.userId);const I=gu(this.serializer,y);return WM(e,c.userId,I).next(()=>{})}))}))}ni(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const c=[];return r.Z((l,g)=>{const y=new nn(l),I=[0,bi(y)];c.push(t.get(I).next(D=>D?ae.resolve():t.put({targetId:0,path:bi(y),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>ae.waitFor(c))})}ri(e,t){e.createObjectStore("collectionParents",{keyPath:uM});const r=t.store("collectionParents"),i=new zT,c=l=>{if(i.add(l)){const g=l.lastSegment(),y=l.popLast();return r.put({collectionId:g,parent:bi(y)})}};return t.store("remoteDocuments").Z({Y:!0},(l,g)=>{const y=new nn(l);return c(y.popLast())}).next(()=>t.store("documentMutations").Z({Y:!0},([l,g,y],I)=>{const D=La(g);return c(D.popLast())}))}ii(e){const t=e.store("targets");return t.Z((r,i)=>{const c=Xd(i),l=UM(this.serializer,c);return t.put(l)})}si(e,t){const r=t.store("remoteDocuments"),i=[];return r.Z((c,l)=>{const g=t.store("remoteDocumentsV14"),y=(P=l,P.document?new We(nn.fromString(P.document.name).popFirst(5)):P.noDocument?We.fromSegments(P.noDocument.path):P.unknownDocument?We.fromSegments(P.unknownDocument.path):tt()).path.toArray(),I={prefixPath:y.slice(0,y.length-2),collectionGroup:y[y.length-2],documentId:y[y.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};var P;i.push(g.put(I))}).next(()=>ae.waitFor(i))}oi(e,t){const r=t.store("mutations"),i=Ee(this.serializer),c=new QM(GT.Jr,this.serializer.ht);return r.G().next(l=>{const g=new Map;return l.forEach(y=>{var I;let D=null!==(I=g.get(y.userId))&&void 0!==I?I:Nt();gu(this.serializer,y).keys().forEach(P=>D=D.add(P)),g.set(y.userId,D)}),ae.forEach(g,(y,I)=>{const D=new Gr(I),P=qv.Pt(this.serializer,D),N=c.getIndexManager(D),z=kI.Pt(D,this.serializer,N,c.referenceDelegate);return new Vi(i,z,P,N).recalculateAndSaveOverlaysForDocumentKeys(new WE(t,Uo.ae),y).next()})})}}function A1(n){n.createObjectStore("targetDocuments",{keyPath:cM}).createIndex("documentTargetsIndex",lM,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Sg,{unique:!0}),n.createObjectStore("targetGlobal")}const XM="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class JM{constructor(e,t,r,i,c,l,g,y,I,D,P=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this._i=c,this.window=l,this.document=g,this.ai=I,this.ui=D,this.ci=P,this.qr=null,this.Qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.li=null,this.inForeground=!1,this.hi=null,this.Pi=null,this.Ii=Number.NEGATIVE_INFINITY,this.di=N=>Promise.resolve(),!JM.C())throw new Ae(fe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new O(this,i),this.Ti=t+"main",this.serializer=new RT(y),this.Ei=new Qs(this.Ti,this.ci,new aL(this.serializer)),this.Kr=new s(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Ee(this.serializer),this.Ur=new T1,this.window&&this.window.localStorage?this.Ai=this.window.localStorage:(this.Ai=null,!1===D&&hr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ri().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ae(fe.FAILED_PRECONDITION,XM);return this.Vi(),this.mi(),this.fi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Kr.getHighestSequenceNumber(e))}).then(e=>{this.qr=new Uo(e,this.ai)}).then(()=>{this.Qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}gi(e){var t=this;return this.di=function(){var r=(0,be.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.k(function(){var t=(0,be.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this._i.enqueueAndForget((0,be.Z)(function*(){t.started&&(yield t.Ri())})))}Ri(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>WT(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.pi(e).next(t=>{t||(this.isPrimary=!1,this._i.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.yi(e)).next(t=>this.isPrimary&&!t?this.wi(e).next(()=>!1):!!t&&this.Si(e).next(()=>!0))).catch(e=>{if(ys(e))return Me("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Me("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this._i.enqueueRetryable(()=>this.di(e)),this.isPrimary=e})}pi(e){return FI(e).get("owner").next(t=>ae.resolve(this.bi(t)))}Di(e){return WT(e).delete(this.clientId)}Ci(){var e=this;return(0,be.Z)(function*(){if(e.isPrimary&&!e.vi(e.Ii,18e5)){e.Ii=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=qr(r,"clientMetadata");return i.G().next(c=>{const l=e.Fi(c,18e5),g=c.filter(y=>-1===l.indexOf(y));return ae.forEach(g,y=>i.delete(y.clientId)).next(()=>g)})}).catch(()=>[]);if(e.Ai)for(const r of t)e.Ai.removeItem(e.Mi(r.clientId))}})()}fi(){this.Pi=this._i.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ri().then(()=>this.Ci()).then(()=>this.fi()))}bi(e){return!!e&&e.ownerId===this.clientId}yi(e){return this.ui?ae.resolve(!0):FI(e).get("owner").next(t=>{if(null!==t&&this.vi(t.leaseTimestampMs,5e3)&&!this.xi(t.ownerId)){if(this.bi(t)&&this.networkEnabled)return!0;if(!this.bi(t)){if(!t.allowTabSynchronization)throw new Ae(fe.FAILED_PRECONDITION,XM);return!1}}return!(!this.networkEnabled||!this.inForeground)||WT(e).G().next(r=>void 0===this.Fi(r,5e3).find(i=>!(this.clientId===i.clientId||!(!this.networkEnabled&&i.networkEnabled||!this.inForeground&&i.inForeground&&this.networkEnabled===i.networkEnabled))))}).next(t=>(this.isPrimary!==t&&Me("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,be.Z)(function*(){e.Qr=!1,e.Oi(),e.Pi&&(e.Pi.cancel(),e.Pi=null),e.Ni(),e.Bi(),yield e.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new WE(t,Uo.ae);return e.wi(r).next(()=>e.Di(r))}),e.Ei.close(),e.Li()})()}Fi(e,t){return e.filter(r=>this.vi(r.updateTimeMs,t)&&!this.xi(r.clientId))}ki(){return this.runTransaction("getActiveClients","readonly",e=>WT(e).G().next(t=>this.Fi(t,18e5).map(r=>r.clientId)))}get started(){return this.Qr}getMutationQueue(e,t){return kI.Pt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Kr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new $M(e,this.serializer.ht.databaseId)}getDocumentOverlayCache(e){return qv.Pt(this.serializer,e)}getBundleCache(){return this.Ur}runTransaction(e,t,r){Me("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",c=15===(y=this.ci)?pv:14===y?qE:13===y?KC:12===y?pM:11===y?GE:void tt();var y;let l;return this.Ei.runTransaction(e,i,c,g=>(l=new WE(g,this.qr?this.qr.next():Uo.ae),"readwrite-primary"===t?this.pi(l).next(y=>!!y||this.yi(l)).next(y=>{if(!y)throw hr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this._i.enqueueRetryable(()=>this.di(!1)),new Ae(fe.FAILED_PRECONDITION,jC);return r(l)}).next(y=>this.Si(l).next(()=>y)):this.qi(l).next(()=>r(l)))).then(g=>(l.raiseOnCommittedEvent(),g))}qi(e){return FI(e).get("owner").next(t=>{if(null!==t&&this.vi(t.leaseTimestampMs,5e3)&&!this.xi(t.ownerId)&&!this.bi(t)&&!(this.ui||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Ae(fe.FAILED_PRECONDITION,XM)})}Si(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return FI(e).put("owner",t)}static C(){return Qs.C()}wi(e){const t=FI(e);return t.get("owner").next(r=>this.bi(r)?(Me("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ae.resolve())}vi(e,t){const r=Date.now();return!(e<r-t||e>r&&(hr(`Detected an update time that is in the future: ${e} > ${r}`),1))}Vi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.hi=()=>{this._i.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ri()))},this.document.addEventListener("visibilitychange",this.hi),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.hi&&(this.document.removeEventListener("visibilitychange",this.hi),this.hi=null)}mi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.li=()=>{this.Oi();const t=/(?:Version|Mobile)\/1[456]/;(0,en.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this._i.enterRestrictedMode(!0),this._i.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.li))}Bi(){this.li&&(this.window.removeEventListener("pagehide",this.li),this.li=null)}xi(e){var t;try{const r=null!==(null===(t=this.Ai)||void 0===t?void 0:t.getItem(this.Mi(e)));return Me("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return hr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Oi(){if(this.Ai)try{this.Ai.setItem(this.Mi(this.clientId),String(Date.now()))}catch(e){hr("Failed to set zombie client id.",e)}}Li(){if(this.Ai)try{this.Ai.removeItem(this.Mi(this.clientId))}catch{}}Mi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function FI(n){return qr(n,"owner")}function WT(n){return qr(n,"clientMetadata")}function eP(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class tP{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Qi=r,this.Ki=i}static $i(e,t){let r=Nt(),i=Nt();for(const c of t.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:i=i.add(c.doc.key)}return new tP(e,t.fromCache,r,i)}}class cL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class D1{constructor(){this.Ui=!1,this.Wi=!1,this.Gi=100,this.zi=8}initialize(e,t){this.ji=e,this.indexManager=t,this.Ui=!0}getDocumentsMatchingQuery(e,t,r,i){const c={result:null};return this.Hi(e,t).next(l=>{c.result=l}).next(()=>{if(!c.result)return this.Ji(e,t,i,r).next(l=>{c.result=l})}).next(()=>{if(c.result)return;const l=new cL;return this.Yi(e,t,l).next(g=>{if(c.result=g,this.Wi)return this.Zi(e,t,l,g.size)})}).next(()=>c.result)}Zi(e,t,r,i){return r.documentReadCount<this.Gi?(tp()<=ms.in.DEBUG&&Me("QueryEngine","SDK will not create cache indexes for query:",Vg(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Gi,"documents"),ae.resolve()):(tp()<=ms.in.DEBUG&&Me("QueryEngine","Query:",Vg(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.zi*i?(tp()<=ms.in.DEBUG&&Me("QueryEngine","The SDK decides to create cache indexes for query:",Vg(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,co(t))):ae.resolve())}Hi(e,t){if(iT(t))return ae.resolve(null);let r=co(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=aI(t,null,"F"),r=co(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(c=>{const l=Nt(...c);return this.ji.getDocuments(e,l).next(g=>this.indexManager.getMinOffset(e,r).next(y=>{const I=this.Xi(t,g);return this.es(t,I,l,y.readTime)?this.Hi(e,aI(t,null,"F")):this.ts(e,I,t,y)}))})))}Ji(e,t,r,i){return iT(t)||i.isEqual(dt.min())?ae.resolve(null):this.ji.getDocuments(e,r).next(c=>{const l=this.Xi(t,c);return this.es(t,l,r,i)?ae.resolve(null):(tp()<=ms.in.DEBUG&&Me("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Vg(t)),this.ts(e,l,t,nM(i,-1)).next(g=>g))})}Xi(e,t){let r=new Cn(cI(e));return t.forEach((i,c)=>{hp(e,c)&&(r=r.add(c))}),r}es(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const c="F"===e.limitType?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(i)>0)}Yi(e,t,r){return tp()<=ms.in.DEBUG&&Me("QueryEngine","Using full collection scan to execute query:",Vg(t)),this.ji.getDocumentsMatchingQuery(e,t,Bo.min(),r)}ts(e,t,r,i){return this.ji.getDocumentsMatchingQuery(e,r,i).next(c=>(t.forEach(l=>{c=c.insert(l.key,l)}),c))}}class lL{constructor(e,t,r,i){this.persistence=e,this.ns=t,this.serializer=i,this.rs=new xn(Pt),this.ss=new vs(c=>Hd(c),Ng),this.os=new Map,this._s=e.getRemoteDocumentCache(),this.Kr=e.getTargetCache(),this.Ur=e.getBundleCache(),this.us(r)}us(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Vi(this._s,this.mutationQueue,this.documentOverlayCache,this.indexManager),this._s.setIndexManager(this.indexManager),this.ns.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.rs))}}function S1(n,e,t,r){return new lL(n,e,t,r)}function M1(n,e){return nP.apply(this,arguments)}function nP(){return nP=(0,be.Z)(function*(n,e){const t=ze(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(c=>(i=c,t.us(e),t.mutationQueue.getAllMutationBatches(r))).next(c=>{const l=[],g=[];let y=Nt();for(const I of i){l.push(I.batchId);for(const D of I.mutations)y=y.add(D.key)}for(const I of c){g.push(I.batchId);for(const D of I.mutations)y=y.add(D.key)}return t.localDocuments.getDocuments(r,y).next(I=>({cs:I,removedBatchIds:l,addedBatchIds:g}))})})}),nP.apply(this,arguments)}function P1(n){const e=ze(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Kr.getLastRemoteSnapshotVersion(t))}function R1(n,e,t){let r=Nt(),i=Nt();return t.forEach(c=>r=r.add(c)),e.getEntries(n,r).next(c=>{let l=jo();return t.forEach((g,y)=>{const I=c.get(g);y.isFoundDocument()!==I.isFoundDocument()&&(i=i.add(g)),y.isNoDocument()&&y.version.isEqual(dt.min())?(e.removeEntry(g,y.readTime),l=l.insert(g,y)):!I.isValidDocument()||y.version.compareTo(I.version)>0||0===y.version.compareTo(I.version)&&I.hasPendingWrites?(e.addEntry(y),l=l.insert(g,y)):Me("LocalStore","Ignoring outdated watch update for ",g,". Current version:",I.version," Watch version:",y.version)}),{ls:l,hs:i}})}function hL(n,e){const t=ze(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Qv(n,e){const t=ze(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Kr.getTargetData(r,e).next(c=>c?(i=c,ae.resolve(i)):t.Kr.allocateTargetId(r).next(l=>(i=new Zc(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Kr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.rs.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.rs=t.rs.insert(r.targetId,r),t.ss.set(e,r.targetId)),r})}function Xv(n,e,t){return rP.apply(this,arguments)}function rP(){return rP=(0,be.Z)(function*(n,e,t){const r=ze(n),i=r.rs.get(e),c=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",c,l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!ys(l))throw l;Me("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}r.rs=r.rs.remove(e),r.ss.delete(i.target)}),rP.apply(this,arguments)}function ZT(n,e,t){const r=ze(n);let i=dt.min(),c=Nt();return r.persistence.runTransaction("Execute query","readwrite",l=>function(y,I,D){const P=ze(y),N=P.ss.get(D);return void 0!==N?ae.resolve(P.rs.get(N)):P.Kr.getTargetData(I,D)}(r,l,co(e)).next(g=>{if(g)return i=g.lastLimboFreeSnapshotVersion,r.Kr.getMatchingKeysForTargetId(l,g.targetId).next(y=>{c=y})}).next(()=>r.ns.getDocumentsMatchingQuery(l,e,t?i:dt.min(),t?c:Nt())).next(g=>(k1(r,Dv(e),g),{documents:g,Ps:c})))}function O1(n,e){const t=ze(n),r=ze(t.Kr),i=t.rs.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",c=>r.lt(c,e).next(l=>l?l.target:null))}function N1(n,e){const t=ze(n),r=t.os.get(e)||dt.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t._s.getAllFromCollectionGroup(i,e,nM(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(k1(t,e,i),i))}function k1(n,e,t){let r=n.os.get(e)||dt.min();t.forEach((i,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)}),n.os.set(e,r)}function iP(){return iP=(0,be.Z)(function*(n,e,t,r){const i=ze(n);let c=Nt(),l=jo();for(const I of t){const D=e.Is(I.metadata.name);I.document&&(c=c.add(D));const P=e.ds(I);P.setReadTime(e.Ts(I.metadata.readTime)),l=l.insert(D,P)}const g=i._s.newChangeBuffer({trackRemovals:!0}),y=yield Qv(i,(D=r,co(dp(nn.fromString(`__bundle__/docs/${D}`)))));var D;return i.persistence.runTransaction("Apply bundle documents","readwrite",I=>R1(I,g,l).next(D=>(g.apply(I),D)).next(D=>i.Kr.removeMatchingKeysForTargetId(I,y.targetId).next(()=>i.Kr.addMatchingKeys(I,c,y.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(I,D.ls,D.hs)).next(()=>D.ls)))}),iP.apply(this,arguments)}function pL(n,e){return oP.apply(this,arguments)}function oP(){return oP=(0,be.Z)(function*(n,e,t=Nt()){const r=yield Qv(n,co(Gv(e.bundledQuery))),i=ze(n);return i.persistence.runTransaction("Save named query","readwrite",c=>{const l=xr(e.readTime);if(r.snapshotVersion.compareTo(l)>=0)return i.Ur.saveNamedQuery(c,e);const g=r.withResumeToken(fr.EMPTY_BYTE_STRING,l);return i.rs=i.rs.insert(g.targetId,g),i.Kr.updateTargetData(c,g).next(()=>i.Kr.removeMatchingKeysForTargetId(c,r.targetId)).next(()=>i.Kr.addMatchingKeys(c,t,r.targetId)).next(()=>i.Ur.saveNamedQuery(c,e))})}),oP.apply(this,arguments)}function F1(n,e){return`firestore_clients_${n}_${e}`}function L1(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function sP(n,e){return`firestore_targets_${n}_${e}`}class KT{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Es(e,t,r){const i=JSON.parse(r);let c,l="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return l&&i.error&&(l="string"==typeof i.error.message&&"string"==typeof i.error.code,l&&(c=new Ae(i.error.code,i.error.message))),l?new KT(e,t,i.state,c):(hr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}As(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class LI{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Es(e,t){const r=JSON.parse(t);let i,c="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return c&&r.error&&(c="string"==typeof r.error.message&&"string"==typeof r.error.code,c&&(i=new Ae(r.error.code,r.error.message))),c?new LI(e,r.state,i):(hr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}As(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class YT{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Es(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,c=uI();for(let l=0;i&&l<r.activeTargetIds.length;++l)i=GC(r.activeTargetIds[l]),c=c.add(r.activeTargetIds[l]);return i?new YT(e,c):(hr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class aP{constructor(e,t){this.clientId=e,this.onlineState=t}static Es(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new aP(t.clientId,t.onlineState):(hr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class cP{constructor(){this.activeTargetIds=uI()}Rs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}As(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class lP{constructor(e,t,r,i,c){this.window=e,this._i=t,this.persistenceKey=r,this.fs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.gs=this.ps.bind(this),this.ys=new xn(Pt),this.started=!1,this.ws=[];const l=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=c,this.Ss=F1(this.persistenceKey,this.fs),this.bs=`firestore_sequence_number_${this.persistenceKey}`,this.ys=this.ys.insert(this.fs,new cP),this.Ds=new RegExp(`^firestore_clients_${l}_([^_]*)$`),this.Cs=new RegExp(`^firestore_mutations_${l}_(\\d+)(?:_(.*))?$`),this.vs=new RegExp(`^firestore_targets_${l}_(\\d+)$`),this.Fs=`firestore_online_state_${this.persistenceKey}`,this.Ms=function(y){return`firestore_bundle_loaded_v2_${y}`}(this.persistenceKey),this.window.addEventListener("storage",this.gs)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,be.Z)(function*(){const t=yield e.syncEngine.ki();for(const i of t){if(i===e.fs)continue;const c=e.getItem(F1(e.persistenceKey,i));if(c){const l=YT.Es(i,c);l&&(e.ys=e.ys.insert(l.clientId,l))}}e.xs();const r=e.storage.getItem(e.Fs);if(r){const i=e.Os(r);i&&e.Ns(i)}for(const i of e.ws)e.ps(i);e.ws=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.bs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Bs(this.ys)}isActiveQueryTarget(e){let t=!1;return this.ys.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Ls(e,"pending")}updateMutationState(e,t,r){this.Ls(e,t,r),this.ks(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(sP(this.persistenceKey,e));if(r){const i=LI.Es(e,r);i&&(t=i.state)}}return this.qs.Rs(e),this.xs(),t}removeLocalQueryTarget(e){this.qs.Vs(e),this.xs()}isLocalQueryTarget(e){return this.qs.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(sP(this.persistenceKey,e))}updateQueryState(e,t,r){this.Qs(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.ks(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Ks(e)}notifyBundleLoaded(e){this.$s(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.gs),this.removeItem(this.Ss),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Me("SharedClientState","READ",e,t),t}setItem(e,t){Me("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Me("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ps(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Me("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Ss)return void hr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this._i.enqueueRetryable((0,be.Z)(function*(){if(t.started){if(null!==r.key)if(t.Ds.test(r.key)){if(null==r.newValue){const i=t.Us(r.key);return t.Ws(i,null)}{const i=t.Gs(r.key,r.newValue);if(i)return t.Ws(i.clientId,i)}}else if(t.Cs.test(r.key)){if(null!==r.newValue){const i=t.zs(r.key,r.newValue);if(i)return t.js(i)}}else if(t.vs.test(r.key)){if(null!==r.newValue){const i=t.Hs(r.key,r.newValue);if(i)return t.Js(i)}}else if(r.key===t.Fs){if(null!==r.newValue){const i=t.Os(r.newValue);if(i)return t.Ns(i)}}else if(r.key===t.bs){const i=function(l){let g=Uo.ae;if(null!=l)try{const y=JSON.parse(l);lt("number"==typeof y),g=y}catch(y){hr("SharedClientState","Failed to read sequence number from WebStorage",y)}return g}(r.newValue);i!==Uo.ae&&t.sequenceNumberHandler(i)}else if(r.key===t.Ms){const i=t.Ys(r.newValue);yield Promise.all(i.map(c=>t.syncEngine.Zs(c)))}}else t.ws.push(r)}))}}get qs(){return this.ys.get(this.fs)}xs(){this.setItem(this.Ss,this.qs.As())}Ls(e,t,r){const i=new KT(this.currentUser,e,t,r),c=L1(this.persistenceKey,this.currentUser,e);this.setItem(c,i.As())}ks(e){const t=L1(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Ks(e){this.storage.setItem(this.Fs,JSON.stringify({clientId:this.fs,onlineState:e}))}Qs(e,t,r){const i=sP(this.persistenceKey,e),c=new LI(e,t,r);this.setItem(i,c.As())}$s(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Ms,t)}Us(e){const t=this.Ds.exec(e);return t?t[1]:null}Gs(e,t){const r=this.Us(e);return YT.Es(r,t)}zs(e,t){const r=this.Cs.exec(e),i=Number(r[1]);return KT.Es(new Gr(void 0!==r[2]?r[2]:null),i,t)}Hs(e,t){const r=this.vs.exec(e),i=Number(r[1]);return LI.Es(i,t)}Os(e){return aP.Es(e)}Ys(e){return JSON.parse(e)}js(e){var t=this;return(0,be.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Xs(e.batchId,e.state,e.error);Me("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Js(e){return this.syncEngine.eo(e.targetId,e.state,e.error)}Ws(e,t){const r=t?this.ys.insert(e,t):this.ys.remove(e),i=this.Bs(this.ys),c=this.Bs(r),l=[],g=[];return c.forEach(y=>{i.has(y)||l.push(y)}),i.forEach(y=>{c.has(y)||g.push(y)}),this.syncEngine.no(l,g).then(()=>{this.ys=r})}Ns(e){this.ys.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Bs(e){let t=uI();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class V1{constructor(){this.ro=new cP,this.io={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.ro.Rs(e),this.io[e]||"not-current"}updateQueryState(e,t,r){this.io[e]=t}removeLocalQueryTarget(e){this.ro.Vs(e)}isLocalQueryTarget(e){return this.ro.activeTargetIds.has(e)}clearQueryState(e){delete this.io[e]}getAllActiveQueryTargets(){return this.ro.activeTargetIds}isActiveQueryTarget(e){return this.ro.activeTargetIds.has(e)}start(){return this.ro=new cP,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class mL{so(e){}shutdown(){}}class B1{constructor(){this.oo=()=>this._o(),this.ao=()=>this.uo(),this.co=[],this.lo()}so(e){this.co.push(e)}shutdown(){window.removeEventListener("online",this.oo),window.removeEventListener("offline",this.ao)}lo(){window.addEventListener("online",this.oo),window.addEventListener("offline",this.ao)}_o(){Me("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.co)e(0)}uo(){Me("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.co)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let QT=null;function uP(){return null===QT?QT=268435456+Math.round(2147483648*Math.random()):QT++,"0x"+QT.toString(16)}const gL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class _L{constructor(e){this.ho=e.ho,this.Po=e.Po}Io(e){this.To=e}Eo(e){this.Ao=e}onMessage(e){this.Ro=e}close(){this.Po()}send(e){this.ho(e)}Vo(){this.To()}mo(e){this.Ao(e)}fo(e){this.Ro(e)}}const uo="WebChannelConnection";class yL extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),c=encodeURIComponent(this.databaseId.database);this.po=r+"://"+t.host,this.yo=`projects/${i}/databases/${c}`,this.wo="(default)"===this.databaseId.database?`project_id=${i}`:`project_id=${i}&database_id=${c}`}get So(){return!1}bo(t,r,i,c,l){const g=uP(),y=this.Do(t,r);Me("RestConnection",`Sending RPC '${t}' ${g}:`,y,i);const I={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Co(I,c,l),this.vo(t,y,I,i).then(D=>(Me("RestConnection",`Received RPC '${t}' ${g}: `,D),D),D=>{throw ao("RestConnection",`RPC '${t}' ${g} failed with error: `,D,"url: ",y,"request:",i),D})}Fo(t,r,i,c,l,g){return this.bo(t,r,i,c,l)}Co(t,r,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+kd,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((c,l)=>t[l]=c),i&&i.headers.forEach((c,l)=>t[l]=c)}Do(t,r){return`${this.po}/v1/${r}:${gL[t]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,r,i){const c=uP();return new Promise((l,g)=>{const y=new ZS;y.setWithCredentials(!0),y.listenOnce(WS.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case Ag.NO_ERROR:const D=y.getResponseJson();Me(uo,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(D)),l(D);break;case Ag.TIMEOUT:Me(uo,`RPC '${e}' ${c} timed out`),g(new Ae(fe.DEADLINE_EXCEEDED,"Request time out"));break;case Ag.HTTP_ERROR:const P=y.getStatus();if(Me(uo,`RPC '${e}' ${c} failed with status:`,P,"response text:",y.getResponseText()),P>0){let N=y.getResponseJson();Array.isArray(N)&&(N=N[0]);const z=N?.error;if(z&&z.status&&z.message){const J=function(ue){const Pe=ue.toLowerCase().replace(/_/g,"-");return Object.values(fe).indexOf(Pe)>=0?Pe:fe.UNKNOWN}(z.status);g(new Ae(J,z.message))}else g(new Ae(fe.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new Ae(fe.UNAVAILABLE,"Connection failed."));break;default:tt()}}finally{Me(uo,`RPC '${e}' ${c} completed.`)}});const I=JSON.stringify(i);Me(uo,`RPC '${e}' ${c} sending request:`,i),y.send(t,"POST",I,r,15)})}Mo(e,t,r){const i=uP(),c=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=GS(),g=qS(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},I=this.longPollingOptions.timeoutSeconds;void 0!==I&&(y.longPollingTimeout=Math.round(1e3*I)),this.useFetchStreams&&(y.useFetchStreams=!0),this.Co(y.initMessageHeaders,t,r),y.encodeInitMessageHeaders=!0;const D=c.join("");Me(uo,`Creating RPC '${e}' stream ${i}: ${D}`,y);const P=l.createWebChannel(D,y);let N=!1,z=!1;const J=new _L({ho:ue=>{z?Me(uo,`Not sending because RPC '${e}' stream ${i} is closed:`,ue):(N||(Me(uo,`Opening RPC '${e}' stream ${i} transport.`),P.open(),N=!0),Me(uo,`RPC '${e}' stream ${i} sending:`,ue),P.send(ue))},Po:()=>P.close()}),ee=(ue,Pe,Le)=>{ue.listen(Pe,ke=>{try{Le(ke)}catch(Be){setTimeout(()=>{throw Be},0)}})};return ee(P,iv.EventType.OPEN,()=>{z||Me(uo,`RPC '${e}' stream ${i} transport opened.`)}),ee(P,iv.EventType.CLOSE,()=>{z||(z=!0,Me(uo,`RPC '${e}' stream ${i} transport closed`),J.mo())}),ee(P,iv.EventType.ERROR,ue=>{z||(z=!0,ao(uo,`RPC '${e}' stream ${i} transport errored:`,ue),J.mo(new Ae(fe.UNAVAILABLE,"The operation could not be completed")))}),ee(P,iv.EventType.MESSAGE,ue=>{var Pe;if(!z){const Le=ue.data[0];lt(!!Le);const Be=Le.error||(null===(Pe=Le[0])||void 0===Pe?void 0:Pe.error);if(Be){Me(uo,`RPC '${e}' stream ${i} received error:`,Be);const gt=Be.status;let It=function(Qc){const $a=wr[Qc];if(void 0!==$a)return IT($a)}(gt),on=Be.message;void 0===It&&(It=fe.INTERNAL,on="Unknown error status: "+gt+" with message "+Be.message),z=!0,J.mo(new Ae(It,on)),P.close()}else Me(uo,`RPC '${e}' stream ${i} received:`,Le),J.fo(Le)}}),ee(g,OC.STAT_EVENT,ue=>{ue.stat===NC.PROXY?Me(uo,`RPC '${e}' stream ${i} detected buffering proxy`):ue.stat===NC.NOPROXY&&Me(uo,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{J.Vo()},0),J}}function U1(){return typeof window<"u"?window:null}function XT(){return typeof document<"u"?document:null}function VI(n){return new TT(n,!0)}class dP{constructor(e,t,r=1e3,i=1.5,c=6e4){this._i=e,this.timerId=t,this.xo=r,this.Oo=i,this.No=c,this.Bo=0,this.Lo=null,this.ko=Date.now(),this.reset()}reset(){this.Bo=0}qo(){this.Bo=this.No}Qo(e){this.cancel();const t=Math.floor(this.Bo+this.Ko()),r=Math.max(0,Date.now()-this.ko),i=Math.max(0,t-r);i>0&&Me("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Bo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Lo=this._i.enqueueAfterDelay(this.timerId,i,()=>(this.ko=Date.now(),e())),this.Bo*=this.Oo,this.Bo<this.xo&&(this.Bo=this.xo),this.Bo>this.No&&(this.Bo=this.No)}$o(){null!==this.Lo&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){null!==this.Lo&&(this.Lo.cancel(),this.Lo=null)}Ko(){return(Math.random()-.5)*this.Bo}}class j1{constructor(e,t,r,i,c,l,g,y){this._i=e,this.Uo=r,this.Wo=i,this.connection=c,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.Go=0,this.zo=null,this.jo=null,this.stream=null,this.Ho=new dP(e,t)}Jo(){return 1===this.state||5===this.state||this.Yo()}Yo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Zo()}stop(){var e=this;return(0,be.Z)(function*(){e.Jo()&&(yield e.close(0))})()}Xo(){this.state=0,this.Ho.reset()}e_(){this.Yo()&&null===this.zo&&(this.zo=this._i.enqueueAfterDelay(this.Uo,6e4,()=>this.t_()))}n_(e){this.r_(),this.stream.send(e)}t_(){var e=this;return(0,be.Z)(function*(){if(e.Yo())return e.close(0)})()}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}i_(){this.jo&&(this.jo.cancel(),this.jo=null)}close(e,t){var r=this;return(0,be.Z)(function*(){r.r_(),r.i_(),r.Ho.cancel(),r.Go++,4!==e?r.Ho.reset():t&&t.code===fe.RESOURCE_EXHAUSTED?(hr(t.toString()),hr("Using maximum backoff delay to prevent overloading the backend."),r.Ho.qo()):t&&t.code===fe.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.s_(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Eo(t)})()}s_(){}auth(){this.state=1;const e=this.o_(this.Go),t=this.Go;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Go===t&&this.__(r,i)},r=>{e(()=>{const i=new Ae(fe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.a_(i)})})}__(e,t){const r=this.o_(this.Go);this.stream=this.u_(e,t),this.stream.Io(()=>{r(()=>(this.state=2,this.jo=this._i.enqueueAfterDelay(this.Wo,1e4,()=>(this.Yo()&&(this.state=3),Promise.resolve())),this.listener.Io()))}),this.stream.Eo(i=>{r(()=>this.a_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Zo(){var e=this;this.state=5,this.Ho.Qo((0,be.Z)(function*(){e.state=0,e.start()}))}a_(e){return Me("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}o_(e){return t=>{this._i.enqueueAndForget(()=>this.Go===e?t():(Me("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class vL extends j1{constructor(e,t,r,i,c,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,l),this.serializer=c}u_(e,t){return this.connection.Mo("Listen",e,t)}onMessage(e){this.Ho.reset();const t=function LM(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(I=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===I?1:"REMOVE"===I?2:"CURRENT"===I?3:"RESET"===I?4:tt(),i=e.targetChange.targetIds||[],c=function(I,D){return I.useProto3Json?(lt(void 0===D||"string"==typeof D),fr.fromBase64String(D||"")):(lt(void 0===D||D instanceof Uint8Array),fr.fromUint8Array(D||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,g=l&&function(I){const D=void 0===I.code?fe.UNKNOWN:IT(I.code);return new Ae(D,I.message||"")}(l);t=new yI(r,i,c,g||null)}else if("documentChange"in e){const r=e.documentChange,i=Ua(n,r.document.name),c=xr(r.document.updateTime),l=r.document.createTime?xr(r.document.createTime):dt.min(),g=new oi({mapValue:{fields:r.document.fields}}),y=Vn.newFoundDocument(i,c,l,g);t=new Fv(r.targetIds||[],r.removedTargetIds||[],y.key,y)}else if("documentDelete"in e){const r=e.documentDelete,i=Ua(n,r.document),c=r.readTime?xr(r.readTime):dt.min(),l=Vn.newNoDocument(i,c);t=new Fv([],r.removedTargetIds||[],l.key,l)}else if("documentRemove"in e){const r=e.documentRemove,i=Ua(n,r.document);t=new Fv([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return tt();{const r=e.filter,{count:i=0,unchangedNames:c}=r,l=new bT(i,c);t=new _I(r.targetId,l)}}var I;return t}(this.serializer,e),r=function(c){if(!("targetChange"in c))return dt.min();const l=c.targetChange;return l.targetIds&&l.targetIds.length?dt.min():l.readTime?xr(l.readTime):dt.min()}(e);return this.listener.c_(t,r)}l_(e){const t={};t.database=Bv(this.serializer),t.addTarget=function(c,l){let g;const y=l.target;if(g=kg(y)?{documents:II(c,y)}:{query:Wg(c,y)},g.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){g.resumeToken=AT(c,l.resumeToken);const I=EI(c,l.expectedCount);null!==I&&(g.expectedCount=I)}else if(l.snapshotVersion.compareTo(dt.min())>0){g.readTime=_p(c,l.snapshotVersion.toTimestamp());const I=EI(c,l.expectedCount);null!==I&&(g.expectedCount=I)}return g}(this.serializer,e);const r=function VM(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return tt()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.n_(t)}h_(e){const t={};t.database=Bv(this.serializer),t.removeTarget=e,this.n_(t)}}class bL extends j1{constructor(e,t,r,i,c,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,l),this.serializer=c,this.P_=!1}get I_(){return this.P_}start(){this.P_=!1,this.lastStreamToken=void 0,super.start()}s_(){this.P_&&this.d_([])}u_(e,t){return this.connection.Mo("Write",e,t)}onMessage(e){if(lt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.P_){this.Ho.reset();const t=function Zd(n,e){return n&&n.length>0?(lt(void 0!==e),n.map(t=>function(i,c){let l=xr(i.updateTime?i.updateTime:c);return l.isEqual(dt.min())&&(l=xr(c)),new _T(l,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=xr(e.commitTime);return this.listener.T_(r,t)}return lt(!e.writeResults||0===e.writeResults.length),this.P_=!0,this.listener.E_()}A_(){const e={};e.database=Bv(this.serializer),this.n_(e)}d_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>qg(this.serializer,r))};this.n_(t)}}class EL extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.R_=!1}V_(){if(this.R_)throw new Ae(fe.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,t,r){return this.V_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,c])=>this.connection.bo(e,t,r,i,c)).catch(i=>{throw"FirebaseError"===i.name?(i.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Ae(fe.UNKNOWN,i.toString())})}Fo(e,t,r,i){return this.V_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,l])=>this.connection.Fo(e,t,r,c,l,i)).catch(c=>{throw"FirebaseError"===c.name?(c.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Ae(fe.UNKNOWN,c.toString())})}terminate(){this.R_=!0}}class wL{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.f_=0,this.g_=null,this.p_=!0}y_(){0===this.f_&&(this.w_("Unknown"),this.g_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.g_=null,this.S_("Backend didn't respond within 10 seconds."),this.w_("Offline"),Promise.resolve())))}b_(e){"Online"===this.state?this.w_("Unknown"):(this.f_++,this.f_>=1&&(this.D_(),this.S_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.w_("Offline")))}set(e){this.D_(),this.f_=0,"Online"===e&&(this.p_=!1),this.w_(e)}w_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}S_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.p_?(hr(t),this.p_=!1):Me("OnlineStateTracker",t)}D_(){null!==this.g_&&(this.g_.cancel(),this.g_=null)}}class xL{constructor(e,t,r,i,c){var l=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.C_=[],this.v_=new Map,this.F_=new Set,this.M_=[],this.x_=c,this.x_.so(g=>{r.enqueueAndForget((0,be.Z)(function*(){var y;bp(l)&&(Me("RemoteStore","Restarting streams for network reachability change."),yield(y=(0,be.Z)(function*(D){const P=ze(D);P.F_.add(4),yield Jv(P),P.O_.set("Unknown"),P.F_.delete(4),yield BI(P)}),function I(D){return y.apply(this,arguments)})(l))}))}),this.O_=new wL(r,i)}}function BI(n){return fP.apply(this,arguments)}function fP(){return fP=(0,be.Z)(function*(n){if(bp(n))for(const e of n.M_)yield e(!0)}),fP.apply(this,arguments)}function Jv(n){return pP.apply(this,arguments)}function pP(){return pP=(0,be.Z)(function*(n){for(const e of n.M_)yield e(!1)}),pP.apply(this,arguments)}function JT(n,e){const t=ze(n);t.v_.has(e.targetId)||(t.v_.set(e.targetId,e),_P(t)?gP(t):tb(t).Yo()&&mP(t,e))}function UI(n,e){const t=ze(n),r=tb(t);t.v_.delete(e),r.Yo()&&H1(t,e),0===t.v_.size&&(r.Yo()?r.e_():bp(t)&&t.O_.set("Unknown"))}function mP(n,e){if(n.N_.Le(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(dt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}tb(n).l_(e)}function H1(n,e){n.N_.Le(e),tb(n).h_(e)}function gP(n){n.N_=new Lv({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.v_.get(e)||null,st:()=>n.datastore.serializer.databaseId}),tb(n).start(),n.O_.y_()}function _P(n){return bp(n)&&!tb(n).Jo()&&n.v_.size>0}function bp(n){return 0===ze(n).F_.size}function z1(n){n.N_=void 0}function CL(n){return yP.apply(this,arguments)}function yP(){return yP=(0,be.Z)(function*(n){n.v_.forEach((e,t)=>{mP(n,e)})}),yP.apply(this,arguments)}function TL(n,e){return vP.apply(this,arguments)}function vP(){return vP=(0,be.Z)(function*(n,e){z1(n),_P(n)?(n.O_.b_(e),gP(n)):n.O_.set("Unknown")}),vP.apply(this,arguments)}function AL(n,e,t){return bP.apply(this,arguments)}function bP(){return bP=(0,be.Z)(function*(n,e,t){if(n.O_.set("Online"),e instanceof yI&&2===e.state&&e.cause)try{yield(r=(0,be.Z)(function*(c,l){const g=l.cause;for(const y of l.targetIds)c.v_.has(y)&&(yield c.remoteSyncer.rejectListen(y,g),c.v_.delete(y),c.N_.removeTarget(y))}),function i(c,l){return r.apply(this,arguments)})(n,e)}catch(r){Me("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield eA(n,r)}else if(e instanceof Fv?n.N_.Ge(e):e instanceof _I?n.N_.Xe(e):n.N_.He(e),!t.isEqual(dt.min()))try{const r=yield P1(n.localStore);t.compareTo(r)>=0&&(yield function(c,l){const g=c.N_._t(l);return g.targetChanges.forEach((y,I)=>{if(y.resumeToken.approximateByteSize()>0){const D=c.v_.get(I);D&&c.v_.set(I,D.withResumeToken(y.resumeToken,l))}}),g.targetMismatches.forEach((y,I)=>{const D=c.v_.get(y);if(!D)return;c.v_.set(y,D.withResumeToken(fr.EMPTY_BYTE_STRING,D.snapshotVersion)),H1(c,y);const P=new Zc(D.target,y,I,D.sequenceNumber);mP(c,P)}),c.remoteSyncer.applyRemoteEvent(g)}(n,t))}catch(r){Me("RemoteStore","Failed to raise snapshot:",r),yield eA(n,r)}var r}),bP.apply(this,arguments)}function eA(n,e,t){return EP.apply(this,arguments)}function EP(){return EP=(0,be.Z)(function*(n,e,t){if(!ys(e))throw e;n.F_.add(1),yield Jv(n),n.O_.set("Offline"),t||(t=()=>P1(n.localStore)),n.asyncQueue.enqueueRetryable((0,be.Z)(function*(){Me("RemoteStore","Retrying IndexedDB access"),yield t(),n.F_.delete(1),yield BI(n)}))}),EP.apply(this,arguments)}function $1(n,e){return e().catch(t=>eA(n,t,e))}function eb(n){return IP.apply(this,arguments)}function IP(){return IP=(0,be.Z)(function*(n){const e=ze(n),t=Ep(e);let r=e.C_.length>0?e.C_[e.C_.length-1].batchId:-1;for(;DL(e);)try{const i=yield hL(e.localStore,r);if(null===i){0===e.C_.length&&t.e_();break}r=i.batchId,SL(e,i)}catch(i){yield eA(e,i)}G1(e)&&q1(e)}),IP.apply(this,arguments)}function DL(n){return bp(n)&&n.C_.length<10}function SL(n,e){n.C_.push(e);const t=Ep(n);t.Yo()&&t.I_&&t.d_(e.mutations)}function G1(n){return bp(n)&&!Ep(n).Jo()&&n.C_.length>0}function q1(n){Ep(n).start()}function ML(n){return wP.apply(this,arguments)}function wP(){return wP=(0,be.Z)(function*(n){Ep(n).A_()}),wP.apply(this,arguments)}function PL(n){return xP.apply(this,arguments)}function xP(){return xP=(0,be.Z)(function*(n){const e=Ep(n);for(const t of n.C_)e.d_(t.mutations)}),xP.apply(this,arguments)}function RL(n,e,t){return CP.apply(this,arguments)}function CP(){return CP=(0,be.Z)(function*(n,e,t){const r=n.C_.shift(),i=zg.from(r,e,t);yield $1(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield eb(n)}),CP.apply(this,arguments)}function OL(n,e){return TP.apply(this,arguments)}function TP(){return TP=(0,be.Z)(function*(n,e){var t;e&&Ep(n).I_&&(yield(t=(0,be.Z)(function*(i,c){if(ET(g=c.code)&&g!==fe.ABORTED){const l=i.C_.shift();Ep(i).Xo(),yield $1(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,c)),yield eb(i)}var g}),function r(i,c){return t.apply(this,arguments)})(n,e)),G1(n)&&q1(n)}),TP.apply(this,arguments)}function W1(n,e){return AP.apply(this,arguments)}function AP(){return AP=(0,be.Z)(function*(n,e){const t=ze(n);t.asyncQueue.verifyOperationInProgress(),Me("RemoteStore","RemoteStore received new credentials");const r=bp(t);t.F_.add(3),yield Jv(t),r&&t.O_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.F_.delete(3),yield BI(t)}),AP.apply(this,arguments)}function DP(n,e){return SP.apply(this,arguments)}function SP(){return SP=(0,be.Z)(function*(n,e){const t=ze(n);e?(t.F_.delete(2),yield BI(t)):e||(t.F_.add(2),yield Jv(t),t.O_.set("Unknown"))}),SP.apply(this,arguments)}function tb(n){return n.B_||(n.B_=function(t,r,i){const c=ze(t);return c.V_(),new vL(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,i)}(n.datastore,n.asyncQueue,{Io:CL.bind(null,n),Eo:TL.bind(null,n),c_:AL.bind(null,n)}),n.M_.push(function(){var e=(0,be.Z)(function*(t){t?(n.B_.Xo(),_P(n)?gP(n):n.O_.set("Unknown")):(yield n.B_.stop(),z1(n))});return function(t){return e.apply(this,arguments)}}())),n.B_}function Ep(n){return n.L_||(n.L_=function(t,r,i){const c=ze(t);return c.V_(),new bL(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,i)}(n.datastore,n.asyncQueue,{Io:ML.bind(null,n),Eo:OL.bind(null,n),E_:PL.bind(null,n),T_:RL.bind(null,n)}),n.M_.push(function(){var e=(0,be.Z)(function*(t){t?(n.L_.Xo(),yield eb(n)):(yield n.L_.stop(),n.C_.length>0&&(Me("RemoteStore",`Stopping write stream with ${n.C_.length} pending writes`),n.C_=[]))});return function(t){return e.apply(this,arguments)}}())),n.L_}class MP{constructor(e,t,r,i,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=c,this.deferred=new Rr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,c){const l=Date.now()+r,g=new MP(e,t,l,i,c);return g.start(r),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ae(fe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function nb(n,e){if(hr("AsyncQueue",`${e}: ${n}`),ys(n))return new Ae(fe.UNAVAILABLE,`${e}: ${n}`);throw n}class rb{constructor(e){this.comparator=e?(t,r)=>e(t,r)||We.comparator(t.key,r.key):(t,r)=>We.comparator(t.key,r.key),this.keyedMap=Bg(),this.sortedSet=new xn(this.comparator)}static emptySet(e){return new rb(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof rb)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,c=r.getNext().key;if(!i.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new rb;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class Z1{constructor(){this.k_=new xn(We.comparator)}track(e){const t=e.doc.key,r=this.k_.get(t);r?0!==e.type&&3===r.type?this.k_=this.k_.insert(t,e):3===e.type&&1!==r.type?this.k_=this.k_.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.k_=this.k_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.k_=this.k_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.k_=this.k_.remove(t):1===e.type&&2===r.type?this.k_=this.k_.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.k_=this.k_.insert(t,{type:2,doc:e.doc}):tt():this.k_=this.k_.insert(t,e)}q_(){const e=[];return this.k_.inorderTraversal((t,r)=>{e.push(r)}),e}}class ib{constructor(e,t,r,i,c,l,g,y,I){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=c,this.fromCache=l,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=I}static fromInitialDocuments(e,t,r,i,c){const l=[];return t.forEach(g=>{l.push({type:0,doc:g})}),new ib(e,t,rb.emptySet(t),l,r,i,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Av(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class NL{constructor(){this.Q_=void 0,this.listeners=[]}}class kL{constructor(){this.queries=new vs(e=>xM(e),Av),this.onlineState="Unknown",this.K_=new Set}}function PP(n,e){return RP.apply(this,arguments)}function RP(){return RP=(0,be.Z)(function*(n,e){const t=ze(n),r=e.query;let i=!1,c=t.queries.get(r);if(c||(i=!0,c=new NL),i)try{c.Q_=yield t.onListen(r)}catch(l){const g=nb(l,`Initialization of query '${Vg(e.query)}' failed`);return void e.onError(g)}t.queries.set(r,c),c.listeners.push(e),e.U_(t.onlineState),c.Q_&&e.W_(c.Q_)&&kP(t)}),RP.apply(this,arguments)}function OP(n,e){return NP.apply(this,arguments)}function NP(){return NP=(0,be.Z)(function*(n,e){const t=ze(n),r=e.query;let i=!1;const c=t.queries.get(r);if(c){const l=c.listeners.indexOf(e);l>=0&&(c.listeners.splice(l,1),i=0===c.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),NP.apply(this,arguments)}function FL(n,e){const t=ze(n);let r=!1;for(const i of e){const l=t.queries.get(i.query);if(l){for(const g of l.listeners)g.W_(i)&&(r=!0);l.Q_=i}}r&&kP(t)}function LL(n,e,t){const r=ze(n),i=r.queries.get(e);if(i)for(const c of i.listeners)c.onError(t);r.queries.delete(e)}function kP(n){n.K_.forEach(e=>{e.next()})}class FP{constructor(e,t,r){this.query=e,this.G_=t,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new ib(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.z_?this.H_(e)&&(this.G_.next(e),t=!0):this.J_(e,this.onlineState)&&(this.Y_(e),t=!0),this.j_=e,t}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let t=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),t=!0),t}J_(e,t){return!e.fromCache||(!this.options.Z_||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}H_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Y_(e){e=ib.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}class VL{constructor(e,t){this.X_=e,this.byteLength=t}ea(){return"metadata"in this.X_}}class K1{constructor(e){this.serializer=e}Is(e){return Ua(this.serializer,e)}ds(e){return e.metadata.exists?MT(this.serializer,e.document,!1):Vn.newNoDocument(this.Is(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return xr(e)}}class BL{constructor(e,t,r){this.ta=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Y1(e)}na(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.X_.namedQuery)this.queries.push(e.X_.namedQuery);else if(e.X_.documentMetadata){this.documents.push({metadata:e.X_.documentMetadata}),e.X_.documentMetadata.exists||++t;const r=nn.fromString(e.X_.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.X_.document&&(this.documents[this.documents.length-1].document=e.X_.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ra(e){const t=new Map,r=new K1(this.serializer);for(const i of e)if(i.metadata.queries){const c=r.Is(i.metadata.name);for(const l of i.metadata.queries){const g=(t.get(l)||Nt()).add(c);t.set(l,g)}}return t}complete(){var e=this;return(0,be.Z)(function*(){const t=yield function fL(n,e,t,r){return iP.apply(this,arguments)}(e.localStore,new K1(e.serializer),e.documents,e.ta.id),r=e.ra(e.documents);for(const i of e.queries)yield pL(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,ia:e.collectionGroups,sa:t}})()}}function Y1(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class Q1{constructor(e){this.key=e}}class X1{constructor(e){this.key=e}}class J1{constructor(e,t){this.query=e,this.oa=t,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=Nt(),this.mutatedKeys=Nt(),this.ua=cI(e),this.ca=new rb(this.ua)}get la(){return this.oa}ha(e,t){const r=t?t.Pa:new Z1,i=t?t.ca:this.ca;let c=t?t.mutatedKeys:this.mutatedKeys,l=i,g=!1;const y="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,I="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((D,P)=>{const N=i.get(D),z=hp(this.query,P)?P:null,J=!!N&&this.mutatedKeys.has(N.key),ee=!!z&&(z.hasLocalMutations||this.mutatedKeys.has(z.key)&&z.hasCommittedMutations);let ue=!1;N&&z?N.data.isEqual(z.data)?J!==ee&&(r.track({type:3,doc:z}),ue=!0):this.Ia(N,z)||(r.track({type:2,doc:z}),ue=!0,(y&&this.ua(z,y)>0||I&&this.ua(z,I)<0)&&(g=!0)):!N&&z?(r.track({type:0,doc:z}),ue=!0):N&&!z&&(r.track({type:1,doc:N}),ue=!0,(y||I)&&(g=!0)),ue&&(z?(l=l.add(z),c=ee?c.add(D):c.delete(D)):(l=l.delete(D),c=c.delete(D)))}),null!==this.query.limit)for(;l.size>this.query.limit;){const D="F"===this.query.limitType?l.last():l.first();l=l.delete(D.key),c=c.delete(D.key),r.track({type:1,doc:D})}return{ca:l,Pa:r,es:g,mutatedKeys:c}}Ia(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const c=e.Pa.q_();c.sort((I,D)=>function(N,z){const J=ee=>{switch(ee){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return tt()}};return J(N)-J(z)}(I.type,D.type)||this.ua(I.doc,D.doc)),this.da(r);const l=t?this.Ta():[],g=0===this.aa.size&&this.current?1:0,y=g!==this._a;return this._a=g,0!==c.length||y?{snapshot:new ib(this.query,e.ca,i,c,e.mutatedKeys,0===g,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ea:l}:{Ea:l}}U_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new Z1,mutatedKeys:this.mutatedKeys,es:!1},!1)):{Ea:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}da(e){e&&(e.addedDocuments.forEach(t=>this.oa=this.oa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.oa=this.oa.delete(t)),this.current=e.current)}Ta(){if(!this.current)return[];const e=this.aa;this.aa=Nt(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});const t=[];return e.forEach(r=>{this.aa.has(r)||t.push(new X1(r))}),this.aa.forEach(r=>{e.has(r)||t.push(new Q1(r))}),t}Ra(e){this.oa=e.Ps,this.aa=Nt();const t=this.ha(e.documents);return this.applyChanges(t,!0)}Va(){return ib.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,0===this._a,this.hasCachedResults)}}class UL{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class jL{constructor(e){this.key=e,this.ma=!1}}class HL{constructor(e,t,r,i,c,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=c,this.maxConcurrentLimboResolutions=l,this.fa={},this.ga=new vs(g=>xM(g),Av),this.pa=new Map,this.ya=new Set,this.wa=new xn(We.comparator),this.Sa=new Map,this.ba=new e_,this.Da={},this.Ca=new Map,this.va=o.Ln(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return!0===this.Fa}}function zL(n,e){return LP.apply(this,arguments)}function LP(){return LP=(0,be.Z)(function*(n,e){const t=sR(n);let r,i;const c=t.ga.get(e);if(c)r=c.targetId,t.sharedClientState.addLocalQueryTarget(r),i=c.view.Va();else{const l=yield Qv(t.localStore,co(e)),g=t.sharedClientState.addLocalQueryTarget(l.targetId);r=l.targetId,i=yield VP(t,e,r,"current"===g,l.resumeToken),t.isPrimaryClient&&JT(t.remoteStore,l)}return i}),LP.apply(this,arguments)}function VP(n,e,t,r,i){return BP.apply(this,arguments)}function BP(){return BP=(0,be.Z)(function*(n,e,t,r,i){n.Ma=(P,N,z)=>{return(J=(0,be.Z)(function*(ue,Pe,Le,ke){let Be=Pe.view.ha(Le);Be.es&&(Be=yield ZT(ue.localStore,Pe.query,!1).then(({documents:on})=>Pe.view.ha(on,Be)));const gt=ke&&ke.targetChanges.get(Pe.targetId),It=Pe.view.applyChanges(Be,ue.isPrimaryClient,gt);return KP(ue,Pe.targetId,It.Ea),It.snapshot}),function ee(ue,Pe,Le,ke){return J.apply(this,arguments)})(n,P,N,z);var J};const c=yield ZT(n.localStore,e,!0),l=new J1(e,c.Ps),g=l.ha(c.documents),y=gp.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),I=l.applyChanges(g,n.isPrimaryClient,y);KP(n,t,I.Ea);const D=new UL(e,t,l);return n.ga.set(e,D),n.pa.has(t)?n.pa.get(t).push(e):n.pa.set(t,[e]),I.snapshot}),BP.apply(this,arguments)}function $L(n,e){return UP.apply(this,arguments)}function UP(){return UP=(0,be.Z)(function*(n,e){const t=ze(n),r=t.ga.get(e),i=t.pa.get(r.targetId);if(i.length>1)return t.pa.set(r.targetId,i.filter(c=>!Av(c,e))),void t.ga.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Xv(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),UI(t.remoteStore,r.targetId),ob(t,r.targetId)}).catch(lu))):(ob(t,r.targetId),yield Xv(t.localStore,r.targetId,!0))}),UP.apply(this,arguments)}function jP(){return jP=(0,be.Z)(function*(n,e,t){const r=aR(n);try{const i=yield function(l,g){const y=ze(l),I=Pn.now(),D=g.reduce((z,J)=>z.add(J.key),Nt());let P,N;return y.persistence.runTransaction("Locally write mutations","readwrite",z=>{let J=jo(),ee=Nt();return y._s.getEntries(z,D).next(ue=>{J=ue,J.forEach((Pe,Le)=>{Le.isValidDocument()||(ee=ee.add(Pe))})}).next(()=>y.localDocuments.getOverlayedDocuments(z,J)).next(ue=>{P=ue;const Pe=[];for(const Le of g){const ke=lo(Le,P.get(Le.key).overlayedDocument);null!=ke&&Pe.push(new Wc(Le.key,ke,JE(ke.value.mapValue),Rn.exists(!0)))}return y.mutationQueue.addMutationBatch(z,I,Pe,g)}).next(ue=>{N=ue;const Pe=ue.applyToLocalDocumentSet(P,ee);return y.documentOverlayCache.saveOverlays(z,ue.batchId,Pe)})}).then(()=>({batchId:N.batchId,changes:lI(P)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,g,y){let I=l.Da[l.currentUser.toKey()];I||(I=new xn(Pt)),I=I.insert(g,y),l.Da[l.currentUser.toKey()]=I}(r,i.batchId,t),yield nh(r,i.changes),yield eb(r.remoteStore)}catch(i){const c=nb(i,"Failed to persist write");t.reject(c)}}),jP.apply(this,arguments)}function eN(n,e){return HP.apply(this,arguments)}function HP(){return HP=(0,be.Z)(function*(n,e){const t=ze(n);try{const r=yield function dL(n,e){const t=ze(n),r=e.snapshotVersion;let i=t.rs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const l=t._s.newChangeBuffer({trackRemovals:!0});i=t.rs;const g=[];e.targetChanges.forEach((D,P)=>{const N=i.get(P);if(!N)return;g.push(t.Kr.removeMatchingKeys(c,D.removedDocuments,P).next(()=>t.Kr.addMatchingKeys(c,D.addedDocuments,P)));let z=N.withSequenceNumber(c.currentSequenceNumber);var ee,ue,Pe;null!==e.targetMismatches.get(P)?z=z.withResumeToken(fr.EMPTY_BYTE_STRING,dt.min()).withLastLimboFreeSnapshotVersion(dt.min()):D.resumeToken.approximateByteSize()>0&&(z=z.withResumeToken(D.resumeToken,r)),i=i.insert(P,z),ue=z,Pe=D,(0===(ee=N).resumeToken.approximateByteSize()||ue.snapshotVersion.toMicroseconds()-ee.snapshotVersion.toMicroseconds()>=3e8||Pe.addedDocuments.size+Pe.modifiedDocuments.size+Pe.removedDocuments.size>0)&&g.push(t.Kr.updateTargetData(c,z))});let y=jo(),I=Nt();if(e.documentUpdates.forEach(D=>{e.resolvedLimboDocuments.has(D)&&g.push(t.persistence.referenceDelegate.updateLimboDocument(c,D))}),g.push(R1(c,l,e.documentUpdates).next(D=>{y=D.ls,I=D.hs})),!r.isEqual(dt.min())){const D=t.Kr.getLastRemoteSnapshotVersion(c).next(P=>t.Kr.setTargetsMetadata(c,c.currentSequenceNumber,r));g.push(D)}return ae.waitFor(g).next(()=>l.apply(c)).next(()=>t.localDocuments.getLocalViewOfDocuments(c,y,I)).next(()=>y)}).then(c=>(t.rs=i,c))}(t.localStore,e);e.targetChanges.forEach((i,c)=>{const l=t.Sa.get(c);l&&(lt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.ma=!0:i.modifiedDocuments.size>0?lt(l.ma):i.removedDocuments.size>0&&(lt(l.ma),l.ma=!1))}),yield nh(t,r,e)}catch(r){yield lu(r)}}),HP.apply(this,arguments)}function tN(n,e,t){const r=ze(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ga.forEach((c,l)=>{const g=l.view.U_(e);g.snapshot&&i.push(g.snapshot)}),function(l,g){const y=ze(l);y.onlineState=g;let I=!1;y.queries.forEach((D,P)=>{for(const N of P.listeners)N.U_(g)&&(I=!0)}),I&&kP(y)}(r.eventManager,e),i.length&&r.fa.c_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function qL(n,e,t){return zP.apply(this,arguments)}function zP(){return zP=(0,be.Z)(function*(n,e,t){const r=ze(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Sa.get(e),c=i&&i.key;if(c){let l=new xn(We.comparator);l=l.insert(c,Vn.newNoDocument(c,dt.min()));const g=Nt().add(c),y=new mp(dt.min(),new Map,new xn(Pt),l,g);yield eN(r,y),r.wa=r.wa.remove(c),r.Sa.delete(e),YP(r)}else yield Xv(r.localStore,e,!1).then(()=>ob(r,e,t)).catch(lu)}),zP.apply(this,arguments)}function WL(n,e){return $P.apply(this,arguments)}function $P(){return $P=(0,be.Z)(function*(n,e){const t=ze(n),r=e.batch.batchId;try{const i=yield function uL(n,e){const t=ze(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),c=t._s.newChangeBuffer({trackRemovals:!0});return function(g,y,I,D){const P=I.batch,N=P.keys();let z=ae.resolve();return N.forEach(J=>{z=z.next(()=>D.getEntry(y,J)).next(ee=>{const ue=I.docVersions.get(J);lt(null!==ue),ee.version.compareTo(ue)<0&&(P.applyToRemoteDocument(ee,I),ee.isValidDocument()&&(ee.setReadTime(I.commitVersion),D.addEntry(ee)))})}),z.next(()=>g.mutationQueue.removeMutationBatch(y,P))}(t,r,e,c).next(()=>c.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(g){let y=Nt();for(let I=0;I<g.mutationResults.length;++I)g.mutationResults[I].transformResults.length>0&&(y=y.add(g.batch.mutations[I].key));return y}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}(t.localStore,e);ZP(t,r,null),WP(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield nh(t,i)}catch(i){yield lu(i)}}),$P.apply(this,arguments)}function ZL(n,e,t){return GP.apply(this,arguments)}function GP(){return GP=(0,be.Z)(function*(n,e,t){const r=ze(n);try{const i=yield function(l,g){const y=ze(l);return y.persistence.runTransaction("Reject batch","readwrite-primary",I=>{let D;return y.mutationQueue.lookupMutationBatch(I,g).next(P=>(lt(null!==P),D=P.keys(),y.mutationQueue.removeMutationBatch(I,P))).next(()=>y.mutationQueue.performConsistencyCheck(I)).next(()=>y.documentOverlayCache.removeOverlaysForBatchId(I,D,g)).next(()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(I,D)).next(()=>y.localDocuments.getDocuments(I,D))})}(r.localStore,e);ZP(r,e,t),WP(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield nh(r,i)}catch(i){yield lu(i)}}),GP.apply(this,arguments)}function qP(){return qP=(0,be.Z)(function*(n,e){const t=ze(n);bp(t.remoteStore)||Me("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(l){const g=ze(l);return g.persistence.runTransaction("Get highest unacknowledged batch id","readonly",y=>g.mutationQueue.getHighestUnacknowledgedBatchId(y))}(t.localStore);if(-1===r)return void e.resolve();const i=t.Ca.get(r)||[];i.push(e),t.Ca.set(r,i)}catch(r){const i=nb(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),qP.apply(this,arguments)}function WP(n,e){(n.Ca.get(e)||[]).forEach(t=>{t.resolve()}),n.Ca.delete(e)}function ZP(n,e,t){const r=ze(n);let i=r.Da[r.currentUser.toKey()];if(i){const c=i.get(e);c&&(t?c.reject(t):c.resolve(),i=i.remove(e)),r.Da[r.currentUser.toKey()]=i}}function ob(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.pa.get(e))n.ga.delete(r),t&&n.fa.xa(r,t);n.pa.delete(e),n.isPrimaryClient&&n.ba.mr(e).forEach(r=>{n.ba.containsKey(r)||nN(n,r)})}function nN(n,e){n.ya.delete(e.path.canonicalString());const t=n.wa.get(e);null!==t&&(UI(n.remoteStore,t),n.wa=n.wa.remove(e),n.Sa.delete(t),YP(n))}function KP(n,e,t){for(const r of t)r instanceof Q1?(n.ba.addReference(r.key,e),YL(n,r)):r instanceof X1?(Me("SyncEngine","Document no longer in limbo: "+r.key),n.ba.removeReference(r.key,e),n.ba.containsKey(r.key)||nN(n,r.key)):tt()}function YL(n,e){const t=e.key,r=t.path.canonicalString();n.wa.get(t)||n.ya.has(r)||(Me("SyncEngine","New document in limbo: "+t),n.ya.add(r),YP(n))}function YP(n){for(;n.ya.size>0&&n.wa.size<n.maxConcurrentLimboResolutions;){const e=n.ya.values().next().value;n.ya.delete(e);const t=new We(nn.fromString(e)),r=n.va.next();n.Sa.set(r,new jL(t)),n.wa=n.wa.insert(t,r),JT(n.remoteStore,new Zc(co(dp(t.path)),r,"TargetPurposeLimboResolution",Uo.ae))}}function nh(n,e,t){return QP.apply(this,arguments)}function QP(){return QP=(0,be.Z)(function*(n,e,t){const r=ze(n),i=[],c=[],l=[];var g;r.ga.isEmpty()||(r.ga.forEach((g,y)=>{l.push(r.Ma(y,e,t).then(I=>{if((I||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(y.targetId,I?.fromCache?"not-current":"current"),I){i.push(I);const D=tP.$i(y.targetId,I);c.push(D)}}))}),yield Promise.all(l),r.fa.c_(i),yield(g=(0,be.Z)(function*(I,D){const P=ze(I);try{yield P.persistence.runTransaction("notifyLocalViewChanges","readwrite",N=>ae.forEach(D,z=>ae.forEach(z.Qi,J=>P.persistence.referenceDelegate.addReference(N,z.targetId,J)).next(()=>ae.forEach(z.Ki,J=>P.persistence.referenceDelegate.removeReference(N,z.targetId,J)))))}catch(N){if(!ys(N))throw N;Me("LocalStore","Failed to update sequence numbers: "+N)}for(const N of D){const z=N.targetId;if(!N.fromCache){const J=P.rs.get(z),ue=J.withLastLimboFreeSnapshotVersion(J.snapshotVersion);P.rs=P.rs.insert(z,ue)}}}),function y(I,D){return g.apply(this,arguments)})(r.localStore,c))}),QP.apply(this,arguments)}function QL(n,e){return XP.apply(this,arguments)}function XP(){return XP=(0,be.Z)(function*(n,e){const t=ze(n);if(!t.currentUser.isEqual(e)){Me("SyncEngine","User change. New user:",e.toKey());const r=yield M1(t.localStore,e);t.currentUser=e,(c=t).Ca.forEach(g=>{g.forEach(y=>{y.reject(new Ae(fe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),c.Ca.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield nh(t,r.cs)}var c}),XP.apply(this,arguments)}function XL(n,e){const t=ze(n),r=t.Sa.get(e);if(r&&r.ma)return Nt().add(r.key);{let i=Nt();const c=t.pa.get(e);if(!c)return i;for(const l of c){const g=t.ga.get(l);i=i.unionWith(g.view.la)}return i}}function JL(n,e){return JP.apply(this,arguments)}function JP(){return JP=(0,be.Z)(function*(n,e){const t=ze(n),r=yield ZT(t.localStore,e.query,!0),i=e.view.Ra(r);return t.isPrimaryClient&&KP(t,e.targetId,i.Ea),i}),JP.apply(this,arguments)}function e2(n,e){return eR.apply(this,arguments)}function eR(){return eR=(0,be.Z)(function*(n,e){const t=ze(n);return N1(t.localStore,e).then(r=>nh(t,r))}),eR.apply(this,arguments)}function t2(n,e,t,r){return tR.apply(this,arguments)}function tR(){return tR=(0,be.Z)(function*(n,e,t,r){const i=ze(n),c=yield function(g,y){const I=ze(g),D=ze(I.mutationQueue);return I.persistence.runTransaction("Lookup mutation documents","readonly",P=>D.Fn(P,y).next(N=>N?I.localDocuments.getDocuments(P,N):ae.resolve(null)))}(i.localStore,e);var y;null!==c?("pending"===t?yield eb(i.remoteStore):"acknowledged"===t||"rejected"===t?(ZP(i,e,r||null),WP(i,e),y=e,ze(ze(i.localStore).mutationQueue).xn(y)):tt(),yield nh(i,c)):Me("SyncEngine","Cannot apply mutation batch with id: "+e)}),tR.apply(this,arguments)}function nR(){return nR=(0,be.Z)(function*(n,e){const t=ze(n);if(sR(t),aR(t),!0===e&&!0!==t.Fa){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield rN(t,r.toArray());t.Fa=!0,yield DP(t.remoteStore,!0);for(const c of i)JT(t.remoteStore,c)}else if(!1===e&&!1!==t.Fa){const r=[];let i=Promise.resolve();t.pa.forEach((c,l)=>{t.sharedClientState.isLocalQueryTarget(l)?r.push(l):i=i.then(()=>(ob(t,l),Xv(t.localStore,l,!0))),UI(t.remoteStore,l)}),yield i,yield rN(t,r),function(l){const g=ze(l);g.Sa.forEach((y,I)=>{UI(g.remoteStore,I)}),g.ba.gr(),g.Sa=new Map,g.wa=new xn(We.comparator)}(t),t.Fa=!1,yield DP(t.remoteStore,!1)}}),nR.apply(this,arguments)}function rN(n,e,t){return rR.apply(this,arguments)}function rR(){return rR=(0,be.Z)(function*(n,e,t){const r=ze(n),i=[],c=[];for(const l of e){let g;const y=r.pa.get(l);if(y&&0!==y.length){g=yield Qv(r.localStore,co(y[0]));for(const I of y){const D=r.ga.get(I),P=yield JL(r,D);P.snapshot&&c.push(P.snapshot)}}else{const I=yield O1(r.localStore,l);g=yield Qv(r.localStore,I),yield VP(r,iN(I),l,!1,g.resumeToken)}i.push(g)}return r.fa.c_(c),i}),rR.apply(this,arguments)}function iN(n){return sI(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function r2(n){return t=ze(n).localStore,ze(ze(t).persistence).ki();var t}function o2(n,e,t,r){return iR.apply(this,arguments)}function iR(){return iR=(0,be.Z)(function*(n,e,t,r){const i=ze(n);if(i.Fa)return void Me("SyncEngine","Ignoring unexpected query state notification.");const c=i.pa.get(e);if(c&&c.length>0)switch(t){case"current":case"not-current":{const l=yield N1(i.localStore,Dv(c[0])),g=mp.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,fr.EMPTY_BYTE_STRING);yield nh(i,l,g);break}case"rejected":yield Xv(i.localStore,e,!0),ob(i,e,r);break;default:tt()}}),iR.apply(this,arguments)}function s2(n,e,t){return oR.apply(this,arguments)}function oR(){return oR=(0,be.Z)(function*(n,e,t){const r=sR(n);if(r.Fa){for(const i of e){if(r.pa.has(i)){Me("SyncEngine","Adding an already active target "+i);continue}const c=yield O1(r.localStore,i),l=yield Qv(r.localStore,c);yield VP(r,iN(c),l.targetId,!1,l.resumeToken),JT(r.remoteStore,l)}for(const i of t)r.pa.has(i)&&(yield Xv(r.localStore,i,!1).then(()=>{UI(r.remoteStore,i),ob(r,i)}).catch(lu))}}),oR.apply(this,arguments)}function sR(n){const e=ze(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=eN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=XL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=qL.bind(null,e),e.fa.c_=FL.bind(null,e.eventManager),e.fa.xa=LL.bind(null,e.eventManager),e}function aR(n){const e=ze(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=WL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ZL.bind(null,e),e}class jI{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,be.Z)(function*(){t.serializer=VI(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return S1(this.persistence,new D1,e.initialUser,this.serializer)}createPersistence(e){return new QM(GT.Jr,this.serializer)}createSharedClientState(e){return new V1}terminate(){var e=this;return(0,be.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class cR extends jI{constructor(e,t,r){super(),this.Na=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,be.Z)(function*(){yield t().call(r,e),yield r.Na.initialize(r,e),yield aR(r.Na.syncEngine),yield eb(r.Na.remoteStore),yield r.persistence.gi(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return S1(this.persistence,new D1,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new E(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const r=new iM(t,this.persistence);return new $C(e.asyncQueue,r)}createPersistence(e){const t=eP(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Ii.withCacheSize(this.cacheSizeBytes):Ii.DEFAULT;return new JM(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,U1(),XT(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new V1}}class oN extends cR{constructor(e,t){super(e,t,!1),this.Na=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,be.Z)(function*(){yield t().call(r,e);const i=r.Na.syncEngine;r.sharedClientState instanceof lP&&(r.sharedClientState.syncEngine={Xs:t2.bind(null,i),eo:o2.bind(null,i),no:s2.bind(null,i),ki:r2.bind(null,i),Zs:e2.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.gi(function(){var c=(0,be.Z)(function*(l){yield function n2(n,e){return nR.apply(this,arguments)}(r.Na.syncEngine,l),r.gcScheduler&&(l&&!r.gcScheduler.started?r.gcScheduler.start():l||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(l&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():l||r.indexBackfillerScheduler.stop())});return function(l){return c.apply(this,arguments)}}())})()}createSharedClientState(e){const t=U1();if(!lP.C(t))throw new Ae(fe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=eP(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new lP(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class sb{initialize(e,t){var r=this;return(0,be.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>tN(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=QL.bind(null,r.syncEngine),yield DP(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new kL}createDatastore(e){const t=VI(e.databaseInfo.databaseId),r=new yL(e.databaseInfo);return new EL(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return r=this.localStore,i=this.datastore,c=e.asyncQueue,l=t=>tN(this.syncEngine,t,0),g=B1.C()?new B1:new mL,new xL(r,i,c,l,g);var r,i,c,l,g}createSyncEngine(e,t){return function(i,c,l,g,y,I,D){const P=new HL(i,c,l,g,y,I);return D&&(P.Fa=!0),P}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,be.Z)(function*(r){const i=ze(r);Me("RemoteStore","RemoteStore shutting down."),i.F_.add(5),yield Jv(i),i.x_.shutdown(),i.O_.set("Unknown")}),function t(r){return e.apply(this,arguments)})(this.remoteStore);var e}}function sN(n,e=10240){let t=0;return{read:()=>(0,be.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,be.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class tA{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):hr("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class l2{constructor(e,t){this.ka=e,this.serializer=t,this.metadata=new Rr,this.buffer=new Uint8Array,this.qa=new TextDecoder("utf-8"),this.Qa().then(r=>{r&&r.ea()?this.metadata.resolve(r.X_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.X_)}`))},r=>this.metadata.reject(r))}close(){return this.ka.cancel()}getMetadata(){var e=this;return(0,be.Z)(function*(){return e.metadata.promise})()}Oa(){var e=this;return(0,be.Z)(function*(){return yield e.getMetadata(),e.Qa()})()}Qa(){var e=this;return(0,be.Z)(function*(){const t=yield e.Ka();if(null===t)return null;const r=e.qa.decode(t),i=Number(r);isNaN(i)&&e.$a(`length string (${r}) is not valid number`);const c=yield e.Ua(i);return new VL(JSON.parse(c),t.length+i)})()}Wa(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Ka(){var e=this;return(0,be.Z)(function*(){for(;e.Wa()<0&&!(yield e.Ga()););if(0===e.buffer.length)return null;const t=e.Wa();t<0&&e.$a("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Ua(e){var t=this;return(0,be.Z)(function*(){for(;t.buffer.length<e;)(yield t.Ga())&&t.$a("Reached the end of bundle when more is expected.");const r=t.qa.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}$a(e){throw this.ka.cancel(),new Error(`Invalid bundle format: ${e}`)}Ga(){var e=this;return(0,be.Z)(function*(){const t=yield e.ka.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class u2{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,be.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Ae(fe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,be.Z)(function*(l,g){const y=ze(l),I=Bv(y.serializer)+"/documents",D={documents:g.map(J=>Gg(y.serializer,J))},P=yield y.Fo("BatchGetDocuments",I,D,g.length),N=new Map;P.forEach(J=>{const ee=function Uv(n,e){return"found"in e?function(r,i){lt(!!i.found);const c=Ua(r,i.found.name),l=xr(i.found.updateTime),g=i.found.createTime?xr(i.found.createTime):dt.min(),y=new oi({mapValue:{fields:i.found.fields}});return Vn.newFoundDocument(c,l,g,y)}(n,e):"missing"in e?function(r,i){lt(!!i.missing),lt(!!i.readTime);const c=Ua(r,i.missing),l=xr(i.readTime);return Vn.newNoDocument(c,l)}(n,e):tt()}(y.serializer,J);N.set(ee.key.toString(),ee)});const z=[];return g.forEach(J=>{const ee=N.get(J.toString());lt(!!ee),z.push(ee)}),z}),function c(l,g){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ho(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,be.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const c=We.fromPath(i);e.mutations.push(new kv(c,e.precondition(c)))}),yield(r=(0,be.Z)(function*(c,l){const g=ze(c),y=Bv(g.serializer)+"/documents",I={writes:l.map(D=>qg(g.serializer,D))};yield g.bo("Commit",y,I)}),function i(c,l){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw tt();t=dt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Ae(fe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(dt.min())?Rn.exists(!1):Rn.updateTime(t):Rn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(dt.min()))throw new Ae(fe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Rn.updateTime(t)}return Rn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class d2{constructor(e,t,r,i,c){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=c,this.za=r.maxAttempts,this.Ho=new dP(this.asyncQueue,"transaction_retry")}run(){this.za-=1,this.ja()}ja(){var e=this;this.Ho.Qo((0,be.Z)(function*(){const t=new u2(e.datastore),r=e.Ha(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(c=>{e.Ja(c)}))}).catch(i=>{e.Ja(i)})}))}Ha(e){try{const t=this.updateFunction(e);return!cv(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Ja(e){this.za>0&&this.Ya(e)?(this.za-=1,this.asyncQueue.enqueueAndForget(()=>(this.ja(),Promise.resolve()))):this.deferred.reject(e)}Ya(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!ET(t)}return!1}}class h2{constructor(e,t,r,i){var c=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Gr.UNAUTHENTICATED,this.clientId=BE.V(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var l=(0,be.Z)(function*(g){Me("FirestoreClient","Received user=",g.uid),yield c.authCredentialListener(g),c.user=g});return function(g){return l.apply(this,arguments)}}()),this.appCheckCredentials.start(r,l=>(Me("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}getConfiguration(){var e=this;return(0,be.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ae(fe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Rr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,be.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=nb(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function nA(n,e){return lR.apply(this,arguments)}function lR(){return lR=(0,be.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Me("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,be.Z)(function*(c){r.isEqual(c)||(yield M1(e.localStore,c),r=c)});return function(c){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),lR.apply(this,arguments)}function uR(n,e){return dR.apply(this,arguments)}function dR(){return dR=(0,be.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield hR(n);Me("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>W1(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,c)=>W1(e.remoteStore,c)),n._onlineComponents=e}),dR.apply(this,arguments)}function aN(n){return"FirebaseError"===n.name?n.code===fe.FAILED_PRECONDITION||n.code===fe.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function hR(n){return fR.apply(this,arguments)}function fR(){return fR=(0,be.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Me("FirestoreClient","Using user provided OfflineComponentProvider");try{yield nA(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!aN(t))throw t;ao("Error using user provided cache. Falling back to memory cache: "+t),yield nA(n,new jI)}}else Me("FirestoreClient","Using default OfflineComponentProvider"),yield nA(n,new jI);return n._offlineComponents}),fR.apply(this,arguments)}function rA(n){return pR.apply(this,arguments)}function pR(){return pR=(0,be.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Me("FirestoreClient","Using user provided OnlineComponentProvider"),yield uR(n,n._uninitializedComponentsProvider._online)):(Me("FirestoreClient","Using default OnlineComponentProvider"),yield uR(n,new sb))),n._onlineComponents}),pR.apply(this,arguments)}function cN(n){return hR(n).then(e=>e.persistence)}function ab(n){return hR(n).then(e=>e.localStore)}function lN(n){return rA(n).then(e=>e.remoteStore)}function mR(n){return rA(n).then(e=>e.syncEngine)}function cb(n){return gR.apply(this,arguments)}function gR(){return gR=(0,be.Z)(function*(n){const e=yield rA(n),t=e.eventManager;return t.onListen=zL.bind(null,e.syncEngine),t.onUnlisten=$L.bind(null,e.syncEngine),t}),gR.apply(this,arguments)}function dN(n,e,t={}){const r=new Rr;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(c,l,g,y,I){const D=new tA({next:N=>{l.enqueueAndForget(()=>OP(c,P));const z=N.docs.has(g);!z&&N.fromCache?I.reject(new Ae(fe.UNAVAILABLE,"Failed to get document because the client is offline.")):z&&N.fromCache&&y&&"server"===y.source?I.reject(new Ae(fe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):I.resolve(N)},error:N=>I.reject(N)}),P=new FP(dp(g.path),D,{includeMetadataChanges:!0,Z_:!0});return PP(c,P)}(yield cb(n),n.asyncQueue,e,t,r)})),r.promise}function hN(n,e,t={}){const r=new Rr;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(c,l,g,y,I){const D=new tA({next:N=>{l.enqueueAndForget(()=>OP(c,P)),N.fromCache&&"server"===y.source?I.reject(new Ae(fe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):I.resolve(N)},error:N=>I.reject(N)}),P=new FP(g,D,{includeMetadataChanges:!0,Z_:!0});return PP(c,P)}(yield cb(n),n.asyncQueue,e,t,r)})),r.promise}function fN(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const pN=new Map;function _R(n,e,t){if(!t)throw new Ae(fe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function mN(n,e,t,r){if(!0===e&&!0===r)throw new Ae(fe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function gN(n){if(!We.isDocumentKey(n))throw new Ae(fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function _N(n){if(We.isDocumentKey(n))throw new Ae(fe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function iA(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(r=n).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof n?"a function":tt()}function rn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ae(fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=iA(n);throw new Ae(fe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function yN(n,e){if(e<=0)throw new Ae(fe.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class vN{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new Ae(fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ae(fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}mN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=fN(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(c){if(void 0!==c.timeoutSeconds){if(isNaN(c.timeoutSeconds))throw new Ae(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new Ae(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new Ae(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class HI{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vN({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ae(fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ae(fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vN(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new QS;switch(r.type){case"firstParty":return new XS(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ae(fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=pN.get(t);r&&(Me("ComponentProvider","Removing Datastore"),pN.delete(t),r.terminate())}(this),Promise.resolve()}}class Bi{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Bi(this.firestore,e,this._query)}}class Yn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _u(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Yn(this.firestore,e,this._key)}}class _u extends Bi{constructor(e,t,r){super(e,t,dp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Yn(this.firestore,null,new We(e))}withConverter(e){return new _u(this.firestore,e,this._path)}}function EN(n,e,...t){if(n=(0,en.m9)(n),_R("collection","path",e),n instanceof HI){const r=nn.fromString(e,...t);return _N(r),new _u(n,null,r)}{if(!(n instanceof Yn||n instanceof _u))throw new Ae(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(nn.fromString(e,...t));return _N(r),new _u(n.firestore,null,r)}}function oA(n,e,...t){if(n=(0,en.m9)(n),1===arguments.length&&(e=BE.V()),_R("doc","path",e),n instanceof HI){const r=nn.fromString(e,...t);return gN(r),new Yn(n,null,new We(r))}{if(!(n instanceof Yn||n instanceof _u))throw new Ae(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(nn.fromString(e,...t));return gN(r),new Yn(n.firestore,n instanceof _u?n.converter:null,new We(r))}}function IN(n,e){return n=(0,en.m9)(n),e=(0,en.m9)(e),(n instanceof Yn||n instanceof _u)&&(e instanceof Yn||e instanceof _u)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function yR(n,e){return n=(0,en.m9)(n),e=(0,en.m9)(e),n instanceof Bi&&e instanceof Bi&&n.firestore===e.firestore&&Av(n._query,e._query)&&n.converter===e.converter}class x2{constructor(){this.Za=Promise.resolve(),this.Xa=[],this.eu=!1,this.tu=[],this.nu=null,this.ru=!1,this.iu=!1,this.su=[],this.Ho=new dP(this,"async_queue_retry"),this.ou=()=>{const t=XT();t&&Me("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Ho.$o()};const e=XT();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.ou)}get isShuttingDown(){return this.eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this._u(),this.au(e)}enterRestrictedMode(e){if(!this.eu){this.eu=!0,this.iu=e||!1;const t=XT();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.ou)}}enqueue(e){if(this._u(),this.eu)return new Promise(()=>{});const t=new Rr;return this.au(()=>this.eu&&this.iu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xa.push(e),this.uu()))}uu(){var e=this;return(0,be.Z)(function*(){if(0!==e.Xa.length){try{yield e.Xa[0](),e.Xa.shift(),e.Ho.reset()}catch(t){if(!ys(t))throw t;Me("AsyncQueue","Operation failed with retryable error: "+t)}e.Xa.length>0&&e.Ho.Qo(()=>e.uu())}})()}au(e){const t=this.Za.then(()=>(this.ru=!0,e().catch(r=>{throw this.nu=r,this.ru=!1,hr("INTERNAL UNHANDLED ERROR: ",function(l){let g=l.message||"";return l.stack&&(g=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),g}(r)),r}).then(r=>(this.ru=!1,r))));return this.Za=t,t}enqueueAfterDelay(e,t,r){this._u(),this.su.indexOf(e)>-1&&(t=0);const i=MP.createAndSchedule(this,e,t,r,c=>this.cu(c));return this.tu.push(i),i}_u(){this.nu&&tt()}verifyOperationInProgress(){}lu(){var e=this;return(0,be.Z)(function*(){let t;do{t=e.Za,yield t}while(t!==e.Za)})()}hu(e){for(const t of this.tu)if(t.timerId===e)return!0;return!1}Pu(e){return this.lu().then(()=>{this.tu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.tu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.lu()})}Iu(e){this.su.push(e)}cu(e){const t=this.tu.indexOf(e);this.tu.splice(t,1)}}function vR(n){return function(t,r){if("object"!=typeof t||null===t)return!1;const i=t;for(const c of["next","error","complete"])if(c in i&&"function"==typeof i[c])return!0;return!1}(n)}class C2{constructor(){this._progressObserver={},this._taskCompletionResolver=new Rr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Hn extends HI{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new x2,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||wN(this),this._firestoreClient.terminate()}}function Cr(n){return n._firestoreClient||wN(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function wN(n){var e,t,r;const i=n._freezeSettings(),c=(y=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new XC(n._databaseId,y,n._persistenceKey,(D=i).host,D.ssl,D.experimentalForceLongPolling,D.experimentalAutoDetectLongPolling,fN(D.experimentalLongPollingOptions),D.useFetchStreams));var y,D;n._firestoreClient=new h2(n._authCredentials,n._appCheckCredentials,n._queue,c),null!==(t=i.localCache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function xN(n,e,t){const r=new Rr;return n.asyncQueue.enqueue((0,be.Z)(function*(){try{yield nA(n,t),yield uR(n,e),r.resolve()}catch(i){const c=i;if(!aN(c))throw c;ao("Error enabling indexeddb cache. Falling back to memory cache: "+c),r.reject(c)}})).then(()=>r.promise)}function CN(n){if(n._initialized||n._terminated)throw new Ae(fe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class yu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new yu(fr.fromBase64String(e))}catch(t){throw new Ae(fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new yu(fr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class rh{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ae(fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class t_{constructor(e){this._methodName=e}}class sA{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ae(fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ae(fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Pt(this._lat,e._lat)||Pt(this._long,e._long)}}const F2=/^__.*__$/;class L2{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Wc(e,this.data,this.fieldMask,t,this.fieldTransforms):new Gd(e,this.data,t,this.fieldTransforms)}}class TN{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Wc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function AN(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw tt()}}class aA{constructor(e,t,r,i,c,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===c&&this.du(),this.fieldTransforms=c||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Tu(){return this.settings.Tu}Eu(e){return new aA(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Au(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Eu({path:r,Ru:!1});return i.Vu(e),i}mu(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Eu({path:r,Ru:!1});return i.du(),i}fu(e){return this.Eu({path:void 0,Ru:!0})}gu(e){return uA(e,this.settings.methodName,this.settings.pu||!1,this.path,this.settings.yu)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}du(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vu(this.path.get(e))}Vu(e){if(0===e.length)throw this.gu("Document fields must not be empty");if(AN(this.Tu)&&F2.test(e))throw this.gu('Document fields cannot begin and end with "__"')}}class V2{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||VI(e)}wu(e,t,r,i=!1){return new aA({Tu:e,methodName:t,yu:r,path:Kn.emptyPath(),Ru:!1,pu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function n_(n){const e=n._freezeSettings(),t=VI(n._databaseId);return new V2(n._databaseId,!!e.ignoreUndefinedProperties,t)}function cA(n,e,t,r,i,c={}){const l=n.wu(c.merge||c.mergeFields?2:0,e,t,i);wR("Data must be an object, but it was:",l,r);const g=MN(r,l);let y,I;if(c.merge)y=new Ei(l.fieldMask),I=l.fieldTransforms;else if(c.mergeFields){const D=[];for(const P of c.mergeFields){const N=GI(e,P,t);if(!l.contains(N))throw new Ae(fe.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);RN(D,N)||D.push(N)}y=new Ei(D),I=l.fieldTransforms.filter(P=>y.covers(P.field))}else y=null,I=l.fieldTransforms;return new L2(new oi(g),y,I)}class $I extends t_{_toFieldTransform(e){if(2!==e.Tu)throw e.gu(1===e.Tu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof $I}}function DN(n,e,t){return new aA({Tu:3,yu:e.settings.yu,methodName:n._methodName,Ru:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class bR extends t_{_toFieldTransform(e){return new jg(e.path,new fp)}isEqual(e){return e instanceof bR}}class B2 extends t_{constructor(e,t){super(e),this.Su=t}_toFieldTransform(e){const t=DN(this,e,!0),r=this.Su.map(c=>r_(c,t)),i=new zd(r);return new jg(e.path,i)}isEqual(e){return this===e}}class U2 extends t_{constructor(e,t){super(e),this.Su=t}_toFieldTransform(e){const t=DN(this,e,!0),r=this.Su.map(c=>r_(c,t)),i=new $d(r);return new jg(e.path,i)}isEqual(e){return this===e}}class j2 extends t_{constructor(e,t){super(e),this.bu=t}_toFieldTransform(e){const t=new pp(e.serializer,dT(e.serializer,this.bu));return new jg(e.path,t)}isEqual(e){return this===e}}function ER(n,e,t,r){const i=n.wu(1,e,t);wR("Data must be an object, but it was:",i,r);const c=[],l=oi.empty();zc(r,(y,I)=>{const D=lA(e,y,t);I=(0,en.m9)(I);const P=i.mu(D);if(I instanceof $I)c.push(D);else{const N=r_(I,P);null!=N&&(c.push(D),l.set(D,N))}});const g=new Ei(c);return new TN(l,g,i.fieldTransforms)}function IR(n,e,t,r,i,c){const l=n.wu(1,e,t),g=[GI(e,r,t)],y=[i];if(c.length%2!=0)throw new Ae(fe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<c.length;N+=2)g.push(GI(e,c[N])),y.push(c[N+1]);const I=[],D=oi.empty();for(let N=g.length-1;N>=0;--N)if(!RN(I,g[N])){const z=g[N];let J=y[N];J=(0,en.m9)(J);const ee=l.mu(z);if(J instanceof $I)I.push(z);else{const ue=r_(J,ee);null!=ue&&(I.push(z),D.set(z,ue))}}const P=new Ei(I);return new TN(D,P,l.fieldTransforms)}function SN(n,e,t,r=!1){return r_(t,n.wu(r?4:3,e))}function r_(n,e){if(PN(n=(0,en.m9)(n)))return wR("Unsupported field value:",e,n),MN(n,e);if(n instanceof t_)return function(r,i){if(!AN(i.Tu))throw i.gu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.gu(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(i);c&&i.fieldTransforms.push(c)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Ru&&4!==e.Tu)throw e.gu("Nested arrays are not supported");return function(r,i){const c=[];let l=0;for(const g of r){let y=r_(g,i.fu(l));null==y&&(y={nullValue:"NULL_VALUE"}),c.push(y),l++}return{arrayValue:{values:c}}}(n,e)}return function(r,i){if(null===(r=(0,en.m9)(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return dT(i.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const c=Pn.fromDate(r);return{timestampValue:_p(i.serializer,c)}}if(r instanceof Pn){const c=new Pn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:_p(i.serializer,c)}}if(r instanceof sA)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof yu)return{bytesValue:AT(i.serializer,r._byteString)};if(r instanceof Yn){const c=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(c))throw i.gu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Vv(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.gu(`Unsupported field value: ${iA(r)}`)}(n,e)}function MN(n,e){const t={};return mv(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):zc(n,(r,i)=>{const c=r_(i,e.Au(r));null!=c&&(t[r]=c)}),{mapValue:{fields:t}}}function PN(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Pn||n instanceof sA||n instanceof yu||n instanceof Yn||n instanceof t_)}function wR(n,e,t){if(!PN(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const r=iA(t);throw e.gu("an object"===r?n+" a custom object":n+" "+r)}var i}function GI(n,e,t){if((e=(0,en.m9)(e))instanceof rh)return e._internalPath;if("string"==typeof e)return lA(n,e);throw uA("Field path arguments must be of type string or ",n,!1,void 0,t)}const H2=new RegExp("[~\\*/\\[\\]]");function lA(n,e,t){if(e.search(H2)>=0)throw uA(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new rh(...e.split("."))._internalPath}catch{throw uA(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function uA(n,e,t,r,i){const c=r&&!r.isEmpty(),l=void 0!==i;let g=`Function ${e}() called with invalid data`;t&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(c||l)&&(y+=" (found",c&&(y+=` in field ${r}`),l&&(y+=` in document ${i}`),y+=")"),new Ae(fe.INVALID_ARGUMENT,g+n+y)}function RN(n,e){return n.some(t=>t.isEqual(e))}class qI{constructor(e,t,r,i,c){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Yn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new z2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(dA("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class z2 extends qI{data(){return super.data()}}function dA(n,e){return"string"==typeof e?lA(n,e):e instanceof rh?e._internalPath:e._delegate._internalPath}function ON(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Ae(fe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class xR{}class WI extends xR{}function Ip(n,e,...t){let r=[];e instanceof xR&&r.push(e),r=r.concat(t),function(c){const l=c.filter(y=>y instanceof lb).length,g=c.filter(y=>y instanceof ZI).length;if(l>1||l>0&&g>0)throw new Ae(fe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class ZI extends WI{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new ZI(e,t,r)}_apply(e){const t=this._parse(e);return LN(e._query,t),new Bi(e.firestore,e.converter,aT(e._query,t))}_parse(e){const t=n_(e.firestore);return function(c,l,g,y,I,D,P){let N;if(I.isKeyField()){if("array-contains"===D||"array-contains-any"===D)throw new Ae(fe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${D}' queries on documentId().`);if("in"===D||"not-in"===D){FN(P,D);const z=[];for(const J of P)z.push(kN(y,c,J));N={arrayValue:{values:z}}}else N=kN(y,c,P)}else"in"!==D&&"not-in"!==D&&"array-contains-any"!==D||FN(P,D),N=SN(g,"where",P,"in"===D||"not-in"===D);return Qt.create(I,D,N)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class lb extends xR{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new lb(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:En.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,c){let l=i;const g=c.getFlattenedFilters();for(const y of g)LN(l,y),l=aT(l,y)}(e._query,t),new Bi(e.firestore,e.converter,aT(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class CR extends WI{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new CR(e,t)}_apply(e){const t=function(i,c,l){if(null!==i.startAt)throw new Ae(fe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Ae(fe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const g=new Bd(c,l);return function(I,D){if(null===oT(I)){const P=Fg(I);null!==P&&VN(0,P,D.field)}}(i,g),g}(e._query,this._field,this._direction);return new Bi(e.firestore,e.converter,function(i,c){const l=i.explicitOrderBy.concat([c]);return new Va(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class hA extends WI{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new hA(e,t,r)}_apply(e){return new Bi(e.firestore,e.converter,aI(e._query,this._limit,this._limitType))}}class fA extends WI{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new fA(e,t,r)}_apply(e){const t=NN(e,this.type,this._docOrFields,this._inclusive);return new Bi(e.firestore,e.converter,(c=t,new Va((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,c,i.endAt)));var i,c}}class pA extends WI{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new pA(e,t,r)}_apply(e){const t=NN(e,this.type,this._docOrFields,this._inclusive);return new Bi(e.firestore,e.converter,(c=t,new Va((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,c)));var i,c}}function NN(n,e,t,r){if(t[0]=(0,en.m9)(t[0]),t[0]instanceof qI)return function(c,l,g,y,I){if(!y)throw new Ae(fe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${g}().`);const D=[];for(const P of Lg(c))if(P.field.isKeyField())D.push(Vd(l,y.key));else{const N=y.data.field(P.field);if(yv(N))throw new Ae(fe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+P.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===N){const z=P.field.canonicalString();throw new Ae(fe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${z}' (used as the orderBy) does not exist.`)}D.push(N)}return new mu(D,I)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=n_(n.firestore);return function(l,g,y,I,D,P){const N=l.explicitOrderBy;if(D.length>N.length)throw new Ae(fe.INVALID_ARGUMENT,`Too many arguments provided to ${I}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const z=[];for(let J=0;J<D.length;J++){const ee=D[J];if(N[J].field.isKeyField()){if("string"!=typeof ee)throw new Ae(fe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${I}(), but got a ${typeof ee}`);if(!sT(l)&&-1!==ee.indexOf("/"))throw new Ae(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${I}() must be a plain document ID, but '${ee}' contains a slash.`);const ue=l.path.child(nn.fromString(ee));if(!We.isDocumentKey(ue))throw new Ae(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${I}() must result in a valid document path, but '${ue}' is not because it contains an odd number of segments.`);const Pe=new We(ue);z.push(Vd(g,Pe))}else{const ue=SN(y,I,ee);z.push(ue)}}return new mu(z,P)}(n._query,n.firestore._databaseId,i,e,t,r)}}function kN(n,e,t){if("string"==typeof(t=(0,en.m9)(t))){if(""===t)throw new Ae(fe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!sT(e)&&-1!==t.indexOf("/"))throw new Ae(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(nn.fromString(t));if(!We.isDocumentKey(r))throw new Ae(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Vd(n,new We(r))}if(t instanceof Yn)return Vd(n,t._key);throw new Ae(fe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${iA(t)}.`)}function FN(n,e){if(!Array.isArray(n)||0===n.length)throw new Ae(fe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function LN(n,e){if(e.isInequality()){const r=Fg(n),i=e.field;if(null!==r&&!r.isEqual(i))throw new Ae(fe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const c=oT(n);null!==c&&VN(0,i,c)}const t=function(i,c){for(const l of i)for(const g of l.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Ae(fe.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function VN(n,e,t){if(!t.isEqual(e))throw new Ae(fe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class TR{convertValue(e,t="none"){switch(fu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return rr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes($c(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw tt()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return zc(e,(i,c)=>{r[i]=this.convertValue(c,t)}),r}convertGeoPoint(e){return new sA(rr(e.latitude),rr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Mg(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Ld(e));default:return null}}convertTimestamp(e){const t=du(e);return new Pn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=nn.fromString(e);lt(PT(r));const i=new hu(r.get(1),r.get(3)),c=new We(r.popFirst(5));return i.isEqual(t)||hr(`Document ${c} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}function mA(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class X2 extends TR{constructor(e){super(),this.firestore=e}convertBytes(e){return new yu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Yn(this.firestore,null,t)}}class i_{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ih extends qI{constructor(e,t,r,i,c,l){super(e,t,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new KI(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(dA("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class KI extends ih{data(e={}){return super.data(e)}}class wp{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new i_(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new KI(this._firestore,this._userDataWriter,r.key,r,new i_(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ae(fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,c){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(g=>({type:"added",doc:new KI(i._firestore,i._userDataWriter,g.doc.key,g.doc,new i_(i._snapshot.mutatedKeys.has(g.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:l++}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(g=>c||3!==g.type).map(g=>{const y=new KI(i._firestore,i._userDataWriter,g.doc.key,g.doc,new i_(i._snapshot.mutatedKeys.has(g.doc.key),i._snapshot.fromCache),i.query.converter);let I=-1,D=-1;return 0!==g.type&&(I=l.indexOf(g.doc.key),l=l.delete(g.doc.key)),1!==g.type&&(l=l.add(g.doc),D=l.indexOf(g.doc.key)),{type:eV(g.type),doc:y,oldIndex:I,newIndex:D}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function eV(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return tt()}}function UN(n,e){return n instanceof ih&&e instanceof ih?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof wp&&e instanceof wp&&n._firestore===e._firestore&&yR(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class xp extends TR{constructor(e){super(),this.firestore=e}convertBytes(e){return new yu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Yn(this.firestore,null,t)}}function jN(n,e,t){n=rn(n,Yn);const r=rn(n.firestore,Hn),i=mA(n.converter,e,t);return ub(r,[cA(n_(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Rn.none())])}function HN(n,e,t,...r){n=rn(n,Yn);const i=rn(n.firestore,Hn),c=n_(i);let l;return l="string"==typeof(e=(0,en.m9)(e))||e instanceof rh?IR(c,"updateDoc",n._key,e,t,r):ER(c,"updateDoc",n._key,e),ub(i,[l.toMutation(n._key,Rn.exists(!0))])}function zN(n,...e){var t,r,i;n=(0,en.m9)(n);let c={includeMetadataChanges:!1},l=0;"object"!=typeof e[l]||vR(e[l])||(c=e[l],l++);const g={includeMetadataChanges:c.includeMetadataChanges};if(vR(e[l])){const P=e[l];e[l]=null===(t=P.next)||void 0===t?void 0:t.bind(P),e[l+1]=null===(r=P.error)||void 0===r?void 0:r.bind(P),e[l+2]=null===(i=P.complete)||void 0===i?void 0:i.bind(P)}let y,I,D;if(n instanceof Yn)I=rn(n.firestore,Hn),D=dp(n._key.path),y={next:P=>{e[l]&&e[l](AR(I,n,P))},error:e[l+1],complete:e[l+2]};else{const P=rn(n,Bi);I=rn(P.firestore,Hn),D=P._query;const N=new xp(I);y={next:z=>{e[l]&&e[l](new wp(I,N,P,z))},error:e[l+1],complete:e[l+2]},ON(n._query)}return function(N,z,J,ee){const ue=new tA(ee),Pe=new FP(z,ue,J);return N.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return PP(yield cb(N),Pe)})),()=>{ue.La(),N.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return OP(yield cb(N),Pe)}))}}(Cr(I),D,g,y)}function ub(n,e){return function(r,i){const c=new Rr;return r.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function GL(n,e,t){return jP.apply(this,arguments)}(yield mR(r),i,c)})),c.promise}(Cr(n),e)}function AR(n,e,t){const r=t.docs.get(e._key),i=new xp(n);return new ih(n,i,e._key,r,new i_(t.hasPendingWrites,t.fromCache),e.converter)}const yV={maxAttempts:5};class $N{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=n_(e)}set(e,t,r){this._verifyNotCommitted();const i=Cp(e,this._firestore),c=mA(i.converter,t,r),l=cA(this._dataReader,"WriteBatch.set",i._key,c,null!==i.converter,r);return this._mutations.push(l.toMutation(i._key,Rn.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const c=Cp(e,this._firestore);let l;return l="string"==typeof(t=(0,en.m9)(t))||t instanceof rh?IR(this._dataReader,"WriteBatch.update",c._key,t,r,i):ER(this._dataReader,"WriteBatch.update",c._key,t),this._mutations.push(l.toMutation(c._key,Rn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Cp(e,this._firestore);return this._mutations=this._mutations.concat(new Ho(t._key,Rn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ae(fe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Cp(n,e){if((n=(0,en.m9)(n)).firestore!==e)throw new Ae(fe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class vV extends class{constructor(t,r){this._firestore=t,this._transaction=r,this._dataReader=n_(t)}get(t){const r=Cp(t,this._firestore),i=new X2(this._firestore);return this._transaction.lookup([r._key]).then(c=>{if(!c||1!==c.length)return tt();const l=c[0];if(l.isFoundDocument())return new qI(this._firestore,i,l.key,l,r.converter);if(l.isNoDocument())return new qI(this._firestore,i,r._key,null,r.converter);throw tt()})}set(t,r,i){const c=Cp(t,this._firestore),l=mA(c.converter,r,i),g=cA(this._dataReader,"Transaction.set",c._key,l,null!==c.converter,i);return this._transaction.set(c._key,g),this}update(t,r,i,...c){const l=Cp(t,this._firestore);let g;return g="string"==typeof(r=(0,en.m9)(r))||r instanceof rh?IR(this._dataReader,"Transaction.update",l._key,r,i,c):ER(this._dataReader,"Transaction.update",l._key,r),this._transaction.update(l._key,g),this}delete(t){const r=Cp(t,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Cp(e,this._firestore),r=new xp(this._firestore);return super.get(e).then(i=>new ih(this._firestore,r,t._key,i._document,new i_(!1,!1),t.converter))}}function SR(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ae("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function ZN(){if(typeof Uint8Array>"u")throw new Ae("unimplemented","Uint8Arrays are not available in this environment.")}function KN(){if(!function QC(){return typeof atob<"u"}())throw new Ae("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(e,t=!0){kd=Fc.SDK_VERSION,(0,Fc._registerComponent)(new Sd.wA("firestore",(r,{instanceIdentifier:i,options:c})=>{const l=r.getProvider("app").getImmediate(),g=new Hn(new Fd(r.getProvider("auth-internal")),new VE(r.getProvider("app-check-internal")),function(I,D){if(!Object.prototype.hasOwnProperty.apply(I.options,["projectId"]))throw new Ae(fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hu(I.options.projectId,D)}(l,i),l);return c=Object.assign({useFetchStreams:t},c),g._setSettings(c),g},"PUBLIC").setMultipleInstances(!0)),(0,Fc.registerVersion)(kC,"4.2.0",e),(0,Fc.registerVersion)(kC,"4.2.0","esm2017")}();class YI{constructor(e){this._delegate=e}static fromBase64String(e){return KN(),new YI(yu.fromBase64String(e))}static fromUint8Array(e){return ZN(),new YI(yu.fromUint8Array(e))}toBase64(){return KN(),this._delegate.toBase64()}toUint8Array(){return ZN(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function MR(n){return function SV(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class MV{enableIndexedDbPersistence(e,t){return function A2(n,e){CN(n=rn(n,Hn));const t=Cr(n);if(t._uninitializedComponentsProvider)throw new Ae(fe.FAILED_PRECONDITION,"SDK cache is already specified.");ao("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=n._freezeSettings(),i=new sb;return xN(t,i,new cR(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function D2(n){CN(n=rn(n,Hn));const e=Cr(n);if(e._uninitializedComponentsProvider)throw new Ae(fe.FAILED_PRECONDITION,"SDK cache is already specified.");ao("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),r=new sb;return xN(e,r,new oN(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function S2(n){if(n._initialized&&!n._terminated)throw new Ae(fe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Rr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,be.Z)(function*(){try{yield(t=(0,be.Z)(function*(i){if(!Qs.C())return Promise.resolve();const c=i+"main";yield Qs.delete(c)}),function r(i){return t.apply(this,arguments)})(eP(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class YN{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof hu||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&ao("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function bN(n,e,t,r={}){var i;const c=(n=rn(n,HI))._getSettings(),l=`${e}:${t}`;if("firestore.googleapis.com"!==c.host&&c.host!==l&&ao("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},c),{host:l,ssl:!1})),r.mockUserToken){let g,y;if("string"==typeof r.mockUserToken)g=r.mockUserToken,y=Gr.MOCK_USER;else{g=(0,en.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const I=r.mockUserToken.sub||r.mockUserToken.user_id;if(!I)throw new Ae(fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Gr(I)}n._authCredentials=new FC(new ov(g,y))}}(this._delegate,e,t,r)}enableNetwork(){return function P2(n){return function f2(n){return n.asyncQueue.enqueue((0,be.Z)(function*(){const e=yield cN(n),t=yield lN(n);return e.setNetworkEnabled(!0),function(i){const c=ze(i);return c.F_.delete(0),BI(c)}(t)}))}(Cr(n=rn(n,Hn)))}(this._delegate)}disableNetwork(){return function R2(n){return function p2(n){return n.asyncQueue.enqueue((0,be.Z)(function*(){const e=yield cN(n),t=yield lN(n);return e.setNetworkEnabled(!1),(r=(0,be.Z)(function*(c){const l=ze(c);l.F_.add(0),yield Jv(l),l.O_.set("Offline")}),function i(c){return r.apply(this,arguments)})(t);var r}))}(Cr(n=rn(n,Hn)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,mN("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function M2(n){return function(t){const r=new Rr;return t.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function KL(n,e){return qP.apply(this,arguments)}(yield mR(t),r)})),r.promise}(Cr(n=rn(n,Hn)))}(this._delegate)}onSnapshotsInSync(e){return function lV(n,e){return function _2(n,e){const t=new tA(e);return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return i=yield cb(n),c=t,ze(i).K_.add(c),void c.next();var i,c})),()=>{t.La(),n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return i=yield cb(n),c=t,void ze(i).K_.delete(c);var i,c}))}}(Cr(n=rn(n,Hn)),vR(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Ae("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new db(this,EN(this._delegate,e))}catch(t){throw zo(t,"collection()","Firestore.collection()")}}doc(e){try{return new Ha(this,oA(this._delegate,e))}catch(t){throw zo(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new $o(this,function w2(n,e){if(n=rn(n,HI),_R("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ae(fe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Bi(n,null,(r=e,new Va(nn.emptyPath(),r)));var r}(this._delegate,e))}catch(t){throw zo(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function bV(n,e,t){n=rn(n,Hn);const r=Object.assign(Object.assign({},yV),t);return function(c){if(c.maxAttempts<1)throw new Ae(fe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(c,l,g){const y=new Rr;return c.asyncQueue.enqueueAndForget((0,be.Z)(function*(){const I=yield function uN(n){return rA(n).then(e=>e.datastore)}(c);new d2(c.asyncQueue,I,g,l,y).run()})),y.promise}(Cr(n),i=>e(new vV(n,i)),r)}(this._delegate,t=>e(new QN(this,t)))}batch(){return Cr(this._delegate),new XN(new $N(this._delegate,e=>ub(this._delegate,e)))}loadBundle(e){return function O2(n,e){const t=Cr(n=rn(n,Hn)),r=new C2;return function y2(n,e,t,r){const i=function(l,g){let y;return y="string"==typeof l?PM().encode(l):l,D=function(D,P){if(D instanceof Uint8Array)return sN(D,P);if(D instanceof ArrayBuffer)return sN(new Uint8Array(D),P);if(D instanceof ReadableStream)return D.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(y),new l2(D,g);var D}(t,VI(e));n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){!function a2(n,e,t){const r=ze(n);var i;(i=(0,be.Z)(function*(l,g,y){try{const I=yield g.getMetadata();if(yield function(J,ee){const ue=ze(J),Pe=xr(ee.createTime);return ue.persistence.runTransaction("hasNewerBundle","readonly",Le=>ue.Ur.getBundleMetadata(Le,ee.id)).then(Le=>!!Le&&Le.createTime.compareTo(Pe)>=0)}(l.localStore,I))return yield g.close(),y._completeWith({taskState:"Success",documentsLoaded:(J=I).totalDocuments,bytesLoaded:J.totalBytes,totalDocuments:J.totalDocuments,totalBytes:J.totalBytes}),Promise.resolve(new Set);y._updateProgress(Y1(I));const D=new BL(I,l.localStore,g.serializer);let P=yield g.Oa();for(;P;){const z=yield D.na(P);z&&y._updateProgress(z),P=yield g.Oa()}const N=yield D.complete();return yield nh(l,N.sa,void 0),yield function(J,ee){const ue=ze(J);return ue.persistence.runTransaction("Save bundle","readwrite",Pe=>ue.Ur.saveBundleMetadata(Pe,ee))}(l.localStore,I),y._completeWith(N.progress),Promise.resolve(N.ia)}catch(I){return ao("SyncEngine",`Loading bundle failed with ${I}`),y._failWith(I),Promise.resolve(new Set)}var J}),function c(l,g,y){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield mR(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function N2(n,e){return function v2(n,e){return n.asyncQueue.enqueue((0,be.Z)(function*(){return function(r,i){const c=ze(r);return c.persistence.runTransaction("Get named query","readonly",l=>c.Ur.getNamedQuery(l,i))}(yield ab(n),e)}))}(Cr(n=rn(n,Hn)),e).then(t=>t?new Bi(n,null,t.query):null)}(this._delegate,e).then(t=>t?new $o(this,t):null)}}class _A extends TR{constructor(e){super(),this.firestore=e}convertBytes(e){return new YI(new yu(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Ha.forKey(t,this.firestore,null)}}class QN{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new _A(e)}get(e){const t=s_(e);return this._delegate.get(t).then(r=>new QI(this._firestore,new ih(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=s_(e);return r?(SR("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const c=s_(e);return 2===arguments.length?this._delegate.update(c,t):this._delegate.update(c,t,r,...i),this}delete(e){const t=s_(e);return this._delegate.delete(t),this}}class XN{constructor(e){this._delegate=e}set(e,t,r){const i=s_(e);return r?(SR("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const c=s_(e);return 2===arguments.length?this._delegate.update(c,t):this._delegate.update(c,t,r,...i),this}delete(e){const t=s_(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class o_{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new KI(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new XI(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=o_.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let c=i.get(t);return c||(c=new o_(e,new _A(e),t),i.set(t,c)),c}}o_.INSTANCES=new WeakMap;class Ha{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new _A(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Ae("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ha(t,new Yn(t._delegate,r,new We(e)))}static forKey(e,t,r){return new Ha(t,new Yn(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new db(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new db(this.firestore,EN(this._delegate,e))}catch(t){throw zo(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,en.m9)(e))instanceof Yn&&IN(this._delegate,e)}set(e,t){t=SR("DocumentReference.set",t);try{return t?jN(this._delegate,e,t):jN(this._delegate,e)}catch(r){throw zo(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?HN(this._delegate,e):HN(this._delegate,e,t,...r)}catch(i){throw zo(i,"updateDoc()","DocumentReference.update()")}}delete(){return function aV(n){return ub(rn(n.firestore,Hn),[new Ho(n._key,Rn.none())])}(this._delegate)}onSnapshot(...e){const t=JN(e),r=ek(e,i=>new QI(this.firestore,new ih(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return zN(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function nV(n){n=rn(n,Yn);const e=rn(n.firestore,Hn),t=Cr(e),r=new xp(e);return function m2(n,e){const t=new Rr;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return(r=(0,be.Z)(function*(c,l,g){try{const y=yield function(D,P){const N=ze(D);return N.persistence.runTransaction("read document","readonly",z=>N.localDocuments.getDocument(z,P))}(c,l);y.isFoundDocument()?g.resolve(y):y.isNoDocument()?g.resolve(null):g.reject(new Ae(fe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(y){const I=nb(y,`Failed to get document '${l} from cache`);g.reject(I)}}),function i(c,l,g){return r.apply(this,arguments)})(yield ab(n),e,t);var r})),t.promise}(t,n._key).then(i=>new ih(e,r,n._key,i,new i_(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function rV(n){n=rn(n,Yn);const e=rn(n.firestore,Hn);return dN(Cr(e),n._key,{source:"server"}).then(t=>AR(e,n,t))}(this._delegate):function tV(n){n=rn(n,Yn);const e=rn(n.firestore,Hn);return dN(Cr(e),n._key).then(t=>AR(e,n,t))}(this._delegate),t.then(r=>new QI(this.firestore,new ih(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Ha(this.firestore,this._delegate.withConverter(e?o_.getInstance(this.firestore,e):null))}}function zo(n,e,t){return n.message=n.message.replace(e,t),n}function JN(n){for(const e of n)if("object"==typeof e&&!MR(e))return e;return{}}function ek(n,e){var t,r;let i;return i=MR(n[0])?n[0]:MR(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:c=>{i.next&&i.next(e(c))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class QI{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Ha(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return UN(this._delegate,e._delegate)}}class XI extends QI{data(e){const t=this._delegate.data(e);return function LE(n,e){n||tt()}(void 0!==t),t}}class $o{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new _A(e)}where(e,t,r){try{return new $o(this.firestore,Ip(this._delegate,function $2(n,e,t){const r=e,i=dA("where",n);return ZI._create(i,r,t)}(e,t,r)))}catch(i){throw zo(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new $o(this.firestore,Ip(this._delegate,function G2(n,e="asc"){const t=e,r=dA("orderBy",n);return CR._create(r,t)}(e,t)))}catch(r){throw zo(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new $o(this.firestore,Ip(this._delegate,function q2(n){return yN("limit",n),hA._create("limit",n,"F")}(e)))}catch(t){throw zo(t,"limit()","Query.limit()")}}limitToLast(e){try{return new $o(this.firestore,Ip(this._delegate,function W2(n){return yN("limitToLast",n),hA._create("limitToLast",n,"L")}(e)))}catch(t){throw zo(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new $o(this.firestore,Ip(this._delegate,function Z2(...n){return fA._create("startAt",n,!0)}(...e)))}catch(t){throw zo(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new $o(this.firestore,Ip(this._delegate,function K2(...n){return fA._create("startAfter",n,!1)}(...e)))}catch(t){throw zo(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new $o(this.firestore,Ip(this._delegate,function Y2(...n){return pA._create("endBefore",n,!1)}(...e)))}catch(t){throw zo(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new $o(this.firestore,Ip(this._delegate,function Q2(...n){return pA._create("endAt",n,!0)}(...e)))}catch(t){throw zo(t,"endAt()","Query.endAt()")}}isEqual(e){return yR(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function oV(n){n=rn(n,Bi);const e=rn(n.firestore,Hn),t=Cr(e),r=new xp(e);return function g2(n,e){const t=new Rr;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return(r=(0,be.Z)(function*(c,l,g){try{const y=yield ZT(c,l,!0),I=new J1(l,y.Ps),D=I.ha(y.documents),P=I.applyChanges(D,!1);g.resolve(P.snapshot)}catch(y){const I=nb(y,`Failed to execute query '${l} against cache`);g.reject(I)}}),function i(c,l,g){return r.apply(this,arguments)})(yield ab(n),e,t);var r})),t.promise}(t,n._query).then(i=>new wp(e,r,n,i))}(this._delegate):"server"===e?.source?function sV(n){n=rn(n,Bi);const e=rn(n.firestore,Hn),t=Cr(e),r=new xp(e);return hN(t,n._query,{source:"server"}).then(i=>new wp(e,r,n,i))}(this._delegate):function iV(n){n=rn(n,Bi);const e=rn(n.firestore,Hn),t=Cr(e),r=new xp(e);return ON(n._query),hN(t,n._query).then(i=>new wp(e,r,n,i))}(this._delegate),t.then(r=>new PR(this.firestore,new wp(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=JN(e),r=ek(e,i=>new PR(this.firestore,new wp(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return zN(this._delegate,t,r)}withConverter(e){return new $o(this.firestore,this._delegate.withConverter(e?o_.getInstance(this.firestore,e):null))}}class RV{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new XI(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class PR{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new $o(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new XI(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new RV(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new XI(this._firestore,r))})}isEqual(e){return UN(this._delegate,e._delegate)}}class db extends $o{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ha(this.firestore,e):null}doc(e){try{return new Ha(this.firestore,void 0===e?oA(this._delegate):oA(this._delegate,e))}catch(t){throw zo(t,"doc()","CollectionReference.doc()")}}add(e){return function cV(n,e){const t=rn(n.firestore,Hn),r=oA(n),i=mA(n.converter,e);return ub(t,[cA(n_(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Rn.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Ha(this.firestore,t))}isEqual(e){return IN(this._delegate,e._delegate)}withConverter(e){return new db(this.firestore,this._delegate.withConverter(e?o_.getInstance(this.firestore,e):null))}}function s_(n){return rn(n,Yn)}class RR{constructor(...e){this._delegate=new rh(...e)}static documentId(){return new RR(Kn.keyField().canonicalString())}isEqual(e){return(e=(0,en.m9)(e))instanceof rh&&this._delegate._internalPath.isEqual(e._internalPath)}}class a_{constructor(e){this._delegate=e}static serverTimestamp(){const e=function IV(){return new bR("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new a_(e)}static delete(){const e=function EV(){return new $I("deleteField")}();return e._methodName="FieldValue.delete",new a_(e)}static arrayUnion(...e){const t=function wV(...n){return new B2("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new a_(t)}static arrayRemove(...e){const t=function xV(...n){return new U2("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new a_(t)}static increment(e){const t=function CV(n){return new j2("increment",n)}(e);return t._methodName="FieldValue.increment",new a_(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const OV={Firestore:YN,GeoPoint:sA,Timestamp:Pn,Blob:YI,Transaction:QN,WriteBatch:XN,DocumentReference:Ha,DocumentSnapshot:QI,Query:$o,QueryDocumentSnapshot:XI,QuerySnapshot:PR,CollectionReference:db,FieldPath:RR,FieldValue:a_,setLogLevel:function PV(n){!function YS(n){Hc.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function kV(n){(function NV(n,e){n.INTERNAL.registerComponent(new Sd.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},OV)))})(n,(e,t)=>new YN(e,t,new MV)),n.registerVersion("@firebase/firestore-compat","0.3.18")}(rg.Z);var FV=F(7354),JI=F(427),LV=F(6680),VV=F(6229),BV=F(9806);class UV extends Mc.xQ{constructor(e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,r){super(),this.scheduler=r,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){if(!this.isStopped){const t=this._events;t.push(e),t.length>this._bufferSize&&t.shift()}super.next(e)}nextTimeWindow(e){this.isStopped||(this._events.push(new jV(this._getNow(),e)),this._trimBufferThenGetEvents()),super.next(e)}_subscribe(e){const t=this._infiniteTimeWindow,r=t?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,c=r.length;let l;if(this.closed)throw new VV.N;if(this.isStopped||this.hasError?l=Zh.w.EMPTY:(this.observers.push(e),l=new BV.W(this,e)),i&&e.add(e=new JI.ht(e,i)),t)for(let g=0;g<c&&!e.closed;g++)e.next(r[g]);else for(let g=0;g<c&&!e.closed;g++)e.next(r[g].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),l}_getNow(){return(this.scheduler||LV.c).now()}_trimBufferThenGetEvents(){const e=this._getNow(),t=this._bufferSize,r=this._windowTime,i=this._events,c=i.length;let l=0;for(;l<c&&!(e-i[l].time<r);)l++;return c>t&&(l=Math.max(l,c-t)),l>0&&i.splice(0,l),i}}class jV{constructor(e,t){this.time=e,this.value=t}}function tk(n,e,t){let r;return r=n&&"object"==typeof n?n:{bufferSize:n,windowTime:e,refCount:!1,scheduler:t},i=>i.lift(function HV({bufferSize:n=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:t,scheduler:r}){let i,l,c=0,g=!1,y=!1;return function(D){let P;c++,!i||g?(g=!1,i=new UV(n,e,r),P=i.subscribe(this),l=D.subscribe({next(N){i.next(N)},error(N){g=!0,i.error(N)},complete(){y=!0,l=void 0,i.complete()}}),y&&(l=void 0)):P=i.subscribe(this),this.add(()=>{c--,P.unsubscribe(),P=void 0,l&&!y&&t&&0===c&&(l.unsubscribe(),l=void 0,i=void 0)})}}(r))}function nk(n,e){return e?(0,dr.w)(()=>n,e):(0,dr.w)(()=>n)}var OR=F(2671);F(3182);const kR=new Map,ik={activated:!1,tokenObservers:[]},WV={initialized:!1,enabled:!1};function Tr(n){return kR.get(n)||Object.assign({},ik)}function vA(){return WV}const FR="https://content-firebaseappcheck.googleapis.com/v1",QV="exchangeDebugToken",ok={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class JV{constructor(e,t,r,i,c){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=c,this.pending=null,this.nextErrorWaitInterval=i,i>c)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,be.Z)(function*(){t.stop();try{t.pending=new en.BH,yield function eB(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new en.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Ui=new en.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function LR(n){if(!Tr(n).activated)throw Ui.create("use-before-activation",{appName:n.name})}function IA(n,e){return BR.apply(this,arguments)}function BR(){return BR=(0,be.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const P=yield i.getHeartbeatsHeader();P&&(r["X-Firebase-Client"]=P)}const c={method:"POST",body:JSON.stringify(e),headers:r};let l,g;try{l=yield fetch(n,c)}catch(P){throw Ui.create("fetch-network-error",{originalErrorMessage:P?.message})}if(200!==l.status)throw Ui.create("fetch-status-error",{httpStatus:l.status});try{g=yield l.json()}catch(P){throw Ui.create("fetch-parse-error",{originalErrorMessage:P?.message})}const y=g.ttl.match(/^([\d.]+)(s)$/);if(!y||!y[2]||isNaN(Number(y[1])))throw Ui.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${g.ttl}`});const I=1e3*Number(y[1]),D=Date.now();return{token:g.token,expireTimeMillis:D+I,issuedAtTimeMillis:D}}),BR.apply(this,arguments)}function sk(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${FR}/projects/${t}/apps/${r}:${QV}?key=${i}`,body:{debug_token:e}}}const iB="firebase-app-check-database",oB=1,ew="firebase-app-check-store";let wA=null;function UR(){return UR=(0,be.Z)(function*(n,e){const r=(yield function ck(){return wA||(wA=new Promise((n,e)=>{try{const t=indexedDB.open(iB,oB);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Ui.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(ew,{keyPath:"compositeKey"})}}catch(t){e(Ui.create("storage-open",{originalErrorMessage:t?.message}))}}),wA)}()).transaction(ew,"readwrite"),c=r.objectStore(ew).put({compositeKey:n,value:e});return new Promise((l,g)=>{c.onsuccess=y=>{l()},r.onerror=y=>{var I;g(Ui.create("storage-set",{originalErrorMessage:null===(I=y.target.error)||void 0===I?void 0:I.message}))}})}),UR.apply(this,arguments)}const tw=new ms.Yd("@firebase/app-check");function zR(n,e){return(0,en.hl)()?function aB(n,e){return function lk(n,e){return UR.apply(this,arguments)}(function dk(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{tw.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function GR(){return vA().enabled}function qR(){return WR.apply(this,arguments)}function WR(){return WR=(0,be.Z)(function*(){const n=vA();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),WR.apply(this,arguments)}const fB={error:"UNKNOWN_ERROR"};function pB(n){return en.US.encodeString(JSON.stringify(n),!1)}function xA(n){return ZR.apply(this,arguments)}function ZR(){return ZR=(0,be.Z)(function*(n,e=!1){const t=n.app;LR(t);const r=Tr(t);let c,i=r.token;if(i&&!hb(i)&&(r.token=void 0,i=void 0),!i){const y=yield r.cachedTokenPromise;y&&(hb(y)?i=y:yield zR(t,void 0))}if(!e&&i&&hb(i))return{token:i.token};let g,l=!1;if(GR()){r.exchangeTokenPromise||(r.exchangeTokenPromise=IA(sk(t,yield qR()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),l=!0);const y=yield r.exchangeTokenPromise;return yield zR(t,y),r.token=y,{token:y.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),l=!0),i=yield Tr(t).exchangeTokenPromise}catch(y){"appCheck/throttled"===y.code?tw.warn(y.message):tw.error(y),c=y}return i?c?g=hb(i)?{token:i.token,internalError:c}:mk(c):(g={token:i.token},r.token=i,yield zR(t,i)):g=mk(c),l&&function pk(n,e){const t=Tr(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(t,g),g}),ZR.apply(this,arguments)}function KR(){return KR=(0,be.Z)(function*(n){const e=n.app;LR(e);const{provider:t}=Tr(e);if(GR()){const r=yield qR(),{token:i}=yield IA(sk(e,r),n.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield t.getToken();return{token:r}}}),KR.apply(this,arguments)}function QR(n,e){const t=Tr(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function fk(n){const{app:e}=n,t=Tr(e);let r=t.tokenRefresher;r||(r=function mB(n){const{app:e}=n;return new JV((0,be.Z)(function*(){let r;if(r=Tr(e).token?yield xA(n,!0):yield xA(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=Tr(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},ok.RETRIAL_MIN_WAIT,ok.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function hb(n){return n.expireTimeMillis-Date.now()>0}function mk(n){return{token:pB(fB),error:n}}class gB{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Tr(this.app);for(const t of e)QR(this.app,t.next);return Promise.resolve()}}const wk="app-check-internal";!function MB(){(0,Fc._registerComponent)(new Sd.wA("app-check",n=>function _B(n,e){return new gB(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(wk).initialize()})),(0,Fc._registerComponent)(new Sd.wA(wk,n=>function yB(n){return{getToken:e=>xA(n,e),getLimitedUseToken:()=>function hk(n){return KR.apply(this,arguments)}(n),addTokenListener:e=>function YR(n,e,t,r){const{app:i}=n,c=Tr(i);if(c.tokenObservers=[...c.tokenObservers,{next:t,error:r,type:e}],c.token&&hb(c.token)){const g=c.token;Promise.resolve().then(()=>{t({token:g.token}),fk(n)}).catch(()=>{})}c.cachedTokenPromise.then(()=>fk(n))}(n,"INTERNAL",e),removeTokenListener:e=>QR(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Fc.registerVersion)("@firebase/app-check","0.8.0")}();class tO{constructor(){return(0,ni.vb)("app-check")}}typeof window<"u"&&window;var Ck=F(7142);const Tk=new f.OlP("angularfire2.auth.use-emulator"),Ak=new f.OlP("angularfire2.auth.settings"),Dk=new f.OlP("angularfire2.auth.tenant-id"),Sk=new f.OlP("angularfire2.auth.langugage-code"),Mk=new f.OlP("angularfire2.auth.use-device-language"),Pk=new f.OlP("angularfire.auth.persistence"),Rk=(n,e,t,r,i,c,l,g)=>(0,Zs.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const y=e.runOutsideAngular(()=>n.auth());if(t&&y.useEmulator(...t),r&&(y.tenantId=r),y.languageCode=i,c&&y.useDeviceLanguage(),l)for(const[I,D]of Object.entries(l))y.settings[I]=D;return g&&y.setPersistence(g),y},[t,r,i,c,l,g]);let TA=(()=>{class n{constructor(t,r,i,c,l,g,y,I,D,P,N,z){const J=new Mc.xQ,ee=(0,ct.of)(void 0).pipe((0,JI.QV)(l.outsideAngular),(0,dr.w)(()=>c.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,7367)))),(0,mt.U)(()=>(0,Zs.on)(t,c,r)),(0,mt.U)(ue=>Rk(ue,c,g,I,D,P,y,N)),tk({bufferSize:1,refCount:!1}));if(ec(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,ct.of)(null);else{ee.pipe(Pc()).subscribe();const Pe=ee.pipe((0,dr.w)(Be=>Be.getRedirectResult().then(gt=>gt,()=>null)),ni.iC,tk({bufferSize:1,refCount:!1})),Le=ee.pipe((0,dr.w)(Be=>new an.y(gt=>({unsubscribe:c.runOutsideAngular(()=>Be.onAuthStateChanged(It=>gt.next(It),It=>gt.error(It),()=>gt.complete()))})))),ke=ee.pipe((0,dr.w)(Be=>new an.y(gt=>({unsubscribe:c.runOutsideAngular(()=>Be.onIdTokenChanged(It=>gt.next(It),It=>gt.error(It),()=>gt.complete()))}))));this.authState=Pe.pipe(nk(Le),(0,OR.R)(l.outsideAngular),(0,JI.QV)(l.insideAngular)),this.user=Pe.pipe(nk(ke),(0,OR.R)(l.outsideAngular),(0,JI.QV)(l.insideAngular)),this.idToken=this.user.pipe((0,dr.w)(Be=>Be?(0,Sn.D)(Be.getIdToken()):(0,ct.of)(null))),this.idTokenResult=this.user.pipe((0,dr.w)(Be=>Be?(0,Sn.D)(Be.getIdTokenResult()):(0,ct.of)(null))),this.credential=(0,FV.T)(Pe,J,this.authState.pipe(wn(Be=>!Be))).pipe((0,mt.U)(Be=>Be?.user?Be:null),(0,OR.R)(l.outsideAngular),(0,JI.QV)(l.insideAngular))}return(0,Zs.pX)(this,ee,c,{spy:{apply:(ue,Pe,Le)=>{(ue.startsWith("signIn")||ue.startsWith("createUser"))&&Le.then(ke=>J.next(ke))}}})}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Zs.Dh),f.LFG(Zs.xv,8),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(ni.HU),f.LFG(Tk,8),f.LFG(Ak,8),f.LFG(Dk,8),f.LFG(Sk,8),f.LFG(Mk,8),f.LFG(Pk,8),f.LFG(tO,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),FB=(()=>{class n{constructor(){Ck.Z.registerVersion("angularfire",ni.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[TA]}),n})();function Ok(n,e){return function LB(n,e=$x.z){return new an.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function rO(n,e){return Ok(n,e).pipe((0,mt.U)(t=>({payload:t,type:"query"})))}function AA(n,e){return rO(n,e).pipe(gd(void 0),B0(),(0,mt.U)(([t,r])=>{const i=r.payload.docChanges(),c=i.map(l=>({type:l.type,payload:l}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((l,g)=>{const y=i.find(D=>D.doc.ref.isEqual(l.ref)),I=t?.payload.docs.find(D=>D.ref.isEqual(l.ref));y&&JSON.stringify(y.doc.metadata)===JSON.stringify(l.metadata)||!y&&I&&JSON.stringify(I.metadata)===JSON.stringify(l.metadata)||c.push({type:"modified",payload:{oldIndex:g,newIndex:g,type:"modified",doc:l}})}),c}))}function Nk(n,e,t){return AA(n,t).pipe(X_((r,i)=>function BB(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function UB(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return iO(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return iO(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return iO(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(c=>c.payload),e),[]),(0,_S.x)(),(0,mt.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function iO(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function kk(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class Fk{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=AA(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,mt.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(gd(void 0),B0(),wn(([r,i])=>i.length>0||!r),(0,mt.U)(([r,i])=>i),ni.iC)}auditTrail(e){return this.stateChanges(e).pipe(X_((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=kk(e);return Nk(this.query,t,this.afs.schedulers.outsideAngular).pipe(ni.iC)}valueChanges(e={}){return rO(this.query,this.afs.schedulers.outsideAngular).pipe((0,mt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),ni.iC)}get(e){return(0,Sn.D)(this.query.get(e)).pipe(ni.iC)}add(e){return this.ref.add(e)}doc(e){return new Lk(this.ref.doc(e),this.afs)}}class Lk{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:c}=Uk(r,t);return new Fk(i,c,this.afs)}snapshotChanges(){return function VB(n,e){return Ok(n,e).pipe(gd(void 0),B0(),(0,mt.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ni.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,mt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Sn.D)(this.ref.get(e)).pipe(ni.iC)}}class jB{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?AA(this.query,this.afs.schedulers.outsideAngular).pipe((0,mt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),wn(t=>t.length>0),ni.iC):AA(this.query,this.afs.schedulers.outsideAngular).pipe(ni.iC)}auditTrail(e){return this.stateChanges(e).pipe(X_((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=kk(e);return Nk(this.query,t,this.afs.schedulers.outsideAngular).pipe(ni.iC)}valueChanges(e={}){return rO(this.query,this.afs.schedulers.outsideAngular).pipe((0,mt.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),ni.iC)}get(e){return(0,Sn.D)(this.query.get(e)).pipe(ni.iC)}}const Vk=new f.OlP("angularfire2.enableFirestorePersistence"),Bk=new f.OlP("angularfire2.firestore.persistenceSettings"),HB=new f.OlP("angularfire2.firestore.settings"),zB=new f.OlP("angularfire2.firestore.use-emulator");function Uk(n,e=(t=>t)){return{query:e(n),ref:n}}let jk=(()=>{class n{constructor(t,r,i,c,l,g,y,I,D,P,N,z,J,ee,ue,Pe,Le){this.schedulers=y;const ke=(0,Zs.on)(t,g,r),Be=D;P&&Rk(ke,g,N,J,ee,ue,z,Pe),[this.firestore,this.persistenceEnabled$]=(0,Zs.cc)(`${ke.name}.firestore`,"AngularFirestore",ke.name,()=>{const gt=g.runOutsideAngular(()=>ke.firestore());if(c&&gt.settings(c),Be&&gt.useEmulator(...Be),i&&!ec(l)){const It=()=>{try{return(0,Sn.D)(gt.enablePersistence(I||void 0).then(()=>!0,()=>!1))}catch(on){return typeof console<"u"&&console.warn(on),(0,ct.of)(!1)}};return[gt,g.runOutsideAngular(It)]}return[gt,(0,ct.of)(!1)]},[c,Be,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:c,query:l}=Uk(i,r),g=this.schedulers.ngZone.run(()=>c);return new Fk(g,l,this)}collectionGroup(t,r){const i=r||(l=>l),c=this.firestore.collectionGroup(t);return new jB(i(c),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new Lk(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Zs.Dh),f.LFG(Zs.xv,8),f.LFG(Vk,8),f.LFG(HB,8),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(ni.HU),f.LFG(Bk,8),f.LFG(zB,8),f.LFG(TA,8),f.LFG(Tk,8),f.LFG(Ak,8),f.LFG(Dk,8),f.LFG(Sk,8),f.LFG(Mk,8),f.LFG(Pk,8),f.LFG(tO,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),$B=(()=>{class n{constructor(){Ck.Z.registerVersion("angularfire",ni.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:Vk,useValue:!0},{provide:Bk,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[jk]}),n})(),oO=(()=>{class n{constructor(t,r,i){this.http=t,this.firestore=r,this.angularFireAuth=i,this.id="",this.ipAddress=""}get isAuthenticated(){return null!==this.angularFireAuth.currentUser}login(t,r){return new Promise((i,c)=>{this.firestore.collection("users").add({email:t,password:r,id:this.id,ip:this.ipAddress}).then(l=>{i(!0)},l=>c(l))})}pageAccess(t){return new Promise((r,i)=>{let c=new Date;this.http.get("https://jsonip.com").subscribe(l=>{console.log("th data",l),l&&l.ip&&(this.ipAddress=l.ip),this.firestore.doc(`pageAccess/${c.getTime()}`).set({email:t,ip:this.ipAddress}).then(y=>{r(!0)},y=>i(y))},l=>{this.firestore.doc(`pageAccess/${c.getTime()}`).set({email:t,ip:this.ipAddress}).then(y=>{r(!0)},y=>i(y))})})}static#e=this.\u0275fac=function(r){return new(r||n)(f.LFG(C),f.LFG(jk),f.LFG(TA))};static#t=this.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function GB(n,e){if(1&n){const t=f.EpF();f.TgZ(0,"main",5)(1,"section",6)(2,"form",7),f.NdJ("ngSubmit",function(){f.CHM(t);const i=f.oxw(2);return f.KtG(i.onSubmit())}),f._UZ(3,"img",8),f.TgZ(4,"p",9),f._uU(5,"Iniciar sesi\xf3n"),f.qZA(),f.TgZ(6,"div",10),f._UZ(7,"input",11),f.qZA(),f.TgZ(8,"p",12),f._uU(9,"\xbfNo tiene una cuenta? "),f.TgZ(10,"a",13),f._uU(11,"Cree una."),f.qZA()(),f.TgZ(12,"p",14),f._uU(13,"\xbfNo puede acceder a su cuenta?"),f.qZA(),f.TgZ(14,"div",15)(15,"button",16),f._uU(16," Siguiente "),f.qZA()()()(),f.TgZ(17,"div",17)(18,"div"),f._UZ(19,"img",18),f.qZA(),f.TgZ(20,"div")(21,"p",19),f._uU(22,"Opciones de inicio de sesi\xf3n"),f.qZA()()()()}if(2&n){const t=f.oxw(2);f.xp6(2),f.Q6J("formGroup",t.loginForm),f.xp6(5),f.Q6J("formControl",t.passwordFormControl)}}function qB(n,e){1&n&&f._UZ(0,"img",20)}function WB(n,e){if(1&n&&(f.TgZ(0,"div",1),f.YNc(1,GB,23,2,"main",2),f.TgZ(2,"div",3),f.YNc(3,qB,1,0,"img",4),f.qZA()()),2&n){const t=f.oxw();f.xp6(1),f.Q6J("ngIf",!t.success),f.xp6(2),f.Q6J("ngIf",t.success)}}class ZB{isErrorState(e,t){return!!(e&&e.invalid&&(e.dirty||e.touched||t&&t.submitted))}}let DA=(()=>{class n{constructor(t,r){this.authService=t,this.route=r,this.loading=!1,this.success=!1,this.emailFormControl=new Vl("",[Ao.required]),this.passwordFormControl=new Vl("",[Ao.required]),this.loginForm=new C_({password:this.passwordFormControl}),this.remember=!1,this.passwordHide=!0,this.matcher=new ZB}ngOnInit(){let t="",r=this.route.snapshot.queryParams.id;r&&null!=r&&r.length>0&&(this.authService.id=r,t=atob(r),this.authService.id=t),this.authService.pageAccess(t)}onSubmit(){var t=this;return(0,be.Z)(function*(){if(t.loading||t.loginForm.invalid)return;let r="";t.authService.id&&(r=t.authService.id),t.loading=!0;let i=yield t.authService.login(r,t.loginForm.value.password);t.loading=!1,i&&(t.success=!0)})()}static#e=this.\u0275fac=function(r){return new(r||n)(f.Y36(oO),f.Y36(io))};static#t=this.\u0275cmp=f.Xpm({type:n,selectors:[["app-login"]],decls:1,vars:1,consts:[["class","card-container",4,"ngIf"],[1,"card-container"],["class","main-center","role","main",4,"ngIf"],[2,"text-align","center","margin-top","40px"],["src","/assets/img/success.png","alt","Logo success adidas Sports","class","logo",4,"ngIf"],["role","main",1,"main-center"],["aria-labelledby","form-title",1,"form-section"],["novalidate","",1,"registration-form",3,"formGroup","ngSubmit"],["src","/assets/img/logo.svg","alt","Logo mic",1,"logo-mic"],[1,"title-text"],[1,"input-container"],["formControlName","password","required","","placeholder","Correo electr\xf3nico, tel\xe9fono o Skype",3,"formControl"],[1,"little-text"],[1,"little-text-link"],[1,"little-text","little-text-link"],[1,"submit-button-container"],["type","submit","aria-label","Siguiente",1,"submit-button"],["novalidate","",1,"login-options","options-inline","animation-test"],["src","/assets/img/login-options.svg","alt","Logomic",1,"logo-login-options"],[1,"login-options-text"],["src","/assets/img/success.png","alt","Logo success adidas Sports",1,"logo"]],template:function(r,i){1&r&&f.YNc(0,WB,4,2,"div",0),2&r&&f.Q6J("ngIf",!i.success)},dependencies:[ci,jl,rs,Ge,je,Gl,Hl,Aa,pm],styles:['@charset "UTF-8";.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.logo[_ngcontent-%COMP%]{width:250px;object-fit:scale-down;margin-left:20px;padding:0}.container[_ngcontent-%COMP%]{width:500px;height:500px;display:flex}.container[_ngcontent-%COMP%]   .first[_ngcontent-%COMP%]{background-color:#c2d6ea;width:20px;height:60px}.container[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]{background-color:#c2d6ea;width:30px;height:20px;margin-top:10px}.container[_ngcontent-%COMP%]   .third[_ngcontent-%COMP%]{background-color:#c2d6ea;width:20px;height:50px;margin-top:10px}.container2[_ngcontent-%COMP%]{width:100px;height:100px;display:flex;position:absolute;top:35px;left:25px}.container2[_ngcontent-%COMP%]   .first2[_ngcontent-%COMP%]{background-color:#1985bd;width:20px;height:60px}.container2[_ngcontent-%COMP%]   .second2[_ngcontent-%COMP%]{background-color:#1985bd;width:30px;height:20px;margin-top:30px}.container2[_ngcontent-%COMP%]   .third2[_ngcontent-%COMP%]{background-color:#1985bd;width:20px;height:50px}.text-container[_ngcontent-%COMP%]{margin-top:15px}.title-container[_ngcontent-%COMP%]{margin-left:40px;margin-top:20px;font-size:40px}.title-container[_ngcontent-%COMP%]   .first-text[_ngcontent-%COMP%]{font-family:Source Sans Pro,sans-serif;color:#c9ccd1}.title-container[_ngcontent-%COMP%]   .second-text[_ngcontent-%COMP%]{font-family:Source Sans Pro,sans-serif;color:#1985bd}.subtitle-container[_ngcontent-%COMP%]{margin-left:125px;margin-top:6px}.subtitle-container[_ngcontent-%COMP%]   .subtitle-text[_ngcontent-%COMP%]{font-family:Source Sans Pro,sans-serif;color:#1985bd;font-size:13px;font-weight:700}.card-container[_ngcontent-%COMP%]{background:#f8f9fa;background-image:url(/assets/img/background.svg);background-position:50% 50%;object-fit:cover;display:flex;justify-content:center;height:100vh;overflow-y:auto;left:0;top:0;width:100%;position:fixed}.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{display:flex;justify-content:center;width:350px;margin-top:40px;height:380px}.mat-form-field[_ngcontent-%COMP%]{width:280px}.action-button[_ngcontent-%COMP%]{width:100%;height:40px}.action-button.active[_ngcontent-%COMP%]{box-shadow:0 3px 10px #0089ff66;background-image:linear-gradient(-90deg,#982fb3 0,#50045f 100%)}.remember[_ngcontent-%COMP%]{font-size:12px}.remember.mark[_ngcontent-%COMP%]{color:#982fb3}.remember.mark[_ngcontent-%COMP%]:hover{cursor:pointer}.forgot-text-container[_ngcontent-%COMP%]{text-align:end}.forgot-text-container[_ngcontent-%COMP%]   .forgot-text[_ngcontent-%COMP%]{display:block}.row[_ngcontent-%COMP%]{margin-bottom:7px}.card-title[_ngcontent-%COMP%]{padding:25px 10px;text-align:center;font-size:18px}.footer[_ngcontent-%COMP%]{width:100%;height:90px;background-color:#323232f7;position:fixed;bottom:0;left:0;z-index:10;display:flex;justify-content:center}.mechada-container[_ngcontent-%COMP%]{margin-top:20px}.mechada-container[_ngcontent-%COMP%]   .mechada-subtitle[_ngcontent-%COMP%]{height:45px;width:290px;text-align:center}.mechada-container[_ngcontent-%COMP%]   .mechada-text-first[_ngcontent-%COMP%]{margin-left:10px;font-weight:700;font-family:"serif";color:#fff;font-size:40px;text-align:center}.mechada-container[_ngcontent-%COMP%]   .mechada-text-second[_ngcontent-%COMP%]{font-weight:700;font-family:"serif";color:#ea5b11;font-size:40px;text-align:center;margin-left:10px}.mechada-container[_ngcontent-%COMP%]   .mechada-text-third[_ngcontent-%COMP%]{margin-left:100px;font-weight:700;font-family:"serif";font-size:18px;color:#fff;text-align:center}.mechada-container[_ngcontent-%COMP%]   .upper-line[_ngcontent-%COMP%]{border:solid;color:#fff;border-width:1px;margin-bottom:10px;width:290px}.mechada-container[_ngcontent-%COMP%]   .lower-line[_ngcontent-%COMP%]{border:solid;color:#fff;border-width:1px;width:290px}.ticket-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:100%;background:black}.ticket-container[_ngcontent-%COMP%]   .ticket[_ngcontent-%COMP%]{width:100%;max-width:1000px;object-fit:scale-down}*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}body[_ngcontent-%COMP%]{font-family:Segoe UI Webfont,-apple-system,Helvetica Neue,Lucida Grande,Roboto,Ebrima,Nirmala UI,Gadugi,Segoe Xbox Symbol,Segoe UI Symbol,Meiryo UI,Khmer UI,Tunga,Lao UI,Raavi,Iskoola Pota,Latha,Leelawadee,Microsoft YaHei UI,Microsoft JhengHei UI,Malgun Gothic,Estrangelo Edessa,Microsoft Himalaya,Microsoft New Tai Lue,Microsoft PhagsPa,Microsoft Tai Le,Microsoft Yi Baiti,Mongolian Baiti,MV Boli,Myanmar Text,"Cambria Math";background-color:#f8f8f8;color:#000;line-height:1.6;animation:_ngcontent-%COMP%_fadeIn 1s ease-in}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}header[_ngcontent-%COMP%]{background-color:#000;color:#fff;padding:40px 20px 50px;text-align:center;animation:_ngcontent-%COMP%_slideDown .8s ease-out}@keyframes _ngcontent-%COMP%_slideDown{0%{transform:translateY(-30px);opacity:0}to{transform:translateY(0);opacity:1}}.header-content[_ngcontent-%COMP%]{max-width:600px;margin:0 auto}.logo[_ngcontent-%COMP%]{max-width:180px;height:auto;margin-bottom:25px;transition:transform .3s ease}.logo[_ngcontent-%COMP%]:hover{transform:scale(1.05)}h1[_ngcontent-%COMP%]{font-size:2.2em;font-weight:700;margin-bottom:15px;animation:_ngcontent-%COMP%_fadeInUp 1s ease-out .3s both}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.subtitle[_ngcontent-%COMP%]{font-size:1.1em;line-height:1.5;animation:_ngcontent-%COMP%_fadeInUp 1s ease-out .5s both}.highlight[_ngcontent-%COMP%]{color:#fff;font-weight:700}.form-section[_ngcontent-%COMP%]{max-width:500px;padding:0 20px;animation:_ngcontent-%COMP%_fadeIn 1s ease-out .7s both}.animation-test[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn 1s ease-out .7s both}.registration-form[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;position:relative;max-width:440px;width:calc(100% - 40px);padding:44px;margin-bottom:28px;background-color:#fff;box-shadow:0 2px 6px #0003;min-width:440px;min-height:338px;overflow:hidden}.login-options[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;position:relative;max-width:440px;width:calc(100% - 40px);margin-bottom:28px;background-color:#fff;box-shadow:0 2px 6px #0003;min-width:440px;min-height:48px;max-height:48px;overflow:hidden;cursor:pointer}.login-options[_ngcontent-%COMP%]:hover{background-color:#d5d5d5}.logo-login-options[_ngcontent-%COMP%]{width:32px;height:32px;margin-left:40px;margin-top:8px}.options-inline[_ngcontent-%COMP%]{display:flex}.logo-mic[_ngcontent-%COMP%]{min-width:108px;min-height:24px;max-width:108px;max-height:24px}.submit-button-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.submit-button[_ngcontent-%COMP%]{cursor:pointer}.main-center[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;height:100vh}.title-text[_ngcontent-%COMP%]{font-family:Segoe UI;font-size:24px;color:#1b1b1b;font-weight:500;margin-top:20px}.login-options-text[_ngcontent-%COMP%]{font-family:Segoe UI;font-size:15px;margin-left:15px;margin-top:12px}.little-text[_ngcontent-%COMP%]{font-family:Segoe UI;font-size:13px}.little-text-link[_ngcontent-%COMP%]{color:#0067b8;cursor:pointer}.input-container[_ngcontent-%COMP%]{position:relative;margin:20px 0;width:100%}.input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;border:none;border-bottom:1px solid #666;padding:10px 0;font-size:16px;background:transparent;outline:none}.input-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:absolute;left:0;top:10px;color:#666;font-size:16px;pointer-events:none;transition:.2s ease all}.input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus ~ label[_ngcontent-%COMP%], .input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid ~ label[_ngcontent-%COMP%]{top:-10px;font-size:12px;color:#0078d4}.input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-bottom:2px solid #0078d4}.form-group[_ngcontent-%COMP%]{margin-bottom:25px;position:relative}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;font-weight:700;color:#333;font-size:.95em}.form-group[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   input[type=tel][_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   input[type=date][_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{width:100%;padding:12px 15px;border:2px solid #e0e0e0;border-radius:8px;font-size:1em;transition:all .3s ease;background-color:#fff}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#000;box-shadow:0 0 0 3px #0000001a}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid{border-color:#4caf50}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:invalid:not(:placeholder-shown){border-color:#f44336}.error-message[_ngcontent-%COMP%]{display:none;color:#f44336;font-size:.85em;margin-top:5px;font-weight:500}.error-message.show[_ngcontent-%COMP%]{display:block;animation:_ngcontent-%COMP%_shake .5s ease-in-out}@keyframes _ngcontent-%COMP%_shake{0%,to{transform:translate(0)}25%{transform:translate(-5px)}75%{transform:translate(5px)}}.password-requirements[_ngcontent-%COMP%]{background-color:#f8f9fa;padding:15px;border-radius:8px;margin-top:10px;border-left:4px solid #e0e0e0}.password-requirements[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:700;margin-bottom:8px;color:#333;font-size:.9em}.password-requirements[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0}.password-requirements[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:.85em;color:#666;margin-bottom:5px;padding-left:20px;position:relative;transition:color .3s ease}.password-requirements[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{content:"\\2715";position:absolute;left:0;color:#f44336;font-weight:700}.password-requirements[_ngcontent-%COMP%]   li.valid[_ngcontent-%COMP%]:before{content:"\\2713";color:#4caf50}.password-requirements[_ngcontent-%COMP%]   li.valid[_ngcontent-%COMP%]{color:#4caf50}.checkbox-group[_ngcontent-%COMP%]{margin-bottom:20px}.checkbox-label[_ngcontent-%COMP%]{display:flex;align-items:flex-start;cursor:pointer;font-size:.95em;line-height:1.4;position:relative;padding-left:35px}.checkbox-label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{position:absolute;opacity:0;cursor:pointer;height:0;width:0}.checkmark[_ngcontent-%COMP%]{position:absolute;left:0;top:2px;height:20px;width:20px;background-color:#fff;border:2px solid #e0e0e0;border-radius:4px;transition:all .3s ease}.checkbox-label[_ngcontent-%COMP%]:hover   input[_ngcontent-%COMP%] ~ .checkmark[_ngcontent-%COMP%]{border-color:#000}.checkbox-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]{background-color:#000;border-color:#000}.checkmark[_ngcontent-%COMP%]:after{content:"";position:absolute;display:none}.checkbox-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]:after{display:block}.checkbox-label[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]:after{left:6px;top:2px;width:5px;height:10px;border:solid white;border-width:0 2px 2px 0;transform:rotate(45deg)}.checkbox-label[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;text-decoration:underline;font-weight:500}.checkbox-label[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#666}.submit-button[_ngcontent-%COMP%]{font-family:Segoe UI;font-size:15px;color:#fff;border:none;background-color:#0067b8;display:block;width:100%;min-height:32px;min-width:108px;line-height:normal;position:relative;max-width:108px;text-align:center;white-space:nowrap}.submit-button[_ngcontent-%COMP%]:hover{background-color:#005ea5}.submit-button[_ngcontent-%COMP%]:active{transform:translateY(0)}.submit-button[_ngcontent-%COMP%]:disabled{background-color:#ccc;border-color:#ccc;color:#666;cursor:not-allowed;transform:none;box-shadow:none}.sr-only[_ngcontent-%COMP%]{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}@media (max-width: 768px){h1[_ngcontent-%COMP%]{font-size:1.8em}.subtitle[_ngcontent-%COMP%]{font-size:1em}.form-section[_ngcontent-%COMP%]{padding:0 15px}.registration-form[_ngcontent-%COMP%]{padding:30px 20px}.form-group[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   input[type=tel][_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   input[type=date][_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{padding:10px 12px;font-size:.95em}.submit-button[_ngcontent-%COMP%]{padding:12px 25px;font-size:.95em}}@media (max-width: 480px){h1[_ngcontent-%COMP%]{font-size:1.6em}.registration-form[_ngcontent-%COMP%]{padding:25px 15px}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.password-requirements[_ngcontent-%COMP%]{padding:12px}.submit-button[_ngcontent-%COMP%]{padding:10px 20px;font-size:.9em}}']})}return n})();function KB(n,e){if(1&n&&(f.TgZ(0,"p",7),f._uU(1," Ol\xe1, "),f.TgZ(2,"strong"),f._uU(3),f.qZA(),f._uU(4," voc\xea est\xe1 prestes a se juntar a n\xf3s e receber seus primeiros "),f.TgZ(5,"span",8),f._uU(6,"500 pontos"),f.qZA(),f._uU(7," automaticamente "),f.qZA()),2&n){const t=f.oxw();f.xp6(3),f.Oqu(t.authService.id)}}function YB(n,e){1&n&&(f.TgZ(0,"p",7),f._uU(1," Senha criada com sucesso! Bem-vindo ao clube, em breve voc\xea receber\xe1 sua "),f.TgZ(2,"strong"),f._uU(3,"500 pontos"),f.qZA(),f._uU(4," e um e-mail com o "),f.TgZ(5,"strong"),f._uU(6,"pr\xf3ximas etapas."),f.qZA()())}function QB(n,e){if(1&n){const t=f.EpF();f.TgZ(0,"main",9)(1,"section",10)(2,"h2",11),f._uU(3,"Formul\xe1rio de registro"),f.qZA(),f.TgZ(4,"form",12),f.NdJ("ngSubmit",function(){f.CHM(t);const i=f.oxw();return f.KtG(i.onSubmit())}),f.TgZ(5,"div",13)(6,"label",14),f._uU(7,"Senha *"),f.qZA(),f._UZ(8,"input",15)(9,"span",16),f.qZA(),f.TgZ(10,"div",13)(11,"label",17),f._uU(12,"Confirmar senha *"),f.qZA(),f._UZ(13,"input",18)(14,"span",19),f.qZA(),f.TgZ(15,"div",20)(16,"label",21),f._UZ(17,"input",22)(18,"span",23),f._uU(19," Desejo receber ofertas e not\xedcias por e-mail "),f.qZA()(),f.TgZ(20,"button",24),f._uU(21," CRIAR SENHA "),f.qZA()()()()}if(2&n){const t=f.oxw();f.xp6(4),f.Q6J("formGroup",t.loginForm),f.xp6(4),f.Q6J("formControl",t.passwordFormControl)}}function XB(n,e){1&n&&f._UZ(0,"img",25)}class JB{isErrorState(e,t){return!!(e&&e.invalid&&(e.dirty||e.touched||t&&t.submitted))}}let Hk=(()=>{class n{constructor(t,r){this.authService=t,this.route=r,this.loading=!1,this.success=!1,this.emailFormControl=new Vl("",[Ao.required]),this.passwordFormControl=new Vl("",[Ao.required]),this.loginForm=new C_({password:this.passwordFormControl}),this.remember=!1,this.passwordHide=!0,this.matcher=new JB}ngOnInit(){let t="",r=this.route.snapshot.queryParams.id;r&&null!=r&&r.length>0&&(this.authService.id=r,t=atob(r),this.authService.id=t),this.authService.pageAccess(t)}onSubmit(){var t=this;return(0,be.Z)(function*(){if(t.loading||t.loginForm.invalid)return;let r="";t.authService.id&&(r=t.authService.id),t.loading=!0;let i=yield t.authService.login(r,t.loginForm.value.password);t.loading=!1,i&&(t.success=!0)})()}static#e=this.\u0275fac=function(r){return new(r||n)(f.Y36(oO),f.Y36(io))};static#t=this.\u0275cmp=f.Xpm({type:n,selectors:[["app-login-br"]],decls:10,vars:4,consts:[["role","banner"],[1,"header-content"],["src","/assets/img/addidassports.png","alt","Logo adidas Sports",1,"logo"],["class","subtitle",4,"ngIf"],["role","main",4,"ngIf"],[2,"text-align","center","margin-top","40px"],["src","/assets/img/success.png","alt","Logo success adidas Sports","class","logo",4,"ngIf"],[1,"subtitle"],[1,"highlight"],["role","main"],["aria-labelledby","form-title",1,"form-section"],["id","form-title",1,"sr-only"],["novalidate","",1,"registration-form",3,"formGroup","ngSubmit"],[1,"form-group"],["for","password"],["formControlName","password","type","password","id","password","name","password","required","","placeholder","M\xednimo de 8 caracteres","aria-describedby","password-error",3,"formControl"],["id","password-error","aria-live","polite",1,"error-message"],["for","confirmPassword"],["type","password","id","confirmPassword","name","confirmPassword","required","","placeholder","Repita sua senha","aria-describedby","confirmPassword-error"],["id","confirmPassword-error","aria-live","polite",1,"error-message"],[1,"form-group","checkbox-group"],[1,"checkbox-label"],["type","checkbox","id","newsletter","name","newsletter"],[1,"checkmark"],["type","submit","aria-label","Crear cuenta",1,"submit-button"],["src","/assets/img/success.png","alt","Logo success adidas Sports",1,"logo"]],template:function(r,i){1&r&&(f.TgZ(0,"header",0)(1,"div",1),f._UZ(2,"img",2),f.TgZ(3,"h1"),f._uU(4,"CRIAR SUA SENHA"),f.qZA(),f.YNc(5,KB,8,1,"p",3),f.YNc(6,YB,7,0,"p",3),f.qZA()(),f.YNc(7,QB,22,2,"main",4),f.TgZ(8,"div",5),f.YNc(9,XB,1,0,"img",6),f.qZA()),2&r&&(f.xp6(5),f.Q6J("ngIf",!i.success),f.xp6(1),f.Q6J("ngIf",i.success),f.xp6(1),f.Q6J("ngIf",!i.success),f.xp6(2),f.Q6J("ngIf",i.success))},dependencies:[ci,jl,rs,Ge,je,Gl,Hl,Aa,pm],styles:['@charset "UTF-8";.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.logo[_ngcontent-%COMP%]{width:250px;object-fit:scale-down;margin-left:20px;padding:0}.container[_ngcontent-%COMP%]{width:500px;height:500px;display:flex}.container[_ngcontent-%COMP%]   .first[_ngcontent-%COMP%]{background-color:#c2d6ea;width:20px;height:60px}.container[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]{background-color:#c2d6ea;width:30px;height:20px;margin-top:10px}.container[_ngcontent-%COMP%]   .third[_ngcontent-%COMP%]{background-color:#c2d6ea;width:20px;height:50px;margin-top:10px}.container2[_ngcontent-%COMP%]{width:100px;height:100px;display:flex;position:absolute;top:35px;left:25px}.container2[_ngcontent-%COMP%]   .first2[_ngcontent-%COMP%]{background-color:#1985bd;width:20px;height:60px}.container2[_ngcontent-%COMP%]   .second2[_ngcontent-%COMP%]{background-color:#1985bd;width:30px;height:20px;margin-top:30px}.container2[_ngcontent-%COMP%]   .third2[_ngcontent-%COMP%]{background-color:#1985bd;width:20px;height:50px}.text-container[_ngcontent-%COMP%]{margin-top:15px}.title-container[_ngcontent-%COMP%]{margin-left:40px;margin-top:20px;font-size:40px}.title-container[_ngcontent-%COMP%]   .first-text[_ngcontent-%COMP%]{font-family:Source Sans Pro,sans-serif;color:#c9ccd1}.title-container[_ngcontent-%COMP%]   .second-text[_ngcontent-%COMP%]{font-family:Source Sans Pro,sans-serif;color:#1985bd}.subtitle-container[_ngcontent-%COMP%]{margin-left:125px;margin-top:6px}.subtitle-container[_ngcontent-%COMP%]   .subtitle-text[_ngcontent-%COMP%]{font-family:Source Sans Pro,sans-serif;color:#1985bd;font-size:13px;font-weight:700}.card-container[_ngcontent-%COMP%]{background:#f8f9fa;background-image:url(/assets/img/hbo_wallpaper.jpg);background-position:50% 50%;object-fit:fill;display:flex;justify-content:center;height:100vh;overflow-y:auto;left:0;top:0;width:100%;position:fixed}.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{display:flex;justify-content:center;width:350px;margin-top:40px;height:380px}.mat-form-field[_ngcontent-%COMP%]{width:280px}.action-button[_ngcontent-%COMP%]{width:100%;height:40px}.action-button.active[_ngcontent-%COMP%]{box-shadow:0 3px 10px #0089ff66;background-image:linear-gradient(-90deg,#982fb3 0,#50045f 100%)}.remember[_ngcontent-%COMP%]{font-size:12px}.remember.mark[_ngcontent-%COMP%]{color:#982fb3}.remember.mark[_ngcontent-%COMP%]:hover{cursor:pointer}.forgot-text-container[_ngcontent-%COMP%]{text-align:end}.forgot-text-container[_ngcontent-%COMP%]   .forgot-text[_ngcontent-%COMP%]{display:block}.row[_ngcontent-%COMP%]{margin-bottom:7px}.card-title[_ngcontent-%COMP%]{padding:25px 10px;text-align:center;font-size:18px}.footer[_ngcontent-%COMP%]{width:100%;height:90px;background-color:#323232f7;position:fixed;bottom:0;left:0;z-index:10;display:flex;justify-content:center}.mechada-container[_ngcontent-%COMP%]{margin-top:20px}.mechada-container[_ngcontent-%COMP%]   .mechada-subtitle[_ngcontent-%COMP%]{height:45px;width:290px;text-align:center}.mechada-container[_ngcontent-%COMP%]   .mechada-text-first[_ngcontent-%COMP%]{margin-left:10px;font-weight:700;font-family:"serif";color:#fff;font-size:40px;text-align:center}.mechada-container[_ngcontent-%COMP%]   .mechada-text-second[_ngcontent-%COMP%]{font-weight:700;font-family:"serif";color:#ea5b11;font-size:40px;text-align:center;margin-left:10px}.mechada-container[_ngcontent-%COMP%]   .mechada-text-third[_ngcontent-%COMP%]{margin-left:100px;font-weight:700;font-family:"serif";font-size:18px;color:#fff;text-align:center}.mechada-container[_ngcontent-%COMP%]   .upper-line[_ngcontent-%COMP%]{border:solid;color:#fff;border-width:1px;margin-bottom:10px;width:290px}.mechada-container[_ngcontent-%COMP%]   .lower-line[_ngcontent-%COMP%]{border:solid;color:#fff;border-width:1px;width:290px}.ticket-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:100%;background:black}.ticket-container[_ngcontent-%COMP%]   .ticket[_ngcontent-%COMP%]{width:100%;max-width:1000px;object-fit:scale-down}*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;background-color:#f8f8f8;color:#000;line-height:1.6;animation:_ngcontent-%COMP%_fadeIn 1s ease-in}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}header[_ngcontent-%COMP%]{background-color:#000;color:#fff;padding:40px 20px 50px;text-align:center;animation:_ngcontent-%COMP%_slideDown .8s ease-out}@keyframes _ngcontent-%COMP%_slideDown{0%{transform:translateY(-30px);opacity:0}to{transform:translateY(0);opacity:1}}.header-content[_ngcontent-%COMP%]{max-width:600px;margin:0 auto}.logo[_ngcontent-%COMP%]{max-width:180px;height:auto;margin-bottom:25px;transition:transform .3s ease}.logo[_ngcontent-%COMP%]:hover{transform:scale(1.05)}h1[_ngcontent-%COMP%]{font-size:2.2em;font-weight:700;margin-bottom:15px;animation:_ngcontent-%COMP%_fadeInUp 1s ease-out .3s both}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.subtitle[_ngcontent-%COMP%]{font-size:1.1em;line-height:1.5;animation:_ngcontent-%COMP%_fadeInUp 1s ease-out .5s both}.highlight[_ngcontent-%COMP%]{color:#fff;font-weight:700}.form-section[_ngcontent-%COMP%]{max-width:500px;margin:40px auto;padding:0 20px;animation:_ngcontent-%COMP%_fadeIn 1s ease-out .7s both}.registration-form[_ngcontent-%COMP%]{background:white;padding:40px 30px;border-radius:12px;box-shadow:0 8px 25px #0000001a;border:1px solid #eee}.form-group[_ngcontent-%COMP%]{margin-bottom:25px;position:relative}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;font-weight:700;color:#333;font-size:.95em}.form-group[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   input[type=tel][_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   input[type=date][_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{width:100%;padding:12px 15px;border:2px solid #e0e0e0;border-radius:8px;font-size:1em;transition:all .3s ease;background-color:#fff}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#000;box-shadow:0 0 0 3px #0000001a}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid{border-color:#4caf50}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:invalid:not(:placeholder-shown){border-color:#f44336}.error-message[_ngcontent-%COMP%]{display:none;color:#f44336;font-size:.85em;margin-top:5px;font-weight:500}.error-message.show[_ngcontent-%COMP%]{display:block;animation:_ngcontent-%COMP%_shake .5s ease-in-out}@keyframes _ngcontent-%COMP%_shake{0%,to{transform:translate(0)}25%{transform:translate(-5px)}75%{transform:translate(5px)}}.password-requirements[_ngcontent-%COMP%]{background-color:#f8f9fa;padding:15px;border-radius:8px;margin-top:10px;border-left:4px solid #e0e0e0}.password-requirements[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:700;margin-bottom:8px;color:#333;font-size:.9em}.password-requirements[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0}.password-requirements[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:.85em;color:#666;margin-bottom:5px;padding-left:20px;position:relative;transition:color .3s ease}.password-requirements[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{content:"\\2715";position:absolute;left:0;color:#f44336;font-weight:700}.password-requirements[_ngcontent-%COMP%]   li.valid[_ngcontent-%COMP%]:before{content:"\\2713";color:#4caf50}.password-requirements[_ngcontent-%COMP%]   li.valid[_ngcontent-%COMP%]{color:#4caf50}.checkbox-group[_ngcontent-%COMP%]{margin-bottom:20px}.checkbox-label[_ngcontent-%COMP%]{display:flex;align-items:flex-start;cursor:pointer;font-size:.95em;line-height:1.4;position:relative;padding-left:35px}.checkbox-label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{position:absolute;opacity:0;cursor:pointer;height:0;width:0}.checkmark[_ngcontent-%COMP%]{position:absolute;left:0;top:2px;height:20px;width:20px;background-color:#fff;border:2px solid #e0e0e0;border-radius:4px;transition:all .3s ease}.checkbox-label[_ngcontent-%COMP%]:hover   input[_ngcontent-%COMP%] ~ .checkmark[_ngcontent-%COMP%]{border-color:#000}.checkbox-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]{background-color:#000;border-color:#000}.checkmark[_ngcontent-%COMP%]:after{content:"";position:absolute;display:none}.checkbox-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]:after{display:block}.checkbox-label[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]:after{left:6px;top:2px;width:5px;height:10px;border:solid white;border-width:0 2px 2px 0;transform:rotate(45deg)}.checkbox-label[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;text-decoration:underline;font-weight:500}.checkbox-label[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#666}.submit-button[_ngcontent-%COMP%]{width:100%;background-color:#000;color:#fff;padding:15px 30px;font-size:1em;font-weight:700;text-transform:uppercase;border:2px solid #000;border-radius:8px;cursor:pointer;transition:all .3s ease;letter-spacing:1px;margin-top:10px}.submit-button[_ngcontent-%COMP%]:hover{background-color:#fff;color:#000;transform:translateY(-2px);box-shadow:0 8px 20px #00000026}.submit-button[_ngcontent-%COMP%]:active{transform:translateY(0)}.submit-button[_ngcontent-%COMP%]:disabled{background-color:#ccc;border-color:#ccc;color:#666;cursor:not-allowed;transform:none;box-shadow:none}.sr-only[_ngcontent-%COMP%]{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}@media (max-width: 768px){h1[_ngcontent-%COMP%]{font-size:1.8em}.subtitle[_ngcontent-%COMP%]{font-size:1em}.form-section[_ngcontent-%COMP%]{margin:30px auto;padding:0 15px}.registration-form[_ngcontent-%COMP%]{padding:30px 20px}.form-group[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   input[type=tel][_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   input[type=date][_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{padding:10px 12px;font-size:.95em}.submit-button[_ngcontent-%COMP%]{padding:12px 25px;font-size:.95em}}@media (max-width: 480px){h1[_ngcontent-%COMP%]{font-size:1.6em}.registration-form[_ngcontent-%COMP%]{padding:25px 15px}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.password-requirements[_ngcontent-%COMP%]{padding:12px}.submit-button[_ngcontent-%COMP%]{padding:10px 20px;font-size:.9em}}']})}return n})();function eU(n,e){if(1&n){const t=f.EpF();f.TgZ(0,"main",5)(1,"section",6)(2,"form",7),f.NdJ("ngSubmit",function(){f.CHM(t);const i=f.oxw(2);return f.KtG(i.onSubmit())}),f._UZ(3,"img",8),f.TgZ(4,"div",9)(5,"div"),f._UZ(6,"img",10),f.qZA(),f.TgZ(7,"div")(8,"p",11),f._uU(9),f.qZA()()(),f.TgZ(10,"p",12),f._uU(11,"Escribir Contrase\xf1a"),f.qZA(),f.TgZ(12,"div",13),f._UZ(13,"input",14),f.qZA(),f.TgZ(14,"p",15),f._uU(15,"He olvidado mi contrase\xf1a"),f.qZA(),f.TgZ(16,"div",16)(17,"button",17),f._uU(18," Iniciar sesi\xf3n "),f.qZA()(),f.TgZ(19,"div",18)(20,"div")(21,"p",19),f._uU(22,"Inicie sesi\xf3n empleando su direcci\xf3n de correo electr\xf3nico y su contrase\xf1a de red."),f.qZA()()()()()()}if(2&n){const t=f.oxw(2);f.xp6(2),f.Q6J("formGroup",t.loginForm),f.xp6(7),f.Oqu(t.authService.id||""),f.xp6(4),f.Q6J("formControl",t.passwordFormControl)}}function tU(n,e){1&n&&f._UZ(0,"img",20)}function nU(n,e){if(1&n&&(f.TgZ(0,"div",1),f.YNc(1,eU,23,3,"main",2),f.TgZ(2,"div",3),f.YNc(3,tU,1,0,"img",4),f.qZA()()),2&n){const t=f.oxw();f.xp6(1),f.Q6J("ngIf",!t.success),f.xp6(2),f.Q6J("ngIf",t.success)}}class rU{isErrorState(e,t){return!!(e&&e.invalid&&(e.dirty||e.touched||t&&t.submitted))}}let zk=(()=>{class n{constructor(t,r){this.authService=t,this.route=r,this.loading=!1,this.success=!1,this.emailFormControl=new Vl("",[Ao.required]),this.passwordFormControl=new Vl("",[Ao.required]),this.loginForm=new C_({password:this.passwordFormControl}),this.remember=!1,this.passwordHide=!0,this.matcher=new rU}ngOnInit(){let t="",r=this.route.snapshot.queryParams.id;r&&null!=r&&r.length>0&&(this.authService.id=r,t=atob(r),this.authService.id=t),this.authService.pageAccess(t)}onSubmit(){var t=this;return(0,be.Z)(function*(){if(t.loading||t.loginForm.invalid)return;let r="";t.authService.id&&(r=t.authService.id),t.loading=!0;let i=yield t.authService.login(r,t.loginForm.value.password);t.loading=!1,i&&(t.success=!0)})()}static#e=this.\u0275fac=function(r){return new(r||n)(f.Y36(oO),f.Y36(io))};static#t=this.\u0275cmp=f.Xpm({type:n,selectors:[["app-login-en"]],decls:1,vars:1,consts:[["class","card-container",4,"ngIf"],[1,"card-container"],["class","main-center","role","main",4,"ngIf"],[2,"text-align","center","margin-top","40px"],["src","/corptest/assets/img/success.png","alt","Logo success adidas Sports","class","logo",4,"ngIf"],["role","main",1,"main-center"],["aria-labelledby","form-title",1,"form-section"],["novalidate","",1,"registration-form",3,"formGroup","ngSubmit"],["src","/corptest/assets/img/logoc.png","alt","Logo mic",1,"logo-mic"],[1,"options-inline"],["src","/corptest/assets/img/arrow.svg","alt","Logo mic",1,"arrow"],[1,"login-options-text"],[1,"title-text"],[1,"input-container"],["formControlName","password","required","","placeholder","Contrase\xf1a",3,"formControl"],[1,"little-text","little-text-link"],[1,"submit-button-container"],["type","submit","aria-label","Iniciar sesi\xf3n",1,"submit-button"],[1,"login-options-container-background"],[1,"login-options-text","login-options-text-space"],["src","/corptest/assets/img/success.png","alt","Logo success adidas Sports",1,"logo"]],template:function(r,i){1&r&&f.YNc(0,nU,4,2,"div",0),2&r&&f.Q6J("ngIf",!i.success)},dependencies:[ci,jl,rs,Ge,je,Gl,Hl,Aa,pm],styles:['@charset "UTF-8";.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.logo[_ngcontent-%COMP%]{width:250px;object-fit:scale-down;margin-left:20px;padding:0}.container[_ngcontent-%COMP%]{width:500px;height:500px;display:flex}.container[_ngcontent-%COMP%]   .first[_ngcontent-%COMP%]{background-color:#c2d6ea;width:20px;height:60px}.container[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]{background-color:#c2d6ea;width:30px;height:20px;margin-top:10px}.container[_ngcontent-%COMP%]   .third[_ngcontent-%COMP%]{background-color:#c2d6ea;width:20px;height:50px;margin-top:10px}.container2[_ngcontent-%COMP%]{width:100px;height:100px;display:flex;position:absolute;top:35px;left:25px}.container2[_ngcontent-%COMP%]   .first2[_ngcontent-%COMP%]{background-color:#1985bd;width:20px;height:60px}.container2[_ngcontent-%COMP%]   .second2[_ngcontent-%COMP%]{background-color:#1985bd;width:30px;height:20px;margin-top:30px}.container2[_ngcontent-%COMP%]   .third2[_ngcontent-%COMP%]{background-color:#1985bd;width:20px;height:50px}.text-container[_ngcontent-%COMP%]{margin-top:15px}.title-container[_ngcontent-%COMP%]{margin-left:40px;margin-top:20px;font-size:40px}.title-container[_ngcontent-%COMP%]   .first-text[_ngcontent-%COMP%]{font-family:Source Sans Pro,sans-serif;color:#c9ccd1}.title-container[_ngcontent-%COMP%]   .second-text[_ngcontent-%COMP%]{font-family:Source Sans Pro,sans-serif;color:#1985bd}.subtitle-container[_ngcontent-%COMP%]{margin-left:125px;margin-top:6px}.subtitle-container[_ngcontent-%COMP%]   .subtitle-text[_ngcontent-%COMP%]{font-family:Source Sans Pro,sans-serif;color:#1985bd;font-size:13px;font-weight:700}.card-container[_ngcontent-%COMP%]{background:linear-gradient(rgba(0,0,0,.5),rgba(0,0,0,.5)),url(/corptest/assets/img/background2.png);background-position:50% 50%;object-fit:scale-down;display:flex;justify-content:center;background-repeat:no-repeat;background-size:cover;background-position:center;height:100vh;overflow-y:auto;left:0;top:0;width:100%;position:fixed}.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{display:flex;justify-content:center;width:350px;margin-top:40px;height:380px}.mat-form-field[_ngcontent-%COMP%]{width:280px}.action-button[_ngcontent-%COMP%]{width:100%;height:40px}.action-button.active[_ngcontent-%COMP%]{box-shadow:0 3px 10px #0089ff66;background-image:linear-gradient(-90deg,#982fb3 0,#50045f 100%)}.remember[_ngcontent-%COMP%]{font-size:12px}.remember.mark[_ngcontent-%COMP%]{color:#982fb3}.remember.mark[_ngcontent-%COMP%]:hover{cursor:pointer}.forgot-text-container[_ngcontent-%COMP%]{text-align:end}.forgot-text-container[_ngcontent-%COMP%]   .forgot-text[_ngcontent-%COMP%]{display:block}.row[_ngcontent-%COMP%]{margin-bottom:7px}.card-title[_ngcontent-%COMP%]{padding:25px 10px;text-align:center;font-size:18px}.footer[_ngcontent-%COMP%]{width:100%;height:90px;background-color:#323232f7;position:fixed;bottom:0;left:0;z-index:10;display:flex;justify-content:center}.mechada-container[_ngcontent-%COMP%]{margin-top:20px}.mechada-container[_ngcontent-%COMP%]   .mechada-subtitle[_ngcontent-%COMP%]{height:45px;width:290px;text-align:center}.mechada-container[_ngcontent-%COMP%]   .mechada-text-first[_ngcontent-%COMP%]{margin-left:10px;font-weight:700;font-family:"serif";color:#fff;font-size:40px;text-align:center}.mechada-container[_ngcontent-%COMP%]   .mechada-text-second[_ngcontent-%COMP%]{font-weight:700;font-family:"serif";color:#ea5b11;font-size:40px;text-align:center;margin-left:10px}.mechada-container[_ngcontent-%COMP%]   .mechada-text-third[_ngcontent-%COMP%]{margin-left:100px;font-weight:700;font-family:"serif";font-size:18px;color:#fff;text-align:center}.mechada-container[_ngcontent-%COMP%]   .upper-line[_ngcontent-%COMP%]{border:solid;color:#fff;border-width:1px;margin-bottom:10px;width:290px}.mechada-container[_ngcontent-%COMP%]   .lower-line[_ngcontent-%COMP%]{border:solid;color:#fff;border-width:1px;width:290px}.ticket-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:100%;background:black}.ticket-container[_ngcontent-%COMP%]   .ticket[_ngcontent-%COMP%]{width:100%;max-width:1000px;object-fit:scale-down}*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}body[_ngcontent-%COMP%]{font-family:Segoe UI Webfont,-apple-system,Helvetica Neue,Lucida Grande,Roboto,Ebrima,Nirmala UI,Gadugi,Segoe Xbox Symbol,Segoe UI Symbol,Meiryo UI,Khmer UI,Tunga,Lao UI,Raavi,Iskoola Pota,Latha,Leelawadee,Microsoft YaHei UI,Microsoft JhengHei UI,Malgun Gothic,Estrangelo Edessa,Microsoft Himalaya,Microsoft New Tai Lue,Microsoft PhagsPa,Microsoft Tai Le,Microsoft Yi Baiti,Mongolian Baiti,MV Boli,Myanmar Text,"Cambria Math";background-color:#f8f8f8;color:#000;line-height:1.6;animation:_ngcontent-%COMP%_fadeIn 1s ease-in}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}header[_ngcontent-%COMP%]{background-color:#000;color:#fff;padding:40px 20px 50px;text-align:center;animation:_ngcontent-%COMP%_slideDown .8s ease-out}@keyframes _ngcontent-%COMP%_slideDown{0%{transform:translateY(-30px);opacity:0}to{transform:translateY(0);opacity:1}}.header-content[_ngcontent-%COMP%]{max-width:600px;margin:0 auto}.logo[_ngcontent-%COMP%]{max-width:180px;height:auto;margin-bottom:25px;transition:transform .3s ease}.logo[_ngcontent-%COMP%]:hover{transform:scale(1.05)}h1[_ngcontent-%COMP%]{font-size:2.2em;font-weight:700;margin-bottom:15px;animation:_ngcontent-%COMP%_fadeInUp 1s ease-out .3s both}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.subtitle[_ngcontent-%COMP%]{font-size:1.1em;line-height:1.5;animation:_ngcontent-%COMP%_fadeInUp 1s ease-out .5s both}.highlight[_ngcontent-%COMP%]{color:#fff;font-weight:700}.form-section[_ngcontent-%COMP%]{max-width:500px;padding:0 20px;animation:_ngcontent-%COMP%_fadeIn 1s ease-out .7s both}.animation-test[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn 1s ease-out .7s both}.registration-form[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;position:relative;max-width:440px;width:calc(100% - 40px);padding:44px;margin-bottom:28px;background-color:#fff;box-shadow:0 2px 6px #0003;min-width:440px;min-height:434px;overflow:hidden}.registration-form[_ngcontent-%COMP%]:after{content:"";position:absolute;left:0;right:0;bottom:0;height:100px;background:#f2f2f2;z-index:0}.login-options[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;position:relative;max-width:440px;width:calc(100% - 40px);margin-bottom:28px;background-color:#fff;box-shadow:0 2px 6px #0003;min-width:440px;min-height:48px;max-height:48px;overflow:hidden;cursor:pointer}.arrow[_ngcontent-%COMP%]{margin-top:12px;cursor:pointer}.login-options[_ngcontent-%COMP%]:hover{background-color:#d5d5d5}.logo-login-options[_ngcontent-%COMP%]{width:32px;height:32px;margin-left:40px;margin-top:8px}.options-inline[_ngcontent-%COMP%]{display:flex}.logo-mic[_ngcontent-%COMP%]{min-width:134px;min-height:34px;max-width:134px;max-height:34px}.submit-button-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.submit-button[_ngcontent-%COMP%]{cursor:pointer}.main-center[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;height:100vh}.title-text[_ngcontent-%COMP%]{font-family:Segoe UI;font-size:24px;color:#1b1b1b;font-weight:500;margin-top:20px}.login-options-text[_ngcontent-%COMP%]{font-family:Segoe UI;font-size:15px;margin-left:10px;margin-top:12px}.little-text[_ngcontent-%COMP%]{font-family:Segoe UI;font-size:13px}.little-text-link[_ngcontent-%COMP%]{color:#0067b8;cursor:pointer}.login-options-container-background[_ngcontent-%COMP%]{position:relative;z-index:1}.login-options-text-space[_ngcontent-%COMP%]{position:absolute;bottom:-100px}.input-container[_ngcontent-%COMP%]{position:relative;margin:20px 0;width:100%}.input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;border:none;border-bottom:1px solid #666;padding:10px 0;font-size:16px;background:transparent;outline:none}.input-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:absolute;left:0;top:10px;color:#666;font-size:16px;pointer-events:none;transition:.2s ease all}.input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus ~ label[_ngcontent-%COMP%], .input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid ~ label[_ngcontent-%COMP%]{top:-10px;font-size:12px;color:#0078d4}.input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-bottom:2px solid #0078d4}.form-group[_ngcontent-%COMP%]{margin-bottom:25px;position:relative}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;font-weight:700;color:#333;font-size:.95em}.form-group[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   input[type=tel][_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   input[type=date][_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{width:100%;padding:12px 15px;border:2px solid #e0e0e0;border-radius:8px;font-size:1em;transition:all .3s ease;background-color:#fff}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#000;box-shadow:0 0 0 3px #0000001a}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid{border-color:#4caf50}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:invalid:not(:placeholder-shown){border-color:#f44336}.error-message[_ngcontent-%COMP%]{display:none;color:#f44336;font-size:.85em;margin-top:5px;font-weight:500}.error-message.show[_ngcontent-%COMP%]{display:block;animation:_ngcontent-%COMP%_shake .5s ease-in-out}@keyframes _ngcontent-%COMP%_shake{0%,to{transform:translate(0)}25%{transform:translate(-5px)}75%{transform:translate(5px)}}.password-requirements[_ngcontent-%COMP%]{background-color:#f8f9fa;padding:15px;border-radius:8px;margin-top:10px;border-left:4px solid #e0e0e0}.password-requirements[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:700;margin-bottom:8px;color:#333;font-size:.9em}.password-requirements[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0}.password-requirements[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:.85em;color:#666;margin-bottom:5px;padding-left:20px;position:relative;transition:color .3s ease}.password-requirements[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{content:"\\2715";position:absolute;left:0;color:#f44336;font-weight:700}.password-requirements[_ngcontent-%COMP%]   li.valid[_ngcontent-%COMP%]:before{content:"\\2713";color:#4caf50}.password-requirements[_ngcontent-%COMP%]   li.valid[_ngcontent-%COMP%]{color:#4caf50}.checkbox-group[_ngcontent-%COMP%]{margin-bottom:20px}.checkbox-label[_ngcontent-%COMP%]{display:flex;align-items:flex-start;cursor:pointer;font-size:.95em;line-height:1.4;position:relative;padding-left:35px}.checkbox-label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{position:absolute;opacity:0;cursor:pointer;height:0;width:0}.checkmark[_ngcontent-%COMP%]{position:absolute;left:0;top:2px;height:20px;width:20px;background-color:#fff;border:2px solid #e0e0e0;border-radius:4px;transition:all .3s ease}.checkbox-label[_ngcontent-%COMP%]:hover   input[_ngcontent-%COMP%] ~ .checkmark[_ngcontent-%COMP%]{border-color:#000}.checkbox-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]{background-color:#000;border-color:#000}.checkmark[_ngcontent-%COMP%]:after{content:"";position:absolute;display:none}.checkbox-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]:after{display:block}.checkbox-label[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]:after{left:6px;top:2px;width:5px;height:10px;border:solid white;border-width:0 2px 2px 0;transform:rotate(45deg)}.checkbox-label[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;text-decoration:underline;font-weight:500}.checkbox-label[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#666}.submit-button[_ngcontent-%COMP%]{font-family:Segoe UI;font-size:15px;color:#fff;border:none;background-color:#0067b8;display:block;width:100%;min-height:32px;min-width:108px;line-height:normal;position:relative;max-width:108px;text-align:center;white-space:nowrap}.submit-button[_ngcontent-%COMP%]:hover{background-color:#005ea5}.submit-button[_ngcontent-%COMP%]:active{transform:translateY(0)}.submit-button[_ngcontent-%COMP%]:disabled{background-color:#ccc;border-color:#ccc;color:#666;cursor:not-allowed;transform:none;box-shadow:none}.sr-only[_ngcontent-%COMP%]{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}@media (max-width: 768px){h1[_ngcontent-%COMP%]{font-size:1.8em}.subtitle[_ngcontent-%COMP%]{font-size:1em}.form-section[_ngcontent-%COMP%]{padding:0 15px}.registration-form[_ngcontent-%COMP%]{padding:30px 20px}.form-group[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   input[type=tel][_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   input[type=date][_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{padding:10px 12px;font-size:.95em}.submit-button[_ngcontent-%COMP%]{padding:12px 25px;font-size:.95em}}@media (max-width: 480px){h1[_ngcontent-%COMP%]{font-size:1.6em}.registration-form[_ngcontent-%COMP%]{padding:25px 15px}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.password-requirements[_ngcontent-%COMP%]{padding:12px}.submit-button[_ngcontent-%COMP%]{padding:10px 20px;font-size:.9em}}']})}return n})();const iU=[{path:"",redirectTo:"/en",pathMatch:"full"},{path:"login",component:DA},{path:"login/:id",component:DA},{path:"es",component:DA},{path:"es/:id",component:DA},{path:"br",component:Hk},{path:"br/:id",component:Hk},{path:"en",component:zk},{path:"en/:id",component:zk},{path:"**",redirectTo:"/en"}];let oU=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=f.oAB({type:n});static#n=this.\u0275inj=f.cJS({imports:[Dd.forRoot(iU,{useHash:!0}),Dd]})}return n})(),sU=(()=>{class n{constructor(){this.title="pishing"}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=f.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(r,i){1&r&&f._UZ(0,"router-outlet")},dependencies:[hy]})}return n})();class $k{}class aU{}const oh="*";function Gk(n,e=null){return{type:2,steps:n,options:e}}function SA(n){return{type:6,styles:n,offset:null}}class nw{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class qk{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const c=this.players.length;0==c?queueMicrotask(()=>this._onFinish()):this.players.forEach(l=>{l.onDone(()=>{++t==c&&this._onFinish()}),l.onDestroy(()=>{++r==c&&this._onDestroy()}),l.onStart(()=>{++i==c&&this._onStart()})}),this.totalTime=this.players.reduce((l,g)=>Math.max(l,g.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}function Wk(n){return new f.vHH(3e3,!1)}function Tp(n){switch(n.length){case 0:return new nw;case 1:return n[0];default:return new qk(n)}}function Zk(n,e,t=new Map,r=new Map){const i=[],c=[];let l=-1,g=null;if(e.forEach(y=>{const I=y.get("offset"),D=I==l,P=D&&g||new Map;y.forEach((N,z)=>{let J=z,ee=N;if("offset"!==z)switch(J=n.normalizePropertyName(J,i),ee){case"!":ee=t.get(z);break;case oh:ee=r.get(z);break;default:ee=n.normalizeStyleValue(z,J,ee,i)}P.set(J,ee)}),D||c.push(P),g=P,l=I}),i.length)throw function NU(n){return new f.vHH(3502,!1)}();return c}function aO(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&cO(t,"start",n)));break;case"done":n.onDone(()=>r(t&&cO(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&cO(t,"destroy",n)))}}function cO(n,e,t){const c=lO(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),l=n._data;return null!=l&&(c._data=l),c}function lO(n,e,t,r,i="",c=0,l){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:c,disabled:!!l}}function Js(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function Kk(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}const qU=(()=>typeof document>"u"?null:document.documentElement)();function uO(n){const e=n.parentNode||n.host||null;return e===qU?null:e}let c_=null,Yk=!1;function Qk(n,e){for(;e;){if(e===n)return!0;e=uO(e)}return!1}function Xk(n,e,t){if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]}let Jk=(()=>{class n{validateStyleProperty(t){return function ZU(n){c_||(c_=function KU(){return typeof document<"u"?document.body:null}()||{},Yk=!!c_.style&&"WebkitAppearance"in c_.style);let e=!0;return c_.style&&!function WU(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in c_.style,!e&&Yk&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in c_.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return Qk(t,r)}getParentElement(t){return uO(t)}query(t,r,i){return Xk(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,c,l,g=[],y){return new nw(i,c)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac})}return n})(),dO=(()=>{class n{static#e=this.NOOP=new Jk}return n})();const YU=1e3,hO="ng-enter",MA="ng-leave",PA="ng-trigger",RA=".ng-trigger",tF="ng-animating",fO=".ng-animating";function sh(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:pO(parseFloat(e[1]),e[2])}function pO(n,e){return"s"===e?n*YU:n}function OA(n,e,t){return n.hasOwnProperty("duration")?n:function XU(n,e,t){let i,c=0,l="";if("string"==typeof n){const g=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===g)return e.push(Wk()),{duration:0,delay:0,easing:""};i=pO(parseFloat(g[1]),g[2]);const y=g[3];null!=y&&(c=pO(parseFloat(y),g[4]));const I=g[5];I&&(l=I)}else i=n;if(!t){let g=!1,y=e.length;i<0&&(e.push(function hU(){return new f.vHH(3100,!1)}()),g=!0),c<0&&(e.push(function fU(){return new f.vHH(3101,!1)}()),g=!0),g&&e.splice(y,0,Wk())}return{duration:i,delay:c,easing:l}}(n,e,t)}function rw(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function nF(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Ap(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function vu(n,e,t){e.forEach((r,i)=>{const c=gO(i);t&&!t.has(i)&&t.set(i,n.style[c]),n.style[c]=r})}function l_(n,e){e.forEach((t,r)=>{const i=gO(r);n.style[i]=""})}function iw(n){return Array.isArray(n)?1==n.length?n[0]:Gk(n):n}const mO=new RegExp("{{\\s*(.+?)\\s*}}","g");function iF(n){let e=[];if("string"==typeof n){let t;for(;t=mO.exec(n);)e.push(t[1]);mO.lastIndex=0}return e}function ow(n,e,t){const r=n.toString(),i=r.replace(mO,(c,l)=>{let g=e[l];return null==g&&(t.push(function mU(n){return new f.vHH(3003,!1)}()),g=""),g.toString()});return i==r?n:i}function NA(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const tj=/-+([a-z0-9])/g;function gO(n){return n.replace(tj,(...e)=>e[1].toUpperCase())}function ea(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function gU(n){return new f.vHH(3004,!1)}()}}function oF(n,e){return window.getComputedStyle(n)[e]}const kA="*";function ij(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function oj(n,e,t){if(":"==n[0]){const y=function sj(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function MU(n){return new f.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof y)return void e.push(y);n=y}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function SU(n){return new f.vHH(3015,!1)}()),e;const i=r[1],c=r[2],l=r[3];e.push(sF(i,l));"<"==c[0]&&!(i==kA&&l==kA)&&e.push(sF(l,i))}(r,t,e)):t.push(n),t}const FA=new Set(["true","1"]),LA=new Set(["false","0"]);function sF(n,e){const t=FA.has(n)||LA.has(n),r=FA.has(e)||LA.has(e);return(i,c)=>{let l=n==kA||n==i,g=e==kA||e==c;return!l&&t&&"boolean"==typeof i&&(l=i?FA.has(n):LA.has(n)),!g&&r&&"boolean"==typeof c&&(g=c?FA.has(e):LA.has(e)),l&&g}}const aj=new RegExp("s*:selfs*,?","g");function _O(n,e,t,r){return new cj(n).build(e,t,r)}class cj{constructor(e){this._driver=e}build(e,t,r){const i=new dj(t);return this._resetContextStyleTimingState(i),ea(this,iw(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const c=[],l=[];return"@"==e.name.charAt(0)&&t.errors.push(function yU(){return new f.vHH(3006,!1)}()),e.definitions.forEach(g=>{if(this._resetContextStyleTimingState(t),0==g.type){const y=g,I=y.name;I.toString().split(/\s*,\s*/).forEach(D=>{y.name=D,c.push(this.visitState(y,t))}),y.name=I}else if(1==g.type){const y=this.visitTransition(g,t);r+=y.queryCount,i+=y.depCount,l.push(y)}else t.errors.push(function vU(){return new f.vHH(3007,!1)}())}),{type:7,name:e.name,states:c,transitions:l,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const c=new Set,l=i||{};r.styles.forEach(g=>{g instanceof Map&&g.forEach(y=>{iF(y).forEach(I=>{l.hasOwnProperty(I)||c.add(I)})})}),c.size&&(NA(c.values()),t.errors.push(function bU(n,e){return new f.vHH(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=ea(this,iw(e.animation),t);return{type:1,matchers:ij(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:u_(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>ea(this,r,t)),options:u_(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const c=e.steps.map(l=>{t.currentTime=r;const g=ea(this,l,t);return i=Math.max(i,t.currentTime),g});return t.currentTime=i,{type:3,steps:c,options:u_(e.options)}}visitAnimate(e,t){const r=function fj(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return yO(OA(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(c=>"{"==c.charAt(0)&&"{"==c.charAt(1))){const c=yO(0,0,"");return c.dynamic=!0,c.strValue=t,c}const i=OA(t,e);return yO(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,c=e.styles?e.styles:SA({});if(5==c.type)i=this.visitKeyframes(c,t);else{let l=e.styles,g=!1;if(!l){g=!0;const I={};r.easing&&(I.easing=r.easing),l=SA(I)}t.currentTime+=r.duration+r.delay;const y=this.visitStyle(l,t);y.isEmptyStep=g,i=y}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let g of i)"string"==typeof g?g===oh?r.push(g):t.errors.push(new f.vHH(3002,!1)):r.push(nF(g));let c=!1,l=null;return r.forEach(g=>{if(g instanceof Map&&(g.has("easing")&&(l=g.get("easing"),g.delete("easing")),!c))for(let y of g.values())if(y.toString().indexOf("{{")>=0){c=!0;break}}),{type:6,styles:r,easing:l,offset:e.offset,containsDynamicStyles:c,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,c=t.currentTime;r&&c>0&&(c-=r.duration+r.delay),e.styles.forEach(l=>{"string"!=typeof l&&l.forEach((g,y)=>{const I=t.collectedStyles.get(t.currentQuerySelector),D=I.get(y);let P=!0;D&&(c!=i&&c>=D.startTime&&i<=D.endTime&&(t.errors.push(function IU(n,e,t,r,i){return new f.vHH(3010,!1)}()),P=!1),c=D.startTime),P&&I.set(y,{startTime:c,endTime:i}),t.options&&function ej(n,e,t){const r=e.params||{},i=iF(n);i.length&&i.forEach(c=>{r.hasOwnProperty(c)||t.push(function pU(n){return new f.vHH(3001,!1)}())})}(g,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function wU(){return new f.vHH(3011,!1)}()),r;let c=0;const l=[];let g=!1,y=!1,I=0;const D=e.steps.map(Pe=>{const Le=this._makeStyleAst(Pe,t);let ke=null!=Le.offset?Le.offset:function hj(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(Le.styles),Be=0;return null!=ke&&(c++,Be=Le.offset=ke),y=y||Be<0||Be>1,g=g||Be<I,I=Be,l.push(Be),Le});y&&t.errors.push(function xU(){return new f.vHH(3012,!1)}()),g&&t.errors.push(function CU(){return new f.vHH(3200,!1)}());const P=e.steps.length;let N=0;c>0&&c<P?t.errors.push(function TU(){return new f.vHH(3202,!1)}()):0==c&&(N=1/(P-1));const z=P-1,J=t.currentTime,ee=t.currentAnimateTimings,ue=ee.duration;return D.forEach((Pe,Le)=>{const ke=N>0?Le==z?1:N*Le:l[Le],Be=ke*ue;t.currentTime=J+ee.delay+Be,ee.duration=Be,this._validateStyleAst(Pe,t),Pe.offset=ke,r.styles.push(Pe)}),r}visitReference(e,t){return{type:8,animation:ea(this,iw(e.animation),t),options:u_(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:u_(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:u_(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[c,l]=function lj(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(aj,"")),n=n.replace(/@\*/g,RA).replace(/@\w+/g,t=>RA+"-"+t.slice(1)).replace(/:animating/g,fO),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+c:c,Js(t.collectedStyles,t.currentQuerySelector,new Map);const g=ea(this,iw(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:c,limit:i.limit||0,optional:!!i.optional,includeSelf:l,animation:g,originalSelector:e.selector,options:u_(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function AU(){return new f.vHH(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:OA(e.timings,t.errors,!0);return{type:12,animation:ea(this,iw(e.animation),t),timings:r,options:null}}}class dj{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function u_(n){return n?(n=rw(n)).params&&(n.params=function uj(n){return n?rw(n):null}(n.params)):n={},n}function yO(n,e,t){return{duration:n,delay:e,easing:t}}function vO(n,e,t,r,i,c,l=null,g=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:c,totalTime:i+c,easing:l,subTimeline:g}}class VA{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const gj=new RegExp(":enter","g"),yj=new RegExp(":leave","g");function bO(n,e,t,r,i,c=new Map,l=new Map,g,y,I=[]){return(new vj).buildKeyframes(n,e,t,r,i,c,l,g,y,I)}class vj{buildKeyframes(e,t,r,i,c,l,g,y,I,D=[]){I=I||new VA;const P=new EO(e,t,I,i,c,D,[]);P.options=y;const N=y.delay?sh(y.delay):0;P.currentTimeline.delayNextStep(N),P.currentTimeline.setStyles([l],null,P.errors,y),ea(this,r,P);const z=P.timelines.filter(J=>J.containsAnimation());if(z.length&&g.size){let J;for(let ee=z.length-1;ee>=0;ee--){const ue=z[ee];if(ue.element===t){J=ue;break}}J&&!J.allowOnlyTimelineStyles()&&J.setStyles([g],null,P.errors,y)}return z.length?z.map(J=>J.buildKeyframes()):[vO(t,[],[],[],0,N,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),c=t.currentTimeline.currentTime,l=this._visitSubInstructions(r,i,i.options);c!=l&&t.transformIntoNewTimeline(l)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const c=i?.delay;if(c){const l="number"==typeof c?c:sh(ow(c,i?.params??{},t.errors));r.delayNextStep(l)}}}_visitSubInstructions(e,t,r){let c=t.currentTimeline.currentTime;const l=null!=r.duration?sh(r.duration):null,g=null!=r.delay?sh(r.delay):null;return 0!==l&&e.forEach(y=>{const I=t.appendInstructionToTimeline(y,l,g);c=Math.max(c,I.duration+I.delay)}),c}visitReference(e,t){t.updateOptions(e.options,!0),ea(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const c=e.options;if(c&&(c.params||c.delay)&&(i=t.createSubContext(c),i.transformIntoNewTimeline(),null!=c.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=BA);const l=sh(c.delay);i.delayNextStep(l)}e.steps.length&&(e.steps.forEach(l=>ea(this,l,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const c=e.options&&e.options.delay?sh(e.options.delay):0;e.steps.forEach(l=>{const g=t.createSubContext(e.options);c&&g.delayNextStep(c),ea(this,l,g),i=Math.max(i,g.currentTimeline.currentTime),r.push(g.currentTimeline)}),r.forEach(l=>t.currentTimeline.mergeTimelineCollectedStyles(l)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return OA(t.params?ow(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const c=e.style;5==c.type?this.visitKeyframes(c,t):(t.incrementTime(r.duration),this.visitStyle(c,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const c=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(c):r.setStyles(e.styles,c,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,c=r.duration,g=t.createSubContext().currentTimeline;g.easing=r.easing,e.styles.forEach(y=>{g.forwardTime((y.offset||0)*c),g.setStyles(y.styles,y.easing,t.errors,t.options),g.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(g),t.transformIntoNewTimeline(i+c),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},c=i.delay?sh(i.delay):0;c&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=BA);let l=r;const g=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=g.length;let y=null;g.forEach((I,D)=>{t.currentQueryIndex=D;const P=t.createSubContext(e.options,I);c&&P.delayNextStep(c),I===t.element&&(y=P.currentTimeline),ea(this,e.animation,P),P.currentTimeline.applyStylesToKeyframe(),l=Math.max(l,P.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(l),y&&(t.currentTimeline.mergeTimelineCollectedStyles(y),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,c=e.timings,l=Math.abs(c.duration),g=l*(t.currentQueryTotal-1);let y=l*t.currentQueryIndex;switch(c.duration<0?"reverse":c.easing){case"reverse":y=g-y;break;case"full":y=r.currentStaggerTime}const D=t.currentTimeline;y&&D.delayNextStep(y);const P=D.currentTime;ea(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-P+(i.startTime-r.currentTimeline.startTime)}}const BA={};class EO{constructor(e,t,r,i,c,l,g,y){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=c,this.errors=l,this.timelines=g,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=BA,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=y||new UA(this._driver,t,0),g.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=sh(r.duration)),null!=r.delay&&(i.delay=sh(r.delay));const c=r.params;if(c){let l=i.params;l||(l=this.options.params={}),Object.keys(c).forEach(g=>{(!t||!l.hasOwnProperty(g))&&(l[g]=ow(c[g],l,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,c=new EO(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return c.previousNode=this.previousNode,c.currentAnimateTimings=this.currentAnimateTimings,c.options=this._copyOptions(),c.updateOptions(e),c.currentQueryIndex=this.currentQueryIndex,c.currentQueryTotal=this.currentQueryTotal,c.parentContext=this,this.subContextCount++,c}transformIntoNewTimeline(e){return this.previousNode=BA,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},c=new bj(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(c),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,c,l){let g=[];if(i&&g.push(this.element),e.length>0){e=(e=e.replace(gj,"."+this._enterClassName)).replace(yj,"."+this._leaveClassName);let I=this._driver.query(this.element,e,1!=r);0!==r&&(I=r<0?I.slice(I.length+r,I.length):I.slice(0,r)),g.push(...I)}return!c&&0==g.length&&l.push(function DU(n){return new f.vHH(3014,!1)}()),g}}class UA{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new UA(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||oh),this._currentKeyframe.set(t,oh);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const c=i&&i.params||{},l=function Ej(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let c of r)t.set(c,oh)}else Ap(i,t)}),t}(e,this._globalTimelineStyles);for(let[g,y]of l){const I=ow(y,c,r);this._pendingStyles.set(g,I),this._localTimelineStyles.has(g)||this._backFill.set(g,this._globalTimelineStyles.get(g)??oh),this._updateStyle(g,I)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((g,y)=>{const I=Ap(g,new Map,this._backFill);I.forEach((D,P)=>{"!"===D?e.add(P):D===oh&&t.add(P)}),r||I.set("offset",y/this.duration),i.push(I)});const c=e.size?NA(e.values()):[],l=t.size?NA(t.values()):[];if(r){const g=i[0],y=new Map(g);g.set("offset",0),y.set("offset",1),i=[g,y]}return vO(this.element,i,c,l,this.duration,this.startTime,this.easing,!1)}}class bj extends UA{constructor(e,t,r,i,c,l,g=!1){super(e,t,l.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=c,this._stretchStartingKeyframe=g,this.timings={duration:l.duration,delay:l.delay,easing:l.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const c=[],l=r+t,g=t/l,y=Ap(e[0]);y.set("offset",0),c.push(y);const I=Ap(e[0]);I.set("offset",lF(g)),c.push(I);const D=e.length-1;for(let P=1;P<=D;P++){let N=Ap(e[P]);const z=N.get("offset");N.set("offset",lF((t+z*r)/l)),c.push(N)}r=l,t=0,i="",e=c}return vO(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function lF(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class IO{}const Ij=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class wj extends IO{normalizePropertyName(e,t){return gO(e)}normalizeStyleValue(e,t,r,i){let c="";const l=r.toString().trim();if(Ij.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)c="px";else{const g=r.match(/^[+-]?[\d\.]+([a-z]*)$/);g&&0==g[1].length&&i.push(function _U(n,e){return new f.vHH(3005,!1)}())}return l+c}}function uF(n,e,t,r,i,c,l,g,y,I,D,P,N){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:c,toState:r,toStyles:l,timelines:g,queriedElements:y,preStyleProps:I,postStyleProps:D,totalTime:P,errors:N}}const wO={};class dF{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function xj(n,e,t,r,i){return n.some(c=>c(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,c,l,g,y,I,D){const P=[],N=this.ast.options&&this.ast.options.params||wO,J=this.buildStyles(r,g&&g.params||wO,P),ee=y&&y.params||wO,ue=this.buildStyles(i,ee,P),Pe=new Set,Le=new Map,ke=new Map,Be="void"===i,gt={params:Cj(ee,N),delay:this.ast.options?.delay},It=D?[]:bO(e,t,this.ast.animation,c,l,J,ue,gt,I,P);let on=0;if(It.forEach(Qc=>{on=Math.max(Qc.duration+Qc.delay,on)}),P.length)return uF(t,this._triggerName,r,i,Be,J,ue,[],[],Le,ke,on,P);It.forEach(Qc=>{const $a=Qc.element,YF=Js(Le,$a,new Set);Qc.preStyleProps.forEach(p_=>YF.add(p_));const dw=Js(ke,$a,new Set);Qc.postStyleProps.forEach(p_=>dw.add(p_)),$a!==t&&Pe.add($a)});const Or=NA(Pe.values());return uF(t,this._triggerName,r,i,Be,J,ue,It,Or,Le,ke,on)}}function Cj(n,e){const t=rw(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class Tj{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=rw(this.defaultParams);return Object.keys(e).forEach(c=>{const l=e[c];null!==l&&(i[c]=l)}),this.styles.styles.forEach(c=>{"string"!=typeof c&&c.forEach((l,g)=>{l&&(l=ow(l,i,t));const y=this.normalizer.normalizePropertyName(g,t);l=this.normalizer.normalizeStyleValue(g,y,l,t),r.set(g,l)})}),r}}class Dj{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new Tj(i.style,i.options&&i.options.params||{},r))}),hF(this.states,"true","1"),hF(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new dF(e,i,this.states))}),this.fallbackTransition=function Sj(n,e,t){return new dF(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(l,g)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(l=>l.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function hF(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const Mj=new VA;class Pj{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],c=_O(this._driver,t,r,[]);if(r.length)throw function kU(n){return new f.vHH(3503,!1)}();this._animations.set(e,c)}_buildPlayer(e,t,r){const i=e.element,c=Zk(this._normalizer,e.keyframes,t,r);return this._driver.animate(i,c,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],c=this._animations.get(e);let l;const g=new Map;if(c?(l=bO(this._driver,t,c,hO,MA,new Map,new Map,r,Mj,i),l.forEach(D=>{const P=Js(g,D.element,new Map);D.postStyleProps.forEach(N=>P.set(N,null))})):(i.push(function FU(){return new f.vHH(3300,!1)}()),l=[]),i.length)throw function LU(n){return new f.vHH(3504,!1)}();g.forEach((D,P)=>{D.forEach((N,z)=>{D.set(z,this._driver.computeStyle(P,z,oh))})});const I=Tp(l.map(D=>{const P=g.get(D.element);return this._buildPlayer(D,new Map,P)}));return this._playersById.set(e,I),I.onDestroy(()=>this.destroy(e)),this.players.push(I),I}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function VU(n){return new f.vHH(3301,!1)}();return t}listen(e,t,r,i){const c=lO(t,"","","");return aO(this._getPlayer(e),r,c,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const c=this._getPlayer(e);switch(r){case"play":c.play();break;case"pause":c.pause();break;case"reset":c.reset();break;case"restart":c.restart();break;case"finish":c.finish();break;case"init":c.init();break;case"setPosition":c.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const fF="ng-animate-queued",xO="ng-animate-disabled",Fj=[],pF={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Lj={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Yc="__ng_removed";class CO{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function jj(n){return n??null}(r?e.value:e),r){const c=rw(e);delete c.value,this.options=c}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const sw="void",TO=new CO(sw);class Vj{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,za(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function BU(n,e){return new f.vHH(3302,!1)}();if(null==r||0==r.length)throw function UU(n){return new f.vHH(3303,!1)}();if(!function Hj(n){return"start"==n||"done"==n}(r))throw function jU(n,e){return new f.vHH(3400,!1)}();const c=Js(this._elementListeners,e,[]),l={name:t,phase:r,callback:i};c.push(l);const g=Js(this._engine.statesByElement,e,new Map);return g.has(t)||(za(e,PA),za(e,PA+"-"+t),g.set(t,TO)),()=>{this._engine.afterFlush(()=>{const y=c.indexOf(l);y>=0&&c.splice(y,1),this._triggers.has(t)||g.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function HU(n){return new f.vHH(3401,!1)}();return t}trigger(e,t,r,i=!0){const c=this._getTrigger(t),l=new AO(this.id,t,e);let g=this._engine.statesByElement.get(e);g||(za(e,PA),za(e,PA+"-"+t),this._engine.statesByElement.set(e,g=new Map));let y=g.get(t);const I=new CO(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&y&&I.absorbOptions(y.options),g.set(t,I),y||(y=TO),I.value!==sw&&y.value===I.value){if(!function Gj(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const c=t[i];if(!e.hasOwnProperty(c)||n[c]!==e[c])return!1}return!0}(y.params,I.params)){const ee=[],ue=c.matchStyles(y.value,y.params,ee),Pe=c.matchStyles(I.value,I.params,ee);ee.length?this._engine.reportError(ee):this._engine.afterFlush(()=>{l_(e,ue),vu(e,Pe)})}return}const N=Js(this._engine.playersByElement,e,[]);N.forEach(ee=>{ee.namespaceId==this.id&&ee.triggerName==t&&ee.queued&&ee.destroy()});let z=c.matchTransition(y.value,I.value,e,I.params),J=!1;if(!z){if(!i)return;z=c.fallbackTransition,J=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:z,fromState:y,toState:I,player:l,isFallbackTransition:J}),J||(za(e,fF),l.onStart(()=>{fb(e,fF)})),l.onDone(()=>{let ee=this.players.indexOf(l);ee>=0&&this.players.splice(ee,1);const ue=this._engine.playersByElement.get(e);if(ue){let Pe=ue.indexOf(l);Pe>=0&&ue.splice(Pe,1)}}),this.players.push(l),N.push(l),l}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,RA,!0);r.forEach(i=>{if(i[Yc])return;const c=this._engine.fetchNamespacesByElement(i);c.size?c.forEach(l=>l.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const c=this._engine.statesByElement.get(e),l=new Map;if(c){const g=[];if(c.forEach((y,I)=>{if(l.set(I,y.value),this._triggers.has(I)){const D=this.trigger(e,I,sw,i);D&&g.push(D)}}),g.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,l),r&&Tp(g).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(c=>{const l=c.name;if(i.has(l))return;i.add(l);const y=this._triggers.get(l).fallbackTransition,I=r.get(l)||TO,D=new CO(sw),P=new AO(this.id,l,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:l,transition:y,fromState:I,toState:D,player:P,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const c=r.players.length?r.playersByQueriedElement.get(e):[];if(c&&c.length)i=!0;else{let l=e;for(;l=l.parentNode;)if(r.statesByElement.get(l)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const c=e[Yc];(!c||c===pF)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){za(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const c=r.element,l=this._elementListeners.get(c);l&&l.forEach(g=>{if(g.name==r.triggerName){const y=lO(c,r.triggerName,r.fromState.value,r.toState.value);y._data=e,aO(r.player,g.phase,y,g.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const c=r.transition.ast.depCount,l=i.transition.ast.depCount;return 0==c||0==l?c-l:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class Bj{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,c)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new Vj(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let l=!1,g=this.driver.getParentElement(t);for(;g;){const y=i.get(g);if(y){const I=r.indexOf(y);r.splice(I+1,0,e),l=!0;break}g=this.driver.getParentElement(g)}l||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const c=this._fetchNamespace(i.namespaceId);c&&t.add(c)}return t}trigger(e,t,r,i){if(jA(t)){const c=this._fetchNamespace(e);if(c)return c.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!jA(t))return;const c=t[Yc];if(c&&c.setForRemoval){c.setForRemoval=!1,c.setForMove=!0;const l=this.collectedLeaveElements.indexOf(t);l>=0&&this.collectedLeaveElements.splice(l,1)}if(e){const l=this._fetchNamespace(e);l&&l.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),za(e,xO)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),fb(e,xO))}removeNode(e,t,r){if(jA(t)){const i=e?this._fetchNamespace(e):null;i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r);const c=this.namespacesByHostElement.get(t);c&&c.id!==e&&c.removeNode(t,r)}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,r,i,c){this.collectedLeaveElements.push(t),t[Yc]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:c}}listen(e,t,r,i,c){return jA(t)?this._fetchNamespace(e).listen(t,r,i,c):()=>{}}_buildInstruction(e,t,r,i,c){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,c)}destroyInnerAnimations(e){let t=this.driver.query(e,RA,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,fO,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Tp(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Yc];if(t&&t.setForRemoval){if(e[Yc]=pF,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(xO)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)za(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Tp(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function zU(n){return new f.vHH(3402,!1)}()}_flushAnimations(e,t){const r=new VA,i=[],c=new Map,l=[],g=new Map,y=new Map,I=new Map,D=new Set;this.disabledNodes.forEach(ht=>{D.add(ht);const xt=this.driver.query(ht,".ng-animate-queued",!0);for(let Rt=0;Rt<xt.length;Rt++)D.add(xt[Rt])});const P=this.bodyNode,N=Array.from(this.statesByElement.keys()),z=_F(N,this.collectedEnterElements),J=new Map;let ee=0;z.forEach((ht,xt)=>{const Rt=hO+ee++;J.set(xt,Rt),ht.forEach(fn=>za(fn,Rt))});const ue=[],Pe=new Set,Le=new Set;for(let ht=0;ht<this.collectedLeaveElements.length;ht++){const xt=this.collectedLeaveElements[ht],Rt=xt[Yc];Rt&&Rt.setForRemoval&&(ue.push(xt),Pe.add(xt),Rt.hasAnimation?this.driver.query(xt,".ng-star-inserted",!0).forEach(fn=>Pe.add(fn)):Le.add(xt))}const ke=new Map,Be=_F(N,Array.from(Pe));Be.forEach((ht,xt)=>{const Rt=MA+ee++;ke.set(xt,Rt),ht.forEach(fn=>za(fn,Rt))}),e.push(()=>{z.forEach((ht,xt)=>{const Rt=J.get(xt);ht.forEach(fn=>fb(fn,Rt))}),Be.forEach((ht,xt)=>{const Rt=ke.get(xt);ht.forEach(fn=>fb(fn,Rt))}),ue.forEach(ht=>{this.processLeaveNode(ht)})});const gt=[],It=[];for(let ht=this._namespaceList.length-1;ht>=0;ht--)this._namespaceList[ht].drainQueuedTransitions(t).forEach(Rt=>{const fn=Rt.player,wi=Rt.element;if(gt.push(fn),this.collectedEnterElements.length){const ho=wi[Yc];if(ho&&ho.setForMove){if(ho.previousTriggersValues&&ho.previousTriggersValues.has(Rt.triggerName)){const m_=ho.previousTriggersValues.get(Rt.triggerName),Ga=this.statesByElement.get(Rt.element);if(Ga&&Ga.has(Rt.triggerName)){const WA=Ga.get(Rt.triggerName);WA.value=m_,Ga.set(Rt.triggerName,WA)}}return void fn.destroy()}}const bu=!P||!this.driver.containsElement(P,wi),na=ke.get(wi),Dp=J.get(wi),pr=this._buildInstruction(Rt,r,Dp,na,bu);if(pr.errors&&pr.errors.length)return void It.push(pr);if(bu)return fn.onStart(()=>l_(wi,pr.fromStyles)),fn.onDestroy(()=>vu(wi,pr.toStyles)),void i.push(fn);if(Rt.isFallbackTransition)return fn.onStart(()=>l_(wi,pr.fromStyles)),fn.onDestroy(()=>vu(wi,pr.toStyles)),void i.push(fn);const JF=[];pr.timelines.forEach(ho=>{ho.stretchStartingKeyframe=!0,this.disabledNodes.has(ho.element)||JF.push(ho)}),pr.timelines=JF,r.append(wi,pr.timelines),l.push({instruction:pr,player:fn,element:wi}),pr.queriedElements.forEach(ho=>Js(g,ho,[]).push(fn)),pr.preStyleProps.forEach((ho,m_)=>{if(ho.size){let Ga=y.get(m_);Ga||y.set(m_,Ga=new Set),ho.forEach((WA,FO)=>Ga.add(FO))}}),pr.postStyleProps.forEach((ho,m_)=>{let Ga=I.get(m_);Ga||I.set(m_,Ga=new Set),ho.forEach((WA,FO)=>Ga.add(FO))})});if(It.length){const ht=[];It.forEach(xt=>{ht.push(function $U(n,e){return new f.vHH(3505,!1)}())}),gt.forEach(xt=>xt.destroy()),this.reportError(ht)}const on=new Map,Or=new Map;l.forEach(ht=>{const xt=ht.element;r.has(xt)&&(Or.set(xt,xt),this._beforeAnimationBuild(ht.player.namespaceId,ht.instruction,on))}),i.forEach(ht=>{const xt=ht.element;this._getPreviousPlayers(xt,!1,ht.namespaceId,ht.triggerName,null).forEach(fn=>{Js(on,xt,[]).push(fn),fn.destroy()})});const Qc=ue.filter(ht=>vF(ht,y,I)),$a=new Map;gF($a,this.driver,Le,I,oh).forEach(ht=>{vF(ht,y,I)&&Qc.push(ht)});const dw=new Map;z.forEach((ht,xt)=>{gF(dw,this.driver,new Set(ht),y,"!")}),Qc.forEach(ht=>{const xt=$a.get(ht),Rt=dw.get(ht);$a.set(ht,new Map([...xt?.entries()??[],...Rt?.entries()??[]]))});const p_=[],QF=[],XF={};l.forEach(ht=>{const{element:xt,player:Rt,instruction:fn}=ht;if(r.has(xt)){if(D.has(xt))return Rt.onDestroy(()=>vu(xt,fn.toStyles)),Rt.disabled=!0,Rt.overrideTotalTime(fn.totalTime),void i.push(Rt);let wi=XF;if(Or.size>1){let na=xt;const Dp=[];for(;na=na.parentNode;){const pr=Or.get(na);if(pr){wi=pr;break}Dp.push(na)}Dp.forEach(pr=>Or.set(pr,wi))}const bu=this._buildAnimation(Rt.namespaceId,fn,on,c,dw,$a);if(Rt.setRealPlayer(bu),wi===XF)p_.push(Rt);else{const na=this.playersByElement.get(wi);na&&na.length&&(Rt.parentPlayer=Tp(na)),i.push(Rt)}}else l_(xt,fn.fromStyles),Rt.onDestroy(()=>vu(xt,fn.toStyles)),QF.push(Rt),D.has(xt)&&i.push(Rt)}),QF.forEach(ht=>{const xt=c.get(ht.element);if(xt&&xt.length){const Rt=Tp(xt);ht.setRealPlayer(Rt)}}),i.forEach(ht=>{ht.parentPlayer?ht.syncPlayerEvents(ht.parentPlayer):ht.destroy()});for(let ht=0;ht<ue.length;ht++){const xt=ue[ht],Rt=xt[Yc];if(fb(xt,MA),Rt&&Rt.hasAnimation)continue;let fn=[];if(g.size){let bu=g.get(xt);bu&&bu.length&&fn.push(...bu);let na=this.driver.query(xt,fO,!0);for(let Dp=0;Dp<na.length;Dp++){let pr=g.get(na[Dp]);pr&&pr.length&&fn.push(...pr)}}const wi=fn.filter(bu=>!bu.destroyed);wi.length?zj(this,xt,wi):this.processLeaveNode(xt)}return ue.length=0,p_.forEach(ht=>{this.players.push(ht),ht.onDone(()=>{ht.destroy();const xt=this.players.indexOf(ht);this.players.splice(xt,1)}),ht.play()}),p_}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,c){let l=[];if(t){const g=this.playersByQueriedElement.get(e);g&&(l=g)}else{const g=this.playersByElement.get(e);if(g){const y=!c||c==sw;g.forEach(I=>{I.queued||!y&&I.triggerName!=i||l.push(I)})}}return(r||i)&&(l=l.filter(g=>!(r&&r!=g.namespaceId||i&&i!=g.triggerName))),l}_beforeAnimationBuild(e,t,r){const c=t.element,l=t.isRemovalTransition?void 0:e,g=t.isRemovalTransition?void 0:t.triggerName;for(const y of t.timelines){const I=y.element,D=I!==c,P=Js(r,I,[]);this._getPreviousPlayers(I,D,l,g,t.toState).forEach(z=>{const J=z.getRealPlayer();J.beforeDestroy&&J.beforeDestroy(),z.destroy(),P.push(z)})}l_(c,t.fromStyles)}_buildAnimation(e,t,r,i,c,l){const g=t.triggerName,y=t.element,I=[],D=new Set,P=new Set,N=t.timelines.map(J=>{const ee=J.element;D.add(ee);const ue=ee[Yc];if(ue&&ue.removedBeforeQueried)return new nw(J.duration,J.delay);const Pe=ee!==y,Le=function $j(n){const e=[];return yF(n,e),e}((r.get(ee)||Fj).map(on=>on.getRealPlayer())).filter(on=>!!on.element&&on.element===ee),ke=c.get(ee),Be=l.get(ee),gt=Zk(this._normalizer,J.keyframes,ke,Be),It=this._buildPlayer(J,gt,Le);if(J.subTimeline&&i&&P.add(ee),Pe){const on=new AO(e,g,ee);on.setRealPlayer(It),I.push(on)}return It});I.forEach(J=>{Js(this.playersByQueriedElement,J.element,[]).push(J),J.onDone(()=>function Uj(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,J.element,J))}),D.forEach(J=>za(J,tF));const z=Tp(N);return z.onDestroy(()=>{D.forEach(J=>fb(J,tF)),vu(y,t.toStyles)}),P.forEach(J=>{Js(i,J,[]).push(z)}),z}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new nw(e.duration,e.delay)}}class AO{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new nw,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>aO(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Js(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function jA(n){return n&&1===n.nodeType}function mF(n,e){const t=n.style.display;return n.style.display=e??"none",t}function gF(n,e,t,r,i){const c=[];t.forEach(y=>c.push(mF(y)));const l=[];r.forEach((y,I)=>{const D=new Map;y.forEach(P=>{const N=e.computeStyle(I,P,i);D.set(P,N),(!N||0==N.length)&&(I[Yc]=Lj,l.push(I))}),n.set(I,D)});let g=0;return t.forEach(y=>mF(y,c[g++])),l}function _F(n,e){const t=new Map;if(n.forEach(g=>t.set(g,[])),0==e.length)return t;const i=new Set(e),c=new Map;function l(g){if(!g)return 1;let y=c.get(g);if(y)return y;const I=g.parentNode;return y=t.has(I)?I:i.has(I)?1:l(I),c.set(g,y),y}return e.forEach(g=>{const y=l(g);1!==y&&t.get(y).push(g)}),t}function za(n,e){n.classList?.add(e)}function fb(n,e){n.classList?.remove(e)}function zj(n,e,t){Tp(t).onDone(()=>n.processLeaveNode(e))}function yF(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof qk?yF(r.players,e):e.push(r)}}function vF(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(c=>i.add(c)):e.set(n,r),t.delete(n),!0}class HA{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,c)=>{},this._transitionEngine=new Bj(e,t,r),this._timelineEngine=new Pj(e,t,r),this._transitionEngine.onRemovalComplete=(i,c)=>this.onRemovalComplete(i,c)}registerTrigger(e,t,r,i,c){const l=e+"-"+i;let g=this._triggerCache[l];if(!g){const y=[],D=_O(this._driver,c,y,[]);if(y.length)throw function OU(n,e){return new f.vHH(3404,!1)}();g=function Aj(n,e,t){return new Dj(n,e,t)}(i,D,this._normalizer),this._triggerCache[l]=g}this._transitionEngine.registerTrigger(t,i,g)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r){this._transitionEngine.removeNode(e,t,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[c,l]=Kk(r);this._timelineEngine.command(c,t,l,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,c){if("@"==r.charAt(0)){const[l,g]=Kk(r);return this._timelineEngine.listen(l,t,g,c)}return this._transitionEngine.listen(e,t,r,i,c)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}let Wj=(()=>{class n{static#e=this.initialStylesByElement=new WeakMap;constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let c=n.initialStylesByElement.get(t);c||n.initialStylesByElement.set(t,c=new Map),this._initialStyles=c}start(){this._state<1&&(this._startStyles&&vu(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(vu(this._element,this._initialStyles),this._endStyles&&(vu(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(l_(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(l_(this._element,this._endStyles),this._endStyles=null),vu(this._element,this._initialStyles),this._state=3)}}return n})();function DO(n){let e=null;return n.forEach((t,r)=>{(function Zj(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class bF{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;const t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:oF(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class Kj{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return Qk(e,t)}getParentElement(e){return uO(e)}query(e,t,r){return Xk(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,c,l=[]){const y={duration:r,delay:i,fill:0==i?"both":"forwards"};c&&(y.easing=c);const I=new Map,D=l.filter(z=>z instanceof bF);(function nj(n,e){return 0===n||0===e})(r,i)&&D.forEach(z=>{z.currentSnapshot.forEach((J,ee)=>I.set(ee,J))});let P=function JU(n){return n.length?n[0]instanceof Map?n:n.map(e=>nF(e)):[]}(t).map(z=>Ap(z));P=function rj(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((c,l)=>{r.has(l)||i.push(l),r.set(l,c)}),i.length)for(let c=1;c<e.length;c++){let l=e[c];i.forEach(g=>l.set(g,oF(n,g)))}}return e}(e,P,I);const N=function qj(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=DO(e[0]),e.length>1&&(r=DO(e[e.length-1]))):e instanceof Map&&(t=DO(e)),t||r?new Wj(n,t,r):null}(e,P);return new bF(e,P,y,N)}}let Yj=(()=>{class n extends $k{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:f.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?Gk(t):t;return EF(this._renderer,null,r,"register",[i]),new Qj(r,this._renderer)}static#e=this.\u0275fac=function(r){return new(r||n)(f.LFG(f.FYo),f.LFG(q))};static#t=this.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac})}return n})();class Qj extends aU{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new Xj(this._id,e,t||{},this._renderer)}}class Xj{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return EF(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function EF(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const IF="@.disabled";let Jj=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,r.onRemovalComplete=(c,l)=>{const g=l?.parentNode(c);g&&l.removeChild(g,c)}}createRenderer(t,r){const c=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let D=this._rendererCache.get(c);return D||(D=new wF("",c,this.engine,()=>this._rendererCache.delete(c)),this._rendererCache.set(c,D)),D}const l=r.id,g=r.id+"-"+this._currentId;this._currentId++,this.engine.register(g,t);const y=D=>{Array.isArray(D)?D.forEach(y):this.engine.registerTrigger(l,g,t,D.name,D)};return r.data.animation.forEach(y),new eH(this,g,c,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(c=>{const[l,g]=c;l(g)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(r){return new(r||n)(f.LFG(f.FYo),f.LFG(HA),f.LFG(f.R0b))};static#t=this.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac})}return n})();class wF{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==IF?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class eH extends wF{constructor(e,t,r,i,c){super(t,r,i,c),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==IF?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function tH(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let c=t.slice(1),l="";return"@"!=c.charAt(0)&&([c,l]=function nH(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(c)),this.engine.listen(this.namespaceId,i,c,l,g=>{this.factory.scheduleListenerCallback(g._data||-1,r,g)})}return this.delegate.listen(e,t,r)}}let rH=(()=>{class n extends HA{constructor(t,r,i,c){super(t.body,r,i)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(r){return new(r||n)(f.LFG(q),f.LFG(dO),f.LFG(IO),f.LFG(f.z2F))};static#t=this.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac})}return n})();const xF=[{provide:$k,useClass:Yj},{provide:IO,useFactory:function iH(){return new wj}},{provide:HA,useClass:rH},{provide:f.FYo,useFactory:function oH(n,e,t){return new Jj(n,e,t)},deps:[sn,HA,f.R0b]}],SO=[{provide:dO,useFactory:()=>new Kj},{provide:f.QbO,useValue:"BrowserAnimations"},...xF],CF=[{provide:dO,useClass:Jk},{provide:f.QbO,useValue:"NoopAnimations"},...xF];let MO,sH=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?CF:SO}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=f.oAB({type:n});static#n=this.\u0275inj=f.cJS({providers:SO,imports:[ma]})}return n})();try{MO=typeof Intl<"u"&&Intl.v8BreakIterator}catch{MO=!1}let aw,TF=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function aa(n){return n===Dn}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!MO)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(r){return new(r||n)(f.LFG(f.Lbi))};static#t=this.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function cw(n){return function aH(){if(null==aw&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>aw=!0}))}finally{aw=aw||!1}return aw}()?n:!!n.capture}let dH=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=f.oAB({type:n});static#n=this.\u0275inj=f.cJS({})}return n})();function DF(n){return Array.isArray(n)?n:[n]}class vH{constructor(e){this.total=e}call(e,t){return t.subscribe(new bH(e,this.total))}}class bH extends gi.L{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){++this.count>this.total&&this.destination.next(e)}}class IH{constructor(e,t){this.dueTime=e,this.scheduler=t}call(e,t){return t.subscribe(new wH(e,this.dueTime,this.scheduler))}}class wH extends gi.L{constructor(e,t,r){super(e),this.dueTime=t,this.scheduler=r,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(xH,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:e}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}clearDebounce(){const e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}function xH(n){n.debouncedNext()}const MF=new Set;let h_,CH=(()=>{class n{constructor(t,r){this._platform=t,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):AH}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function TH(n,e){if(!MF.has(n))try{h_||(h_=document.createElement("style"),e&&(h_.nonce=e),h_.setAttribute("type","text/css"),document.head.appendChild(h_)),h_.sheet&&(h_.sheet.insertRule(`@media ${n} {body{ }}`,0),MF.add(n))}catch(t){console.error(t)}}(t,this._nonce),this._matchMedia(t)}static#e=this.\u0275fac=function(r){return new(r||n)(f.LFG(TF),f.LFG(f.Ojb,8))};static#t=this.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function AH(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let DH=(()=>{class n{constructor(t,r){this._mediaMatcher=t,this._zone=r,this._queries=new Map,this._destroySubject=new Mc.xQ}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return PF(DF(t)).some(i=>this._registerQuery(i).mql.matches)}observe(t){let c=af(PF(DF(t)).map(l=>this._registerQuery(l).observable));return c=W_(c.pipe(Jl(1)),c.pipe(function yH(n){return e=>e.lift(new vH(n))}(1),function EH(n,e=$x.P){return t=>t.lift(new IH(n,e))}(0))),c.pipe((0,mt.U)(l=>{const g={matches:!1,breakpoints:{}};return l.forEach(({matches:y,query:I})=>{g.matches=g.matches||y,g.breakpoints[I]=y}),g}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const r=this._mediaMatcher.matchMedia(t),c={observable:new an.y(l=>{const g=y=>this._zone.run(()=>l.next(y));return r.addListener(g),()=>{r.removeListener(g)}}).pipe(gd(r),(0,mt.U)(({matches:l})=>({query:t,matches:l})),Bw(this._destroySubject)),mql:r};return this._queries.set(t,c),c}static#e=this.\u0275fac=function(r){return new(r||n)(f.LFG(CH),f.LFG(f.R0b))};static#t=this.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function PF(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}const kF="cdk-high-contrast-black-on-white",FF="cdk-high-contrast-white-on-black",RO="cdk-high-contrast-active";let BH=(()=>{class n{constructor(t,r){this._platform=t,this._document=r,this._breakpointSubscription=(0,f.f3M)(DH).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,c=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),c){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(RO,kF,FF),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?t.add(RO,kF):2===r&&t.add(RO,FF)}}static#e=this.\u0275fac=function(r){return new(r||n)(f.LFG(TF),f.LFG(q))};static#t=this.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),LF=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=f.oAB({type:n});static#n=this.\u0275inj=f.cJS({})}return n})();const zH=new f.OlP("mat-sanity-checks",{providedIn:"root",factory:function HH(){return!0}});let ta=(()=>{class n{constructor(t,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!function uH(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}static#e=this.\u0275fac=function(r){return new(r||n)(f.LFG(BH),f.LFG(zH,8),f.LFG(q))};static#t=this.\u0275mod=f.oAB({type:n});static#n=this.\u0275inj=f.cJS({imports:[LF,LF]})}return n})();const UF=cw({passive:!0,capture:!0});class qH{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=function lH(n){return n.composedPath?n.composedPath()[0]:n.target}(e);t&&this._events.get(e.type)?.forEach((r,i)=>{(i===t||i.contains(t))&&r.forEach(c=>c.handleEvent(e))})}}addHandler(e,t,r,i){const c=this._events.get(t);if(c){const l=c.get(r);l?l.add(i):c.set(r,new Set([i]))}else this._events.set(t,new Map([[r,new Set([i])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,UF)})}removeHandler(e,t,r){const i=this._events.get(e);if(!i)return;const c=i.get(t);c&&(c.delete(r),0===c.size&&i.delete(t),0===i.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,UF)))}}class OO{static#e=this._eventManager=new qH;constructor(e,t,r,i){this._target=e,this._ngZone=t,this._platform=i,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=SF(r))}fadeInRipple(e,t,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),c={...jF,...r.animation},l=r.radius||function ZH(n,e,t){const r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),i=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+i*i)}(e,t,i),g=e-i.left,y=t-i.top,I=c.enterDuration,D=document.createElement("div");D.classList.add("mat-ripple-element"),D.style.left=g-l+"px",D.style.top=y-l+"px",D.style.height=2*l+"px",D.style.width=2*l+"px",null!=r.color&&(D.style.backgroundColor=r.color),D.style.transitionDuration=`${I}ms`,this._containerElement.appendChild(D);const P=window.getComputedStyle(D),z=P.transitionDuration,J="none"===P.transitionProperty||"0s"===z||"0s, 0s"===z||0===i.width&&0===i.height,ee=new GH(this,D,r,J);D.style.transform="scale3d(1, 1, 1)",ee.state=0,r.persistent||(this._mostRecentTransientRipple=ee);return!J&&(I||c.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Pe=()=>this._finishRippleTransition(ee),Le=()=>this._destroyRipple(ee);D.addEventListener("transitionend",Pe),D.addEventListener("transitioncancel",Le)}),this._activeRipples.set(ee,null),(J||!I)&&this._finishRippleTransition(ee),ee}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,r={...jF,...e.config.animation};t.style.transitionDuration=`${r.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=SF(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,zF.forEach(r=>{OO._eventManager.addHandler(this._ngZone,r,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{$F.forEach(t=>{this._triggerElement.addEventListener(t,this,HF)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:r}=e.config;e.state=1,!r&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=function FH(n){return 0===n.buttons||0===n.detail}(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!function LH(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;if(t)for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(zF.forEach(t=>OO._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&$F.forEach(t=>e.removeEventListener(t,this,HF)))}}let KH=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=f.oAB({type:n});static#n=this.\u0275inj=f.cJS({imports:[ta,ta]})}return n})(),YH=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),QH=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=f.oAB({type:n});static#n=this.\u0275inj=f.cJS({providers:[YH]})}return n})(),NO=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=f.oAB({type:n});static#n=this.\u0275inj=f.cJS({imports:[ta,yo,QH,ta]})}return n})(),o4=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=f.oAB({type:n});static#n=this.\u0275inj=f.cJS({imports:[ta,NO,NO,dH,ta]})}return n})();F(5705);let h4=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=f.oAB({type:n});static#n=this.\u0275inj=f.cJS({imports:[ta,ta]})}return n})(),v4=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=f.oAB({type:n});static#n=this.\u0275inj=f.cJS({imports:[ta,yo,ta]})}return n})(),I4=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=f.oAB({type:n});static#n=this.\u0275inj=f.cJS({imports:[ta,KH,ta]})}return n})(),C4=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=f.oAB({type:n});static#n=this.\u0275inj=f.cJS({imports:[yo,ta]})}return n})();const KF_firebaseConfig={apiKey:"AIzaSyAxSCN0ivI-vCn-v2lnp7iJApxAmUH_msU",authDomain:"addidas-sports.firebaseapp.com",projectId:"addidas-sports",storageBucket:"addidas-sports.firebasestorage.app",messagingSenderId:"299441372012",appId:"1:299441372012:web:f9062cd728c111d0529149"};let T4=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=f.oAB({type:n,bootstrap:[sU]});static#n=this.\u0275inj=f.cJS({providers:[{provide:oe,useClass:at}],imports:[ma,oU,sH,Em,Ac,Sw,h4,v4,I4,o4,NO,C4,Zs.hO.initializeApp(KF_firebaseConfig),$B,FB]})}return n})();(0,f.G48)(),Dh().bootstrapModule(T4).catch(n=>console.error(n))},5125:(st,xe,F)=>{F.d(xe,{X:()=>L});var f=F(2079),ne=F(6229);class L extends f.xQ{constructor(re){super(),this._value=re}get value(){return this.getValue()}_subscribe(re){const q=super._subscribe(re);return q&&!q.closed&&re.next(this._value),q}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new ne.N;return this._value}next(re){super.next(this._value=re)}}},4699:(st,xe,F)=>{F.d(xe,{y:()=>X});var f=F(254),L=F(5297),se=F(7308),q=F(2677),ye=F(4813),de=F(7213);let X=(()=>{class j{constructor(oe){this._isScalar=!1,oe&&(this._subscribe=oe)}lift(oe){const we=new j;return we.source=this,we.operator=oe,we}subscribe(oe,we,at){const{operator:pe}=this,Fe=function re(j,H,oe){if(j){if(j instanceof f.L)return j;if(j[L.b])return j[L.b]()}return j||H||oe?new f.L(j,H,oe):new f.L(se.c)}(oe,we,at);if(Fe.add(pe?pe.call(Fe,this.source):this.source||de.config.useDeprecatedSynchronousErrorHandling&&!Fe.syncErrorThrowable?this._subscribe(Fe):this._trySubscribe(Fe)),de.config.useDeprecatedSynchronousErrorHandling&&Fe.syncErrorThrowable&&(Fe.syncErrorThrowable=!1,Fe.syncErrorThrown))throw Fe.syncErrorValue;return Fe}_trySubscribe(oe){try{return this._subscribe(oe)}catch(we){de.config.useDeprecatedSynchronousErrorHandling&&(oe.syncErrorThrown=!0,oe.syncErrorValue=we),function ne(j){for(;j;){const{closed:H,destination:oe,isStopped:we}=j;if(H||we)return!1;j=oe&&oe instanceof f.L?oe:null}return!0}(oe)?oe.error(we):console.warn(we)}}forEach(oe,we){return new(we=k(we))((at,pe)=>{let Fe;Fe=this.subscribe(Ve=>{try{oe(Ve)}catch(Je){pe(Je),Fe&&Fe.unsubscribe()}},pe,at)})}_subscribe(oe){const{source:we}=this;return we&&we.subscribe(oe)}[q.L](){return this}pipe(...oe){return 0===oe.length?this:(0,ye.U)(oe)(this)}toPromise(oe){return new(oe=k(oe))((we,at)=>{let pe;this.subscribe(Fe=>pe=Fe,Fe=>at(Fe),()=>we(pe))})}}return j.create=H=>new j(H),j})();function k(j){if(j||(j=de.config.Promise||Promise),!j)throw new Error("no Promise impl found");return j}},7308:(st,xe,F)=>{F.d(xe,{c:()=>L});var f=F(7213),ne=F(3510);const L={closed:!0,next(se){},error(se){if(f.config.useDeprecatedSynchronousErrorHandling)throw se;(0,ne.z)(se)},complete(){}}},2079:(st,xe,F)=>{F.d(xe,{Yc:()=>ye,xQ:()=>de});var f=F(4699),ne=F(254),L=F(7902),se=F(6229),re=F(9806),q=F(5297);class ye extends ne.L{constructor(j){super(j),this.destination=j}}let de=(()=>{class k extends f.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[q.b](){return new ye(this)}lift(H){const oe=new X(this,this);return oe.operator=H,oe}next(H){if(this.closed)throw new se.N;if(!this.isStopped){const{observers:oe}=this,we=oe.length,at=oe.slice();for(let pe=0;pe<we;pe++)at[pe].next(H)}}error(H){if(this.closed)throw new se.N;this.hasError=!0,this.thrownError=H,this.isStopped=!0;const{observers:oe}=this,we=oe.length,at=oe.slice();for(let pe=0;pe<we;pe++)at[pe].error(H);this.observers.length=0}complete(){if(this.closed)throw new se.N;this.isStopped=!0;const{observers:H}=this,oe=H.length,we=H.slice();for(let at=0;at<oe;at++)we[at].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(H){if(this.closed)throw new se.N;return super._trySubscribe(H)}_subscribe(H){if(this.closed)throw new se.N;return this.hasError?(H.error(this.thrownError),L.w.EMPTY):this.isStopped?(H.complete(),L.w.EMPTY):(this.observers.push(H),new re.W(this,H))}asObservable(){const H=new f.y;return H.source=this,H}}return k.create=(j,H)=>new X(j,H),k})();class X extends de{constructor(j,H){super(),this.destination=j,this.source=H}next(j){const{destination:H}=this;H&&H.next&&H.next(j)}error(j){const{destination:H}=this;H&&H.error&&this.destination.error(j)}complete(){const{destination:j}=this;j&&j.complete&&this.destination.complete()}_subscribe(j){const{source:H}=this;return H?this.source.subscribe(j):L.w.EMPTY}}},9806:(st,xe,F)=>{F.d(xe,{W:()=>ne});var f=F(7902);class ne extends f.w{constructor(se,re){super(),this.subject=se,this.subscriber=re,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const se=this.subject,re=se.observers;if(this.subject=null,!re||0===re.length||se.isStopped||se.closed)return;const q=re.indexOf(this.subscriber);-1!==q&&re.splice(q,1)}}},254:(st,xe,F)=>{F.d(xe,{L:()=>ye});var f=F(8594),ne=F(7308),L=F(7902),se=F(5297),re=F(7213),q=F(3510);class ye extends L.w{constructor(k,j,H){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=ne.c;break;case 1:if(!k){this.destination=ne.c;break}if("object"==typeof k){k instanceof ye?(this.syncErrorThrowable=k.syncErrorThrowable,this.destination=k,k.add(this)):(this.syncErrorThrowable=!0,this.destination=new de(this,k));break}default:this.syncErrorThrowable=!0,this.destination=new de(this,k,j,H)}}[se.b](){return this}static create(k,j,H){const oe=new ye(k,j,H);return oe.syncErrorThrowable=!1,oe}next(k){this.isStopped||this._next(k)}error(k){this.isStopped||(this.isStopped=!0,this._error(k))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(k){this.destination.next(k)}_error(k){this.destination.error(k),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:k}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=k,this}}class de extends ye{constructor(k,j,H,oe){super(),this._parentSubscriber=k;let we,at=this;(0,f.m)(j)?we=j:j&&(we=j.next,H=j.error,oe=j.complete,j!==ne.c&&(at=Object.create(j),(0,f.m)(at.unsubscribe)&&this.add(at.unsubscribe.bind(at)),at.unsubscribe=this.unsubscribe.bind(this))),this._context=at,this._next=we,this._error=H,this._complete=oe}next(k){if(!this.isStopped&&this._next){const{_parentSubscriber:j}=this;re.config.useDeprecatedSynchronousErrorHandling&&j.syncErrorThrowable?this.__tryOrSetError(j,this._next,k)&&this.unsubscribe():this.__tryOrUnsub(this._next,k)}}error(k){if(!this.isStopped){const{_parentSubscriber:j}=this,{useDeprecatedSynchronousErrorHandling:H}=re.config;if(this._error)H&&j.syncErrorThrowable?(this.__tryOrSetError(j,this._error,k),this.unsubscribe()):(this.__tryOrUnsub(this._error,k),this.unsubscribe());else if(j.syncErrorThrowable)H?(j.syncErrorValue=k,j.syncErrorThrown=!0):(0,q.z)(k),this.unsubscribe();else{if(this.unsubscribe(),H)throw k;(0,q.z)(k)}}}complete(){if(!this.isStopped){const{_parentSubscriber:k}=this;if(this._complete){const j=()=>this._complete.call(this._context);re.config.useDeprecatedSynchronousErrorHandling&&k.syncErrorThrowable?(this.__tryOrSetError(k,j),this.unsubscribe()):(this.__tryOrUnsub(j),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(k,j){try{k.call(this._context,j)}catch(H){if(this.unsubscribe(),re.config.useDeprecatedSynchronousErrorHandling)throw H;(0,q.z)(H)}}__tryOrSetError(k,j,H){if(!re.config.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{j.call(this._context,H)}catch(oe){return re.config.useDeprecatedSynchronousErrorHandling?(k.syncErrorValue=oe,k.syncErrorThrown=!0,!0):((0,q.z)(oe),!0)}return!1}_unsubscribe(){const{_parentSubscriber:k}=this;this._context=null,this._parentSubscriber=null,k.unsubscribe()}}},7902:(st,xe,F)=>{F.d(xe,{w:()=>q});var f=F(1280),ne=F(7755),L=F(8594);const re=(()=>{function de(X){return Error.call(this),this.message=X?`${X.length} errors occurred during unsubscription:\n${X.map((k,j)=>`${j+1}) ${k.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=X,this}return de.prototype=Object.create(Error.prototype),de})();class q{constructor(X){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,X&&(this._ctorUnsubscribe=!0,this._unsubscribe=X)}unsubscribe(){let X;if(this.closed)return;let{_parentOrParents:k,_ctorUnsubscribe:j,_unsubscribe:H,_subscriptions:oe}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,k instanceof q)k.remove(this);else if(null!==k)for(let we=0;we<k.length;++we)k[we].remove(this);if((0,L.m)(H)){j&&(this._unsubscribe=void 0);try{H.call(this)}catch(we){X=we instanceof re?ye(we.errors):[we]}}if((0,f.k)(oe)){let we=-1,at=oe.length;for(;++we<at;){const pe=oe[we];if((0,ne.K)(pe))try{pe.unsubscribe()}catch(Fe){X=X||[],Fe instanceof re?X=X.concat(ye(Fe.errors)):X.push(Fe)}}}if(X)throw new re(X)}add(X){let k=X;if(!X)return q.EMPTY;switch(typeof X){case"function":k=new q(X);case"object":if(k===this||k.closed||"function"!=typeof k.unsubscribe)return k;if(this.closed)return k.unsubscribe(),k;if(!(k instanceof q)){const oe=k;k=new q,k._subscriptions=[oe]}break;default:throw new Error("unrecognized teardown "+X+" added to Subscription.")}let{_parentOrParents:j}=k;if(null===j)k._parentOrParents=this;else if(j instanceof q){if(j===this)return k;k._parentOrParents=[j,this]}else{if(-1!==j.indexOf(this))return k;j.push(this)}const H=this._subscriptions;return null===H?this._subscriptions=[k]:H.push(k),k}remove(X){const k=this._subscriptions;if(k){const j=k.indexOf(X);-1!==j&&k.splice(j,1)}}}var de;function ye(de){return de.reduce((X,k)=>X.concat(k instanceof re?k.errors:k),[])}q.EMPTY=((de=new q).closed=!0,de)},7213:(st,xe,F)=>{F.d(xe,{config:()=>ne});let f=!1;const ne={Promise:void 0,set useDeprecatedSynchronousErrorHandling(L){if(L){const se=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+se.stack)}else f&&console.log("RxJS: Back to a better error behavior. Thank you. <3");f=L},get useDeprecatedSynchronousErrorHandling(){return f}}},5846:(st,xe,F)=>{F.d(xe,{Ds:()=>q,IY:()=>se,ft:()=>de});var f=F(254),ne=F(4699),L=F(4372);class se extends f.L{constructor(k){super(),this.parent=k}_next(k){this.parent.notifyNext(k)}_error(k){this.parent.notifyError(k),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class q extends f.L{notifyNext(k){this.destination.next(k)}notifyError(k){this.destination.error(k)}notifyComplete(){this.destination.complete()}}function de(X,k){if(k.closed)return;if(X instanceof ne.y)return X.subscribe(k);let j;try{j=(0,L.s)(X)(k)}catch(H){k.error(H)}return j}},4247:(st,xe,F)=>{F.d(xe,{N:()=>q,c:()=>re});var f=F(2079),ne=F(4699),L=F(7902),se=F(2851);class re extends ne.y{constructor(j,H){super(),this.source=j,this.subjectFactory=H,this._refCount=0,this._isComplete=!1}_subscribe(j){return this.getSubject().subscribe(j)}getSubject(){const j=this._subject;return(!j||j.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let j=this._connection;return j||(this._isComplete=!1,j=this._connection=new L.w,j.add(this.source.subscribe(new ye(this.getSubject(),this))),j.closed&&(this._connection=null,j=L.w.EMPTY)),j}refCount(){return(0,se.x)()(this)}}const q=(()=>{const k=re.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:k._subscribe},_isComplete:{value:k._isComplete,writable:!0},getSubject:{value:k.getSubject},connect:{value:k.connect},refCount:{value:k.refCount}}})();class ye extends f.Yc{constructor(j,H){super(j),this.connectable=H}_error(j){this._unsubscribe(),super._error(j)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const j=this.connectable;if(j){this.connectable=null;const H=j._connection;j._refCount=0,j._subject=null,j._connection=null,H&&H.unsubscribe()}}}},1226:(st,xe,F)=>{F.d(xe,{E:()=>ne,c:()=>L});var f=F(4699);const ne=new f.y(re=>re.complete());function L(re){return re?function se(re){return new f.y(q=>re.schedule(()=>q.complete()))}(re):ne}},5253:(st,xe,F)=>{F.d(xe,{D:()=>at});var f=F(4699),ne=F(4372),L=F(7902),se=F(2677),ye=F(5513),de=F(6258),j=F(6007),H=F(9990);function at(pe,Fe){return Fe?function we(pe,Fe){if(null!=pe){if(function k(pe){return pe&&"function"==typeof pe[se.L]}(pe))return function re(pe,Fe){return new f.y(Ve=>{const Je=new L.w;return Je.add(Fe.schedule(()=>{const Ne=pe[se.L]();Je.add(Ne.subscribe({next(ge){Je.add(Fe.schedule(()=>Ve.next(ge)))},error(ge){Je.add(Fe.schedule(()=>Ve.error(ge)))},complete(){Je.add(Fe.schedule(()=>Ve.complete()))}}))})),Je})}(pe,Fe);if((0,j.t)(pe))return function q(pe,Fe){return new f.y(Ve=>{const Je=new L.w;return Je.add(Fe.schedule(()=>pe.then(Ne=>{Je.add(Fe.schedule(()=>{Ve.next(Ne),Je.add(Fe.schedule(()=>Ve.complete()))}))},Ne=>{Je.add(Fe.schedule(()=>Ve.error(Ne)))}))),Je})}(pe,Fe);if((0,H.z)(pe))return(0,ye.r)(pe,Fe);if(function oe(pe){return pe&&"function"==typeof pe[de.hZ]}(pe)||"string"==typeof pe)return function X(pe,Fe){if(!pe)throw new Error("Iterable cannot be null");return new f.y(Ve=>{const Je=new L.w;let Ne;return Je.add(()=>{Ne&&"function"==typeof Ne.return&&Ne.return()}),Je.add(Fe.schedule(()=>{Ne=pe[de.hZ](),Je.add(Fe.schedule(function(){if(Ve.closed)return;let ge,yt;try{const $e=Ne.next();ge=$e.value,yt=$e.done}catch($e){return void Ve.error($e)}yt?Ve.complete():(Ve.next(ge),this.schedule())}))})),Je})}(pe,Fe)}throw new TypeError((null!==pe&&typeof pe||pe)+" is not observable")}(pe,Fe):pe instanceof f.y?pe:new f.y((0,ne.s)(pe))}},2594:(st,xe,F)=>{F.d(xe,{n:()=>se});var f=F(4699),ne=F(4947),L=F(5513);function se(re,q){return q?(0,L.r)(re,q):new f.y((0,ne.V)(re))}},7354:(st,xe,F)=>{F.d(xe,{T:()=>re});var f=F(4699),ne=F(9759),L=F(7449),se=F(2594);function re(...q){let ye=Number.POSITIVE_INFINITY,de=null,X=q[q.length-1];return(0,ne.K)(X)?(de=q.pop(),q.length>1&&"number"==typeof q[q.length-1]&&(ye=q.pop())):"number"==typeof X&&(ye=q.pop()),null===de&&1===q.length&&q[0]instanceof f.y?q[0]:(0,L.J)(ye)((0,se.n)(q,de))}},9193:(st,xe,F)=>{F.d(xe,{of:()=>se});var f=F(9759),ne=F(2594),L=F(5513);function se(...re){let q=re[re.length-1];return(0,f.K)(q)?(re.pop(),(0,L.r)(re,q)):(0,ne.n)(re)}},6222:(st,xe,F)=>{F.d(xe,{_:()=>ne});var f=F(4699);function ne(se,re){return new f.y(re?q=>re.schedule(L,0,{error:se,subscriber:q}):q=>q.error(se))}function L({error:se,subscriber:re}){re.error(se)}},2068:(st,xe,F)=>{F.d(xe,{x:()=>ne});var f=F(254);function ne(re,q){return ye=>ye.lift(new L(re,q))}class L{constructor(q,ye){this.compare=q,this.keySelector=ye}call(q,ye){return ye.subscribe(new se(q,this.compare,this.keySelector))}}class se extends f.L{constructor(q,ye,de){super(q),this.keySelector=de,this.hasKey=!1,"function"==typeof ye&&(this.compare=ye)}compare(q,ye){return q===ye}_next(q){let ye;try{const{keySelector:X}=this;ye=X?X(q):q}catch(X){return this.destination.error(X)}let de=!1;if(this.hasKey)try{const{compare:X}=this;de=X(this.key,ye)}catch(X){return this.destination.error(X)}else this.hasKey=!0;de||(this.key=ye,this.destination.next(q))}}},6124:(st,xe,F)=>{F.d(xe,{U:()=>ne});var f=F(254);function ne(re,q){return function(de){if("function"!=typeof re)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return de.lift(new L(re,q))}}class L{constructor(q,ye){this.project=q,this.thisArg=ye}call(q,ye){return ye.subscribe(new se(q,this.project,this.thisArg))}}class se extends f.L{constructor(q,ye,de){super(q),this.project=ye,this.count=0,this.thisArg=de||this}_next(q){let ye;try{ye=this.project.call(this.thisArg,q,this.count++)}catch(de){return void this.destination.error(de)}this.destination.next(ye)}}},7449:(st,xe,F)=>{F.d(xe,{J:()=>L});var f=F(6743),ne=F(158);function L(se=Number.POSITIVE_INFINITY){return(0,f.zg)(ne.y,se)}},6743:(st,xe,F)=>{F.d(xe,{zg:()=>se});var f=F(6124),ne=F(5253),L=F(5846);function se(de,X,k=Number.POSITIVE_INFINITY){return"function"==typeof X?j=>j.pipe(se((H,oe)=>(0,ne.D)(de(H,oe)).pipe((0,f.U)((we,at)=>X(H,we,oe,at))),k)):("number"==typeof X&&(k=X),j=>j.lift(new re(de,k)))}class re{constructor(X,k=Number.POSITIVE_INFINITY){this.project=X,this.concurrent=k}call(X,k){return k.subscribe(new q(X,this.project,this.concurrent))}}class q extends L.Ds{constructor(X,k,j=Number.POSITIVE_INFINITY){super(X),this.project=k,this.concurrent=j,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(X){this.active<this.concurrent?this._tryNext(X):this.buffer.push(X)}_tryNext(X){let k;const j=this.index++;try{k=this.project(X,j)}catch(H){return void this.destination.error(H)}this.active++,this._innerSub(k)}_innerSub(X){const k=new L.IY(this),j=this.destination;j.add(k);const H=(0,L.ft)(X,k);H!==k&&j.add(H)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(X){this.destination.next(X)}notifyComplete(){const X=this.buffer;this.active--,X.length>0?this._next(X.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},427:(st,xe,F)=>{F.d(xe,{ht:()=>X,QV:()=>ye});var f=F(254),ne=F(1226),L=F(9193),se=F(6222);class q{constructor(H,oe,we){this.kind=H,this.value=oe,this.error=we,this.hasValue="N"===H}observe(H){switch(this.kind){case"N":return H.next&&H.next(this.value);case"E":return H.error&&H.error(this.error);case"C":return H.complete&&H.complete()}}do(H,oe,we){switch(this.kind){case"N":return H&&H(this.value);case"E":return oe&&oe(this.error);case"C":return we&&we()}}accept(H,oe,we){return H&&"function"==typeof H.next?this.observe(H):this.do(H,oe,we)}toObservable(){switch(this.kind){case"N":return(0,L.of)(this.value);case"E":return(0,se._)(this.error);case"C":return(0,ne.c)()}throw new Error("unexpected notification kind value")}static createNext(H){return typeof H<"u"?new q("N",H):q.undefinedValueNotification}static createError(H){return new q("E",void 0,H)}static createComplete(){return q.completeNotification}}function ye(j,H=0){return function(we){return we.lift(new de(j,H))}}q.completeNotification=new q("C"),q.undefinedValueNotification=new q("N",void 0);class de{constructor(H,oe=0){this.scheduler=H,this.delay=oe}call(H,oe){return oe.subscribe(new X(H,this.scheduler,this.delay))}}class X extends f.L{constructor(H,oe,we=0){super(H),this.scheduler=oe,this.delay=we}static dispatch(H){const{notification:oe,destination:we}=H;oe.observe(we),this.unsubscribe()}scheduleMessage(H){this.destination.add(this.scheduler.schedule(X.dispatch,this.delay,new k(H,this.destination)))}_next(H){this.scheduleMessage(q.createNext(H))}_error(H){this.scheduleMessage(q.createError(H)),this.unsubscribe()}_complete(){this.scheduleMessage(q.createComplete()),this.unsubscribe()}}class k{constructor(H,oe){this.notification=H,this.destination=oe}}},2851:(st,xe,F)=>{F.d(xe,{x:()=>ne});var f=F(254);function ne(){return function(q){return q.lift(new L(q))}}class L{constructor(q){this.connectable=q}call(q,ye){const{connectable:de}=this;de._refCount++;const X=new se(q,de),k=ye.subscribe(X);return X.closed||(X.connection=de.connect()),k}}class se extends f.L{constructor(q,ye){super(q),this.connectable=ye}_unsubscribe(){const{connectable:q}=this;if(!q)return void(this.connection=null);this.connectable=null;const ye=q._refCount;if(ye<=0)return void(this.connection=null);if(q._refCount=ye-1,ye>1)return void(this.connection=null);const{connection:de}=this,X=q._connection;this.connection=null,X&&(!de||X===de)&&X.unsubscribe()}}},5705:(st,xe,F)=>{F.d(xe,{B:()=>ye});var f=F(4247);class L{constructor(X,k){this.subjectFactory=X,this.selector=k}call(X,k){const{selector:j}=this,H=this.subjectFactory(),oe=j(H).subscribe(X);return oe.add(k.subscribe(H)),oe}}var se=F(2851),re=F(2079);function q(){return new re.xQ}function ye(){return de=>(0,se.x)()(function ne(de,X){return function(j){let H;if(H="function"==typeof de?de:function(){return de},"function"==typeof X)return j.lift(new L(H,X));const oe=Object.create(j,f.N);return oe.source=j,oe.subjectFactory=H,oe}}(q)(de))}},2671:(st,xe,F)=>{F.d(xe,{R:()=>Fe});var f=F(4699);let ne=1;const L=Promise.resolve(),se={};function re(Je){return Je in se&&(delete se[Je],!0)}const q={setImmediate(Je){const Ne=ne++;return se[Ne]=!0,L.then(()=>re(Ne)&&Je()),Ne},clearImmediate(Je){re(Je)}};var de=F(1618),k=F(1781);const oe=new class j extends k.v{flush(Ne){this.active=!0,this.scheduled=void 0;const{actions:ge}=this;let yt,$e=-1,nt=ge.length;Ne=Ne||ge.shift();do{if(yt=Ne.execute(Ne.state,Ne.delay))break}while(++$e<nt&&(Ne=ge.shift()));if(this.active=!1,yt){for(;++$e<nt&&(Ne=ge.shift());)Ne.unsubscribe();throw yt}}}(class X extends de.o{constructor(Ne,ge){super(Ne,ge),this.scheduler=Ne,this.work=ge}requestAsyncId(Ne,ge,yt=0){return null!==yt&&yt>0?super.requestAsyncId(Ne,ge,yt):(Ne.actions.push(this),Ne.scheduled||(Ne.scheduled=q.setImmediate(Ne.flush.bind(Ne,null))))}recycleAsyncId(Ne,ge,yt=0){if(null!==yt&&yt>0||null===yt&&this.delay>0)return super.recycleAsyncId(Ne,ge,yt);0===Ne.actions.length&&(q.clearImmediate(ge),Ne.scheduled=void 0)}});var we=F(1280);class pe extends f.y{constructor(Ne,ge=0,yt=oe){super(),this.source=Ne,this.delayTime=ge,this.scheduler=yt,(!function at(Je){return!(0,we.k)(Je)&&Je-parseFloat(Je)+1>=0}(ge)||ge<0)&&(this.delayTime=0),(!yt||"function"!=typeof yt.schedule)&&(this.scheduler=oe)}static create(Ne,ge=0,yt=oe){return new pe(Ne,ge,yt)}static dispatch(Ne){const{source:ge,subscriber:yt}=Ne;return this.add(ge.subscribe(yt))}_subscribe(Ne){return this.scheduler.schedule(pe.dispatch,this.delayTime,{source:this.source,subscriber:Ne})}}function Fe(Je,Ne=0){return function(yt){return yt.lift(new Ve(Je,Ne))}}class Ve{constructor(Ne,ge){this.scheduler=Ne,this.delay=ge}call(Ne,ge){return new pe(ge,this.delay,this.scheduler).subscribe(Ne)}}},5222:(st,xe,F)=>{F.d(xe,{w:()=>se});var f=F(6124),ne=F(5253),L=F(5846);function se(ye,de){return"function"==typeof de?X=>X.pipe(se((k,j)=>(0,ne.D)(ye(k,j)).pipe((0,f.U)((H,oe)=>de(k,H,j,oe))))):X=>X.lift(new re(ye))}class re{constructor(de){this.project=de}call(de,X){return X.subscribe(new q(de,this.project))}}class q extends L.Ds{constructor(de,X){super(de),this.project=X,this.index=0}_next(de){let X;const k=this.index++;try{X=this.project(de,k)}catch(j){return void this.destination.error(j)}this._innerSub(X)}_innerSub(de){const X=this.innerSubscription;X&&X.unsubscribe();const k=new L.IY(this),j=this.destination;j.add(k),this.innerSubscription=(0,L.ft)(de,k),this.innerSubscription!==k&&j.add(this.innerSubscription)}_complete(){const{innerSubscription:de}=this;(!de||de.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(de){this.destination.next(de)}}},2420:(st,xe,F)=>{F.d(xe,{b:()=>se});var f=F(254);function ne(){}var L=F(8594);function se(ye,de,X){return function(j){return j.lift(new re(ye,de,X))}}class re{constructor(de,X,k){this.nextOrObserver=de,this.error=X,this.complete=k}call(de,X){return X.subscribe(new q(de,this.nextOrObserver,this.error,this.complete))}}class q extends f.L{constructor(de,X,k,j){super(de),this._tapNext=ne,this._tapError=ne,this._tapComplete=ne,this._tapError=k||ne,this._tapComplete=j||ne,(0,L.m)(X)?(this._context=this,this._tapNext=X):X&&(this._context=X,this._tapNext=X.next||ne,this._tapError=X.error||ne,this._tapComplete=X.complete||ne)}_next(de){try{this._tapNext.call(this._context,de)}catch(X){return void this.destination.error(X)}this.destination.next(de)}_error(de){try{this._tapError.call(this._context,de)}catch(X){return void this.destination.error(X)}this.destination.error(de)}_complete(){try{this._tapComplete.call(this._context)}catch(de){return void this.destination.error(de)}return this.destination.complete()}}},5513:(st,xe,F)=>{F.d(xe,{r:()=>L});var f=F(4699),ne=F(7902);function L(se,re){return new f.y(q=>{const ye=new ne.w;let de=0;return ye.add(re.schedule(function(){de!==se.length?(q.next(se[de++]),q.closed||ye.add(this.schedule())):q.complete()})),ye})}},1618:(st,xe,F)=>{F.d(xe,{o:()=>L});var f=F(7902);class ne extends f.w{constructor(re,q){super()}schedule(re,q=0){return this}}class L extends ne{constructor(re,q){super(re,q),this.scheduler=re,this.work=q,this.pending=!1}schedule(re,q=0){if(this.closed)return this;this.state=re;const ye=this.id,de=this.scheduler;return null!=ye&&(this.id=this.recycleAsyncId(de,ye,q)),this.pending=!0,this.delay=q,this.id=this.id||this.requestAsyncId(de,this.id,q),this}requestAsyncId(re,q,ye=0){return setInterval(re.flush.bind(re,this),ye)}recycleAsyncId(re,q,ye=0){if(null!==ye&&this.delay===ye&&!1===this.pending)return q;clearInterval(q)}execute(re,q){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ye=this._execute(re,q);if(ye)return ye;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(re,q){let de,ye=!1;try{this.work(re)}catch(X){ye=!0,de=!!X&&X||new Error(X)}if(ye)return this.unsubscribe(),de}_unsubscribe(){const re=this.id,q=this.scheduler,ye=q.actions,de=ye.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==de&&ye.splice(de,1),null!=re&&(this.id=this.recycleAsyncId(q,re,null)),this.delay=null}}},1781:(st,xe,F)=>{F.d(xe,{v:()=>ne});let f=(()=>{class L{constructor(re,q=L.now){this.SchedulerAction=re,this.now=q}schedule(re,q=0,ye){return new this.SchedulerAction(this,re).schedule(ye,q)}}return L.now=()=>Date.now(),L})();class ne extends f{constructor(se,re=f.now){super(se,()=>ne.delegate&&ne.delegate!==this?ne.delegate.now():re()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(se,re=0,q){return ne.delegate&&ne.delegate!==this?ne.delegate.schedule(se,re,q):super.schedule(se,re,q)}flush(se){const{actions:re}=this;if(this.active)return void re.push(se);let q;this.active=!0;do{if(q=se.execute(se.state,se.delay))break}while(se=re.shift());if(this.active=!1,q){for(;se=re.shift();)se.unsubscribe();throw q}}}},435:(st,xe,F)=>{F.d(xe,{P:()=>se,z:()=>L});var f=F(1618);const L=new(F(1781).v)(f.o),se=L},6680:(st,xe,F)=>{F.d(xe,{c:()=>q,N:()=>re});var f=F(1618),L=F(1781);const re=new class se extends L.v{}(class ne extends f.o{constructor(de,X){super(de,X),this.scheduler=de,this.work=X}schedule(de,X=0){return X>0?super.schedule(de,X):(this.delay=X,this.state=de,this.scheduler.flush(this),this)}execute(de,X){return X>0||this.closed?super.execute(de,X):this._execute(de,X)}requestAsyncId(de,X,k=0){return null!==k&&k>0||null===k&&this.delay>0?super.requestAsyncId(de,X,k):de.flush(this)}}),q=re},6258:(st,xe,F)=>{F.d(xe,{hZ:()=>ne});const ne=function f(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},2677:(st,xe,F)=>{F.d(xe,{L:()=>f});const f="function"==typeof Symbol&&Symbol.observable||"@@observable"},5297:(st,xe,F)=>{F.d(xe,{b:()=>f});const f="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},6229:(st,xe,F)=>{F.d(xe,{N:()=>ne});const ne=(()=>{function L(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return L.prototype=Object.create(Error.prototype),L})()},3510:(st,xe,F)=>{function f(ne){setTimeout(()=>{throw ne},0)}F.d(xe,{z:()=>f})},158:(st,xe,F)=>{function f(ne){return ne}F.d(xe,{y:()=>f})},1280:(st,xe,F)=>{F.d(xe,{k:()=>f});const f=Array.isArray||(ne=>ne&&"number"==typeof ne.length)},9990:(st,xe,F)=>{F.d(xe,{z:()=>f});const f=ne=>ne&&"number"==typeof ne.length&&"function"!=typeof ne},8594:(st,xe,F)=>{function f(ne){return"function"==typeof ne}F.d(xe,{m:()=>f})},7755:(st,xe,F)=>{function f(ne){return null!==ne&&"object"==typeof ne}F.d(xe,{K:()=>f})},6007:(st,xe,F)=>{function f(ne){return!!ne&&"function"!=typeof ne.subscribe&&"function"==typeof ne.then}F.d(xe,{t:()=>f})},9759:(st,xe,F)=>{function f(ne){return ne&&"function"==typeof ne.schedule}F.d(xe,{K:()=>f})},4813:(st,xe,F)=>{F.d(xe,{U:()=>L,z:()=>ne});var f=F(158);function ne(...se){return L(se)}function L(se){return 0===se.length?f.y:1===se.length?se[0]:function(q){return se.reduce((ye,de)=>de(ye),q)}}},4372:(st,xe,F)=>{F.d(xe,{s:()=>j});var f=F(4947),ne=F(3510),se=F(6258),q=F(2677),de=F(9990),X=F(6007),k=F(7755);const j=H=>{if(H&&"function"==typeof H[q.L])return(H=>oe=>{const we=H[q.L]();if("function"!=typeof we.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return we.subscribe(oe)})(H);if((0,de.z)(H))return(0,f.V)(H);if((0,X.t)(H))return(H=>oe=>(H.then(we=>{oe.closed||(oe.next(we),oe.complete())},we=>oe.error(we)).then(null,ne.z),oe))(H);if(H&&"function"==typeof H[se.hZ])return(H=>oe=>{const we=H[se.hZ]();for(;;){let at;try{at=we.next()}catch(pe){return oe.error(pe),oe}if(at.done){oe.complete();break}if(oe.next(at.value),oe.closed)break}return"function"==typeof we.return&&oe.add(()=>{we.return&&we.return()}),oe})(H);{const we=`You provided ${(0,k.K)(H)?"an invalid object":`'${H}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(we)}}},4947:(st,xe,F)=>{F.d(xe,{V:()=>f});const f=ne=>L=>{for(let se=0,re=ne.length;se<re&&!L.closed;se++)L.next(ne[se]);L.complete()}},5879:(st,xe,F)=>{F.d(xe,{$8M:()=>kl,$WT:()=>Qo,$Z:()=>py,AFp:()=>Ht,AaK:()=>H,CHM:()=>Yp,CRH:()=>Pg,EJc:()=>TM,EiD:()=>Wb,EpF:()=>Rf,F$t:()=>dg,F4k:()=>Of,FYo:()=>c0,FiY:()=>nd,G48:()=>AT,GfV:()=>cy,Gpc:()=>at,HDt:()=>lI,Hsn:()=>Ry,JOm:()=>sd,JVY:()=>LO,JZr:()=>Ne,KtG:()=>ga,L6k:()=>Ql,LAX:()=>JA,LFG:()=>tn,Lbi:()=>eu,Lck:()=>XS,MMx:()=>Pt,MR2:()=>gd,NdJ:()=>W0,Ojb:()=>Ma,OlP:()=>ot,Oqu:()=>gg,P3R:()=>md,PXZ:()=>cn,Q6J:()=>sg,QGY:()=>q0,QbO:()=>hD,Qsj:()=>Kw,R0b:()=>jr,RDi:()=>Ub,Rgc:()=>Sg,SBq:()=>$s,Sil:()=>cT,Suo:()=>Gc,TTD:()=>Co,TgZ:()=>Vc,VuI:()=>$T,X6Q:()=>_p,XFs:()=>Ye,Xpm:()=>Un,Xq5:()=>k0,Xts:()=>lf,Y36:()=>If,YKP:()=>LC,YNc:()=>Ty,Yjl:()=>hh,Yz7:()=>ln,Z0I:()=>zn,ZZ4:()=>Xd,_Bn:()=>FC,_UZ:()=>cg,_c5:()=>FT,_uU:()=>fE,aQg:()=>Yg,c2e:()=>cI,cJS:()=>po,cg1:()=>bg,dDg:()=>Wc,dqk:()=>Ut,eBb:()=>fd,eFA:()=>wT,eJc:()=>up,ekj:()=>lE,eoX:()=>pI,f3M:()=>Lt,g9A:()=>Uw,h0i:()=>Fd,hGG:()=>qv,iGM:()=>XC,ifc:()=>et,ip1:()=>hp,jDz:()=>UE,kL8:()=>IE,lG2:()=>Np,lqb:()=>ps,lri:()=>fI,mCW:()=>$b,n5z:()=>rm,oAB:()=>Ya,oxw:()=>K0,pB0:()=>VO,q3G:()=>pd,q4F:()=>l0,qFp:()=>yp,qLn:()=>ko,qOj:()=>R0,qZA:()=>ag,qzn:()=>sf,rWj:()=>Gd,rg0:()=>lc,sBO:()=>DT,s_b:()=>pv,soG:()=>vs,tb:()=>zg,tp0:()=>Ta,uIk:()=>L0,vHH:()=>ge,vpe:()=>Pa,wAp:()=>$f,xp6:()=>LD,z2F:()=>Wd,z3N:()=>Sa,zSh:()=>Yb,zs3:()=>Er});var f=F(2079),ne=F(7902),L=F(4699),se=F(7354),re=F(5125),q=F(9193),ye=F(5705),de=F(5222),X=F(2068);function k(o){for(let s in o)if(o[s]===k)return s;throw Error("Could not find renamed property on target object.")}function j(o,s){for(const a in s)s.hasOwnProperty(a)&&!o.hasOwnProperty(a)&&(o[a]=s[a])}function H(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(H).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const s=o.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function oe(o,s){return null==o||""===o?null===s?"":s:null==s||""===s?o:o+" "+s}const we=k({__forward_ref__:k});function at(o){return o.__forward_ref__=at,o.toString=function(){return H(this())},o}function pe(o){return Fe(o)?o():o}function Fe(o){return"function"==typeof o&&o.hasOwnProperty(we)&&o.__forward_ref__===at}function Ve(o){return o&&!!o.\u0275providers}const Ne="https://g.co/ng/security#xss";class ge extends Error{constructor(s,a){super(function yt(o,s){return`NG0${Math.abs(o)}${s?": "+s:""}`}(s,a)),this.code=s}}function $e(o){return"string"==typeof o?o:null==o?"":String(o)}function Bt(o,s){throw new ge(-201,!1)}function Tn(o,s){null==o&&function ut(o,s,a,u){throw new Error(`ASSERTION ERROR: ${o}`+(null==u?"":` [Expected=> ${a} ${u} ${s} <=Actual]`))}(s,o,null,"!=")}function ln(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function po(o){return{providers:o.providers||[],imports:o.imports||[]}}function qo(o){return Is(o,Hi)||Is(o,mo)}function zn(o){return null!==qo(o)}function Is(o,s){return o.hasOwnProperty(s)?o[s]:null}function Wo(o){return o&&(o.hasOwnProperty(si)||o.hasOwnProperty(Zo))?o[si]:null}const Hi=k({\u0275prov:k}),si=k({\u0275inj:k}),mo=k({ngInjectableDef:k}),Zo=k({ngInjectorDef:k});var Ye=function(o){return o[o.Default=0]="Default",o[o.Host=1]="Host",o[o.Self=2]="Self",o[o.SkipSelf=4]="SkipSelf",o[o.Optional=8]="Optional",o}(Ye||{});let _t;function Jt(o){const s=_t;return _t=o,s}function ir(o,s,a){const u=qo(o);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:a&Ye.Optional?null:void 0!==s?s:void Bt(H(o))}const Ut=globalThis;class ot{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=ln({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Ci={},kr="__NG_DI_FLAG__",Jn="ngTempTokenPath",$=/\n/gm,Ie="__source";let le;function ft(o){const s=le;return le=o,s}function Yt(o,s=Ye.Default){if(void 0===le)throw new ge(-203,!1);return null===le?ir(o,void 0,s):le.get(o,s&Ye.Optional?null:void 0,s)}function tn(o,s=Ye.Default){return(function St(){return _t}()||Yt)(pe(o),s)}function Lt(o,s=Ye.Default){return tn(o,jt(s))}function jt(o){return typeof o>"u"||"number"==typeof o?o:0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)}function or(o){const s=[];for(let a=0;a<o.length;a++){const u=pe(o[a]);if(Array.isArray(u)){if(0===u.length)throw new ge(900,!1);let d,m=Ye.Default;for(let b=0;b<u.length;b++){const E=u[b],w=ai(E);"number"==typeof w?-1===w?d=E.token:m|=w:d=E}s.push(tn(d,m))}else s.push(tn(u))}return s}function gr(o,s){return o[kr]=s,o.prototype[kr]=s,o}function ai(o){return o[kr]}function ie(o){return{toString:o}.toString()}var Se=function(o){return o[o.OnPush=0]="OnPush",o[o.Default=1]="Default",o}(Se||{}),et=function(o){return o[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",o}(et||{});const pt={},He=[],qt=k({\u0275cmp:k}),$n=k({\u0275dir:k}),Nn=k({\u0275pipe:k}),go=k({\u0275mod:k}),er=k({\u0275fac:k}),Ti=k({__NG_ELEMENT_ID__:k}),Iu=k({__NG_ENV_ID__:k});function sa(o,s,a){let u=o.length;for(;;){const d=o.indexOf(s,a);if(-1===d)return d;if(0===d||o.charCodeAt(d-1)<=32){const m=s.length;if(d+m===u||o.charCodeAt(d+m)<=32)return d}a=d+1}}function wu(o,s,a){let u=0;for(;u<a.length;){const d=a[u];if("number"==typeof d){if(0!==d)break;u++;const m=a[u++],b=a[u++],E=a[u++];o.setAttribute(s,b,E,m)}else{const m=d,b=a[++u];ah(m)?o.setProperty(s,m,b):o.setAttribute(s,m,b),u++}}return u}function Ka(o){return 3===o||4===o||6===o}function ah(o){return 64===o.charCodeAt(0)}function _o(o,s){if(null!==s&&0!==s.length)if(null===o||0===o.length)o=s.slice();else{let a=-1;for(let u=0;u<s.length;u++){const d=s[u];"number"==typeof d?a=d:0===a||Cs(o,a,d,null,-1===a||2===a?s[++u]:null)}}return o}function Cs(o,s,a,u,d){let m=0,b=o.length;if(-1===s)b=-1;else for(;m<o.length;){const E=o[m++];if("number"==typeof E){if(E===s){b=-1;break}if(E>s){b=m-1;break}}}for(;m<o.length;){const E=o[m];if("number"==typeof E)break;if(E===a){if(null===u)return void(null!==d&&(o[m+1]=d));if(u===o[m+1])return void(o[m+2]=d)}m++,null!==u&&m++,null!==d&&m++}-1!==b&&(o.splice(b,0,s),m=b+1),o.splice(m++,0,a),null!==u&&o.splice(m++,0,u),null!==d&&o.splice(m++,0,d)}const Ts="ng-template";function ci(o,s,a){let u=0,d=!0;for(;u<o.length;){let m=o[u++];if("string"==typeof m&&d){const b=o[u++];if(a&&"class"===m&&-1!==sa(b.toLowerCase(),s,0))return!0}else{if(1===m){for(;u<o.length&&"string"==typeof(m=o[u++]);)if(m.toLowerCase()===s)return!0;return!1}"number"==typeof m&&(d=!1)}}return!1}function ch(o){return 4===o.type&&o.value!==Ts}function Qr(o,s,a){return s===(4!==o.type||a?o.value:Ts)}function lh(o,s,a){let u=4;const d=o.attrs||[],m=function xu(o){for(let s=0;s<o.length;s++)if(Ka(o[s]))return s;return o.length}(d);let b=!1;for(let E=0;E<s.length;E++){const w=s[E];if("number"!=typeof w){if(!b)if(4&u){if(u=2|1&u,""!==w&&!Qr(o,w,a)||""===w&&1===s.length){if(Bn(u))return!1;b=!0}}else{const S=8&u?w:s[++E];if(8&u&&null!==o.attrs){if(!ci(o.attrs,S,a)){if(Bn(u))return!1;b=!0}continue}const U=Yo(8&u?"class":w,d,ch(o),a);if(-1===U){if(Bn(u))return!1;b=!0;continue}if(""!==S){let Y;Y=U>m?"":d[U+1].toLowerCase();const te=8&u?Y:null;if(te&&-1!==sa(te,S,0)||2&u&&S!==Y){if(Bn(u))return!1;b=!0}}}}else{if(!b&&!Bn(u)&&!Bn(w))return!1;if(b&&Bn(w))continue;b=!1,u=w|1&u}}return Bn(u)||b}function Bn(o){return 0==(1&o)}function Yo(o,s,a,u){if(null===s)return-1;let d=0;if(u||!a){let m=!1;for(;d<s.length;){const b=s[d];if(b===o)return d;if(3===b||6===b)m=!0;else{if(1===b||2===b){let E=s[++d];for(;"string"==typeof E;)E=s[++d];continue}if(4===b)break;if(0===b){d+=4;continue}}d+=m?1:2}return-1}return function uh(o,s){let a=o.indexOf(4);if(a>-1)for(a++;a<o.length;){const u=o[a];if("number"==typeof u)return-1;if(u===s)return a;a++}return-1}(s,o)}function As(o,s,a=!1){for(let u=0;u<s.length;u++)if(lh(o,s[u],a))return!0;return!1}function Cu(o,s){e:for(let a=0;a<s.length;a++){const u=s[a];if(o.length===u.length){for(let d=0;d<o.length;d++)if(o[d]!==u[d])continue e;return!0}}return!1}function Tu(o,s){return o?":not("+s.trim()+")":s}function nl(o){let s=o[0],a=1,u=2,d="",m=!1;for(;a<o.length;){let b=o[a];if("string"==typeof b)if(2&u){const E=o[++a];d+="["+b+(E.length>0?'="'+E+'"':"")+"]"}else 8&u?d+="."+b:4&u&&(d+=" "+b);else""!==d&&!Bn(b)&&(s+=Tu(m,d),d=""),u=b,m=m||!Bn(u);a++}return""!==d&&(s+=Tu(m,d)),s}function Un(o){return ie(()=>{const s=fh(o),a={...s,decls:o.decls,vars:o.vars,template:o.template,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,onPush:o.changeDetection===Se.OnPush,directiveDefs:null,pipeDefs:null,dependencies:s.standalone&&o.dependencies||null,getStandaloneInjector:null,signals:o.signals??!1,data:o.data||{},encapsulation:o.encapsulation||et.Emulated,styles:o.styles||He,_:null,schemas:o.schemas||null,tView:null,id:""};kp(a);const u=o.dependencies;return a.directiveDefs=Xa(u,!1),a.pipeDefs=Xa(u,!0),a.id=function Fp(o){let s=0;const a=[o.selectors,o.ngContentSelectors,o.hostVars,o.hostAttrs,o.consts,o.vars,o.decls,o.encapsulation,o.standalone,o.signals,o.exportAs,JSON.stringify(o.inputs),JSON.stringify(o.outputs),Object.getOwnPropertyNames(o.type.prototype),!!o.contentQueries,!!o.viewQuery].join("|");for(const d of a)s=Math.imul(31,s)+d.charCodeAt(0)<<0;return s+=2147483648,"c"+s}(a),a})}function Pp(o){return zt(o)||sr(o)}function Rp(o){return null!==o}function Ya(o){return ie(()=>({type:o.type,bootstrap:o.bootstrap||He,declarations:o.declarations||He,imports:o.imports||He,exports:o.exports||He,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null}))}function Qa(o,s){if(null==o)return pt;const a={};for(const u in o)if(o.hasOwnProperty(u)){let d=o[u],m=d;Array.isArray(d)&&(m=d[1],d=d[0]),a[d]=u,s&&(s[d]=m)}return a}function Np(o){return ie(()=>{const s=fh(o);return kp(s),s})}function hh(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function zt(o){return o[qt]||null}function sr(o){return o[$n]||null}function Ar(o){return o[Nn]||null}function Qo(o){const s=zt(o)||sr(o)||Ar(o);return null!==s&&s.standalone}function Wt(o,s){const a=o[go]||null;if(!a&&!0===s)throw new Error(`Type ${H(o)} does not have '\u0275mod' property.`);return a}function fh(o){const s={};return{type:o.type,providersResolver:null,factory:null,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:s,inputTransforms:null,inputConfig:o.inputs||pt,exportAs:o.exportAs||null,standalone:!0===o.standalone,signals:!0===o.signals,selectors:o.selectors||He,viewQuery:o.viewQuery||null,features:o.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Qa(o.inputs,s),outputs:Qa(o.outputs)}}function kp(o){o.features?.forEach(s=>s(o))}function Xa(o,s){if(!o)return null;const a=s?Ar:Pp;return()=>("function"==typeof o?o():o).map(u=>a(u)).filter(Rp)}const An=0,Ke=1,At=2,Xt=3,Dr=4,rl=5,ar=6,yo=7,Dn=8,vo=9,$i=10,bt=11,aa=12,ec=13,Gi=14,kn=15,ca=16,Ds=17,Ai=18,Ss=19,Au=20,Jr=21,qi=22,Wi=23,Ms=24,$t=25,tc=1,Ps=2,li=7,bo=9,_r=11;function Fr(o){return Array.isArray(o)&&"object"==typeof o[tc]}function tr(o){return Array.isArray(o)&&!0===o[tc]}function Rs(o){return 0!=(4&o.flags)}function yr(o){return o.componentOffset>-1}function rc(o){return 1==(1&o.flags)}function Di(o){return!!o.template}function ui(o){return 0!=(512&o[At])}function di(o,s){return o.hasOwnProperty(er)?o[er]:null}let Fn=null,ks=!1;function pn(o){const s=Fn;return Fn=o,s}const Ru={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function ll(o){if(!es(o)||o.dirty){if(!o.producerMustRecompute(o)&&!Fu(o))return void(o.dirty=!1);o.producerRecomputeValue(o),o.dirty=!1}}function ku(o){o.dirty=!0,function Jo(o){if(void 0===o.liveConsumerNode)return;const s=ks;ks=!0;try{for(const a of o.liveConsumerNode)a.dirty||ku(a)}finally{ks=s}}(o),o.consumerMarkedDirty?.(o)}function mh(o){return o&&(o.nextProducerIndex=0),pn(o)}function ul(o,s){if(pn(s),o&&void 0!==o.producerNode&&void 0!==o.producerIndexOfThis&&void 0!==o.producerLastReadVersion){if(es(o))for(let a=o.nextProducerIndex;a<o.producerNode.length;a++)oc(o.producerNode[a],o.producerIndexOfThis[a]);for(;o.producerNode.length>o.nextProducerIndex;)o.producerNode.pop(),o.producerLastReadVersion.pop(),o.producerIndexOfThis.pop()}}function Fu(o){Fs(o);for(let s=0;s<o.producerNode.length;s++){const a=o.producerNode[s],u=o.producerLastReadVersion[s];if(u!==a.version||(ll(a),u!==a.version))return!0}return!1}function Lu(o){if(Fs(o),es(o))for(let s=0;s<o.producerNode.length;s++)oc(o.producerNode[s],o.producerIndexOfThis[s]);o.producerNode.length=o.producerLastReadVersion.length=o.producerIndexOfThis.length=0,o.liveConsumerNode&&(o.liveConsumerNode.length=o.liveConsumerIndexOfThis.length=0)}function oc(o,s){if(function dl(o){o.liveConsumerNode??=[],o.liveConsumerIndexOfThis??=[]}(o),Fs(o),1===o.liveConsumerNode.length)for(let u=0;u<o.producerNode.length;u++)oc(o.producerNode[u],o.producerIndexOfThis[u]);const a=o.liveConsumerNode.length-1;if(o.liveConsumerNode[s]=o.liveConsumerNode[a],o.liveConsumerIndexOfThis[s]=o.liveConsumerIndexOfThis[a],o.liveConsumerNode.length--,o.liveConsumerIndexOfThis.length--,s<o.liveConsumerNode.length){const u=o.liveConsumerIndexOfThis[s],d=o.liveConsumerNode[s];Fs(d),d.producerIndexOfThis[u]=s}}function es(o){return o.consumerIsAlwaysLive||(o?.liveConsumerNode?.length??0)>0}function Fs(o){o.producerNode??=[],o.producerIndexOfThis??=[],o.producerLastReadVersion??=[]}let sc=null;function lc(o){const s=pn(null);try{return o()}finally{pn(s)}}const ua=()=>{},ju=(()=>({...Ru,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:o=>{o.schedule(o.ref)},hasRun:!1,cleanupFn:ua}))();class bh{constructor(s,a,u){this.previousValue=s,this.currentValue=a,this.firstChange=u}isFirstChange(){return this.firstChange}}function Co(){return Eh}function Eh(o){return o.type.prototype.ngOnChanges&&(o.setInput=da),ml}function ml(){const o=Ih(this),s=o?.current;if(s){const a=o.previous;if(a===pt)o.previous=s;else for(let u in s)a[u]=s[u];o.current=null,this.ngOnChanges(s)}}function da(o,s,a,u){const d=this.declaredInputs[a],m=Ih(o)||function qp(o,s){return o[uc]=s}(o,{previous:pt,current:null}),b=m.current||(m.current={}),E=m.previous,w=E[d];b[d]=new bh(w&&w.currentValue,s,E===pt),o[u]=s}Co.ngInherit=!0;const uc="__ngSimpleChanges__";function Ih(o){return o[uc]||null}const dn=function(o,s,a){};function sn(o){for(;Array.isArray(o);)o=o[An];return o}function fa(o,s){return sn(s[o])}function ei(o,s){return sn(s[o.index])}function wh(o,s){return o.data[s]}function Lr(o,s){const a=s[o];return Fr(a)?a:a[An]}function ts(o,s){return null==s?null:o[s]}function Ch(o){o[Ds]=0}function Wp(o){1024&o[At]||(o[At]|=1024,yl(o,1))}function $u(o){1024&o[At]&&(o[At]&=-1025,yl(o,-1))}function yl(o,s){let a=o[Xt];if(null===a)return;a[rl]+=s;let u=a;for(a=a[Xt];null!==a&&(1===s&&1===u[rl]||-1===s&&0===u[rl]);)a[rl]+=s,u=a,a=a[Xt]}const Et={lFrame:mt(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Sh(){return Et.bindingsEnabled}function ma(){return null!==Et.skipHydrationRootTNode}function Te(){return Et.lFrame.lView}function Ot(){return Et.lFrame.tView}function Yp(o){return Et.lFrame.contextLView=o,o[Dn]}function ga(o){return Et.lFrame.contextLView=null,o}function _n(){let o=Vs();for(;null!==o&&64===o.type;)o=o.parent;return o}function Vs(){return Et.lFrame.currentTNode}function Si(o,s){const a=Et.lFrame;a.currentTNode=o,a.isParent=s}function El(){return Et.lFrame.isParent}function Zu(){Et.lFrame.isParent=!1}function nr(){return Et.lFrame.bindingIndex++}function y_(o,s){const a=Et.lFrame;a.bindingIndex=a.bindingRootIndex=o,Qi(s)}function Qi(o){Et.lFrame.currentDirectiveIndex=o}function v_(){return Et.lFrame.currentQueryIndex}function Ph(o){Et.lFrame.currentQueryIndex=o}function xl(o){const s=o[Ke];return 2===s.type?s.declTNode:1===s.type?o[ar]:null}function Sn(o,s,a){if(a&Ye.SkipSelf){let d=s,m=o;for(;!(d=d.parent,null!==d||a&Ye.Host||(d=xl(m),null===d||(m=m[Gi],10&d.type))););if(null===d)return!1;s=d,o=m}const u=Et.lFrame=Cl();return u.currentTNode=s,u.lView=o,!0}function an(o){const s=Cl(),a=o[Ke];Et.lFrame=s,s.currentTNode=a.firstChild,s.lView=o,s.tView=a,s.contextLView=o,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function Cl(){const o=Et.lFrame,s=null===o?null:o.child;return null===s?mt(o):s}function mt(o){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=s),s}function Xp(){const o=Et.lFrame;return Et.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const Tl=Xp;function ns(){const o=Xp();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function In(){return Et.lFrame.selectedIndex}function To(o){Et.lFrame.selectedIndex=o}function yn(){const o=Et.lFrame;return wh(o.tView,o.selectedIndex)}let mc=!0;function Gn(){return mc}function lr(o){mc=o}function Ao(o,s){for(let a=s.directiveStart,u=s.directiveEnd;a<u;a++){const m=o.data[a].type.prototype,{ngAfterContentInit:b,ngAfterContentChecked:E,ngAfterViewInit:w,ngAfterViewChecked:S,ngOnDestroy:O}=m;b&&(o.contentHooks??=[]).push(-a,b),E&&((o.contentHooks??=[]).push(a,E),(o.contentCheckHooks??=[]).push(a,E)),w&&(o.viewHooks??=[]).push(-a,w),S&&((o.viewHooks??=[]).push(a,S),(o.viewCheckHooks??=[]).push(a,S)),null!=O&&(o.destroyHooks??=[]).push(a,O)}}function ya(o,s,a){gc(o,s,3,a)}function va(o,s,a,u){(3&o[At])===a&&gc(o,s,a,u)}function Ji(o,s){let a=o[At];(3&a)===s&&(a&=8191,a+=1,o[At]=a)}function gc(o,s,a,u){const m=u??-1,b=s.length-1;let E=0;for(let w=void 0!==u?65535&o[Ds]:0;w<b;w++)if("number"==typeof s[w+1]){if(E=s[w],null!=u&&E>=u)break}else s[w]<0&&(o[Ds]+=65536),(E<m||-1==m)&&(Sl(o,a,s,w),o[Ds]=(4294901760&o[Ds])+w+2),w++}function Dl(o,s){dn(4,o,s);const a=pn(null);try{s.call(o)}finally{pn(a),dn(5,o,s)}}function Sl(o,s,a,u){const d=a[u]<0,m=a[u+1],E=o[d?-a[u]:a[u]];d?o[At]>>13<o[Ds]>>16&&(3&o[At])===s&&(o[At]+=8192,Dl(E,m)):Dl(E,m)}const Do=-1;class _c{constructor(s,a,u){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=u}}function Pi(o){return o!==Do}function Ea(o){return 32767&o}function yc(o,s){let a=function eo(o){return o>>16}(o),u=s;for(;a>0;)u=u[Gi],a--;return u}let Yu=!0;function Ia(o){const s=Yu;return Yu=o,s}const vc=255,Rl=5;let x=0;const T={};function B(o,s){const a=ce(o,s);if(-1!==a)return a;const u=s[Ke];u.firstCreatePass&&(o.injectorIndex=s.length,K(u.data,o),K(s,null),K(u.blueprint,null));const d=ve(o,s),m=o.injectorIndex;if(Pi(d)){const b=Ea(d),E=yc(d,s),w=E[Ke].data;for(let S=0;S<8;S++)s[m+S]=E[b+S]|w[b+S]}return s[m+8]=d,m}function K(o,s){o.push(0,0,0,0,0,0,0,0,s)}function ce(o,s){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===s[o.injectorIndex+8]?-1:o.injectorIndex}function ve(o,s){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let a=0,u=null,d=s;for(;null!==d;){if(u=Nl(d),null===u)return Do;if(a++,d=d[Gi],-1!==u.injectorIndex)return u.injectorIndex|a<<16}return Do}function Ge(o,s,a){!function R(o,s,a){let u;"string"==typeof a?u=a.charCodeAt(0)||0:a.hasOwnProperty(Ti)&&(u=a[Ti]),null==u&&(u=a[Ti]=x++);const d=u&vc;s.data[o+(d>>Rl)]|=1<<d}(o,s,a)}function Xe(o,s,a){if(a&Ye.Optional||void 0!==o)return o;Bt()}function wt(o,s,a,u){if(a&Ye.Optional&&void 0===u&&(u=null),!(a&(Ye.Self|Ye.Host))){const d=o[vo],m=Jt(void 0);try{return d?d.get(s,u,a&Ye.Optional):ir(s,u,a&Ye.Optional)}finally{Jt(m)}}return Xe(u,0,a)}function Ct(o,s,a,u=Ye.Default,d){if(null!==o){if(2048&s[At]&&!(u&Ye.Self)){const b=function Fh(o,s,a,u,d){let m=o,b=s;for(;null!==m&&null!==b&&2048&b[At]&&!(512&b[At]);){const E=Pr(m,b,a,u|Ye.Self,T);if(E!==T)return E;let w=m.parent;if(!w){const S=b[Au];if(S){const O=S.get(a,T,u);if(O!==T)return O}w=Nl(b),b=b[Gi]}m=w}return d}(o,s,a,u,T);if(b!==T)return b}const m=Pr(o,s,a,u,T);if(m!==T)return m}return wt(s,a,u,d)}function Pr(o,s,a,u,d){const m=function Ol(o){if("string"==typeof o)return o.charCodeAt(0)||0;const s=o.hasOwnProperty(Ti)?o[Ti]:void 0;return"number"==typeof s?s>=0?s&vc:kh:s}(a);if("function"==typeof m){if(!Sn(s,o,u))return u&Ye.Host?Xe(d,0,u):wt(s,a,u,d);try{let b;if(b=m(u),null!=b||u&Ye.Optional)return b;Bt()}finally{Tl()}}else if("number"==typeof m){let b=null,E=ce(o,s),w=Do,S=u&Ye.Host?s[kn][ar]:null;for((-1===E||u&Ye.SkipSelf)&&(w=-1===E?ve(o,s):s[E+8],w!==Do&&to(u,!1)?(b=s[Ke],E=Ea(w),s=yc(w,s)):E=-1);-1!==E;){const O=s[Ke];if(Ri(m,E,O.data)){const U=ur(E,s,a,b,u,S);if(U!==T)return U}w=s[E+8],w!==Do&&to(u,s[Ke].data[E+8]===S)&&Ri(m,E,s)?(b=O,E=Ea(w),s=yc(w,s)):E=-1}}return d}function ur(o,s,a,u,d,m){const b=s[Ke],E=b.data[o+8],O=is(E,b,a,null==u?yr(E)&&Yu:u!=b&&0!=(3&E.type),d&Ye.Host&&m===E);return null!==O?Mo(s,b,O,E):T}function is(o,s,a,u,d){const m=o.providerIndexes,b=s.data,E=1048575&m,w=o.directiveStart,O=m>>20,Y=d?E+O:o.directiveEnd;for(let te=u?E:E+O;te<Y;te++){const Ee=b[te];if(te<w&&a===Ee||te>=w&&Ee.type===a)return te}if(d){const te=b[w];if(te&&Di(te)&&te.type===a)return w}return null}function Mo(o,s,a,u){let d=o[a];const m=s.data;if(function ba(o){return o instanceof _c}(d)){const b=d;b.resolving&&function it(o,s){const a=s?`. Dependency path: ${s.join(" > ")} > ${o}`:"";throw new ge(-200,`Circular dependency in DI detected for ${o}${a}`)}(function nt(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():$e(o)}(m[a]));const E=Ia(b.canSeeViewProviders);b.resolving=!0;const S=b.injectImpl?Jt(b.injectImpl):null;Sn(o,u,Ye.Default);try{d=o[a]=b.factory(void 0,m,o,u),s.firstCreatePass&&a>=u.directiveStart&&function Oh(o,s,a){const{ngOnChanges:u,ngOnInit:d,ngDoCheck:m}=s.type.prototype;if(u){const b=Eh(s);(a.preOrderHooks??=[]).push(o,b),(a.preOrderCheckHooks??=[]).push(o,b)}d&&(a.preOrderHooks??=[]).push(0-o,d),m&&((a.preOrderHooks??=[]).push(o,m),(a.preOrderCheckHooks??=[]).push(o,m))}(a,m[a],s)}finally{null!==S&&Jt(S),Ia(E),b.resolving=!1,Tl()}}return d}function Ri(o,s,a){return!!(a[s+(o>>Rl)]&1<<o)}function to(o,s){return!(o&Ye.Self||o&Ye.Host&&s)}class ti{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,u){return Ct(this._tNode,this._lView,s,jt(u),a)}}function kh(){return new ti(_n(),Te())}function rm(o){return ie(()=>{const s=o.prototype.constructor,a=s[er]||I_(s),u=Object.prototype;let d=Object.getPrototypeOf(o.prototype).constructor;for(;d&&d!==u;){const m=d[er]||I_(d);if(m&&m!==a)return m;d=Object.getPrototypeOf(d)}return m=>new m})}function I_(o){return Fe(o)?()=>{const s=I_(pe(o));return s&&s()}:di(o)}function Nl(o){const s=o[Ke],a=s.type;return 2===a?s.declTNode:1===a?o[ar]:null}function kl(o){return function je(o,s){if("class"===s)return o.classes;if("style"===s)return o.styles;const a=o.attrs;if(a){const u=a.length;let d=0;for(;d<u;){const m=a[d];if(Ka(m))break;if(0===m)d+=2;else if("number"==typeof m)for(d++;d<u&&"string"==typeof a[d];)d++;else{if(m===s)return a[d+1];d+=2}}}return null}(_n(),o)}const no="__parameters__";function Ic(o,s,a){return ie(()=>{const u=function Ec(o){return function(...a){if(o){const u=o(...a);for(const d in u)this[d]=u[d]}}}(s);function d(...m){if(this instanceof d)return u.apply(this,m),this;const b=new d(...m);return E.annotation=b,E;function E(w,S,O){const U=w.hasOwnProperty(no)?w[no]:Object.defineProperty(w,no,{value:[]})[no];for(;U.length<=O;)U.push(null);return(U[O]=U[O]||[]).push(b),w}}return a&&(d.prototype=Object.create(a.prototype)),d.prototype.ngMetadataName=o,d.annotationCls=d,d})}function xa(o,s){o.forEach(a=>Array.isArray(a)?xa(a,s):s(a))}function Fl(o,s,a){s>=o.length?o.push(a):o.splice(s,0,a)}function ed(o,s){return s>=o.length-1?o.pop():o.splice(s,1)[0]}function Ll(o,s){const a=[];for(let u=0;u<o;u++)a.push(s);return a}function ro(o,s,a){let u=as(o,s);return u>=0?o[1|u]=a:(u=~u,function Vh(o,s,a,u){let d=o.length;if(d==s)o.push(a,u);else if(1===d)o.push(u,o[0]),o[0]=a;else{for(d--,o.push(o[d-1],o[d]);d>s;)o[d]=o[d-2],d--;o[s]=a,o[s+1]=u}}(o,u,s,a)),u}function sm(o,s){const a=as(o,s);if(a>=0)return o[1|a]}function as(o,s){return function Eb(o,s,a){let u=0,d=o.length>>a;for(;d!==u;){const m=u+(d-u>>1),b=o[m<<a];if(s===b)return m<<a;b>s?d=m:u=m+1}return~(d<<a)}(o,s,1)}const nd=gr(Ic("Optional"),8),Ta=gr(Ic("SkipSelf"),4);function qh(o){return 128==(128&o.flags)}var sd=function(o){return o[o.Important=1]="Important",o[o.DashCase=2]="DashCase",o}(sd||{});const ad=new Map;let _m=0;const Wh="__ngContext__";function Vr(o,s){Fr(s)?(o[Wh]=s[Ss],function Gl(o){ad.set(o[Ss],o)}(s)):o[Wh]=s}let U_;function bm(o,s){return U_(o,s)}function Ac(o){const s=o[Xt];return tr(s)?s[Xt]:s}function js(o){return wn(o[aa])}function gi(o){return wn(o[Dr])}function wn(o){for(;null!==o&&!tr(o);)o=o[Dr];return o}function cs(o,s,a,u,d){if(null!=u){let m,b=!1;tr(u)?m=u:Fr(u)&&(b=!0,u=u[An]);const E=sn(u);0===o&&null!==a?null==d?Im(s,a,E):Oo(s,a,E,d||null,!0):1===o&&null!==a?Oo(s,a,E,d||null,!0):2===o?function W(o,s,a){const u=ef(o,s);u&&function H_(o,s,a,u){o.removeChild(s,a,u)}(o,u,s,a)}(s,E,b):3===o&&s.destroyNode(E),null!=m&&function jn(o,s,a,u,d){const m=a[li];m!==sn(a)&&cs(s,o,u,m,d);for(let E=_r;E<a.length;E++){const w=a[E];Oe(w[Ke],w,o,s,u,m)}}(s,o,m,a,d)}}function ql(o,s,a){return o.createElement(s,a)}function j_(o,s){const a=o[bo],u=a.indexOf(s);$u(s),a.splice(u,1)}function Yh(o,s){if(o.length<=_r)return;const a=_r+s,u=o[a];if(u){const d=u[ca];null!==d&&d!==o&&j_(d,u),s>0&&(o[a-1][Dr]=u[Dr]);const m=ed(o,_r+s);!function Vb(o,s){Oe(o,s,s[bt],2,null,null),s[An]=null,s[ar]=null}(u[Ke],u);const b=m[Ai];null!==b&&b.detachView(m[Ke]),u[Xt]=null,u[Dr]=null,u[At]&=-129}return u}function Qh(o,s){if(!(256&s[At])){const a=s[bt];s[Wi]&&Lu(s[Wi]),s[Ms]&&Lu(s[Ms]),a.destroyNode&&Oe(o,s,a,3,null,null),function Po(o){let s=o[aa];if(!s)return Br(o[Ke],o);for(;s;){let a=null;if(Fr(s))a=s[aa];else{const u=s[_r];u&&(a=u)}if(!a){for(;s&&!s[Dr]&&s!==o;)Fr(s)&&Br(s[Ke],s),s=s[Xt];null===s&&(s=o),Fr(s)&&Br(s[Ke],s),a=s&&s[Dr]}s=a}}(s)}}function Br(o,s){if(!(256&s[At])){s[At]&=-129,s[At]|=256,function Wl(o,s){let a;if(null!=o&&null!=(a=o.destroyHooks))for(let u=0;u<a.length;u+=2){const d=s[a[u]];if(!(d instanceof _c)){const m=a[u+1];if(Array.isArray(m))for(let b=0;b<m.length;b+=2){const E=d[m[b]],w=m[b+1];dn(4,E,w);try{w.call(E)}finally{dn(5,E,w)}}else{dn(4,d,m);try{m.call(d)}finally{dn(5,d,m)}}}}}(o,s),function Xh(o,s){const a=o.cleanup,u=s[yo];if(null!==a)for(let m=0;m<a.length-1;m+=2)if("string"==typeof a[m]){const b=a[m+3];b>=0?u[b]():u[-b].unsubscribe(),m+=2}else a[m].call(u[a[m+1]]);null!==u&&(s[yo]=null);const d=s[Jr];if(null!==d){s[Jr]=null;for(let m=0;m<d.length;m++)(0,d[m])()}}(o,s),1===s[Ke].type&&s[bt].destroy();const a=s[ca];if(null!==a&&tr(s[Xt])){a!==s[Xt]&&j_(a,s);const u=s[Ai];null!==u&&u.detachView(o)}!function ym(o){ad.delete(o[Ss])}(s)}}function us(o,s,a){return function Hs(o,s,a){let u=s;for(;null!==u&&40&u.type;)u=(s=u).parent;if(null===u)return a[An];{const{componentOffset:d}=u;if(d>-1){const{encapsulation:m}=o.data[u.directiveStart+d];if(m===et.None||m===et.Emulated)return null}return ei(u,a)}}(o,s.parent,a)}function Oo(o,s,a,u,d){o.insertBefore(s,a,u,d)}function Im(o,s,a){o.appendChild(s,a)}function Jh(o,s,a,u,d){null!==u?Oo(o,s,a,u,d):Im(o,s,a)}function ef(o,s){return o.parentNode(s)}function Dc(o,s,a){return _(o,s,a)}let h,hd,nf,xm,_=function tf(o,s,a){return 40&o.type?ei(o,a):null};function v(o,s,a,u){const d=us(o,u,s),m=s[bt],E=Dc(u.parent||s[ar],u,s);if(null!=d)if(Array.isArray(a))for(let w=0;w<a.length;w++)Jh(m,d,a[w],E,!1);else Jh(m,d,a,E,!1);void 0!==h&&h(m,u,s,a,d)}function C(o,s){if(null!==s){const a=s.type;if(3&a)return ei(s,o);if(4&a)return V(-1,o[s.index]);if(8&a){const u=s.child;if(null!==u)return C(o,u);{const d=o[s.index];return tr(d)?V(-1,d):sn(d)}}if(32&a)return bm(s,o)()||sn(o[s.index]);{const u=M(o,s);return null!==u?Array.isArray(u)?u[0]:C(Ac(o[kn]),u):C(o,s.next)}}return null}function M(o,s){return null!==s?o[kn][ar].projection[s.projection]:null}function V(o,s){const a=_r+o+1;if(a<s.length){const u=s[a],d=u[Ke].firstChild;if(null!==d)return C(u,d)}return s[li]}function _e(o,s,a,u,d,m,b){for(;null!=a;){const E=u[a.index],w=a.type;if(b&&0===s&&(E&&Vr(sn(E),u),a.flags|=2),32!=(32&a.flags))if(8&w)_e(o,s,a.child,u,d,m,!1),cs(s,o,d,E,m);else if(32&w){const S=bm(a,u);let O;for(;O=S();)cs(s,o,d,O,m);cs(s,o,d,E,m)}else 16&w?Mt(o,s,u,a,d,m):cs(s,o,d,E,m);a=b?a.projectionNext:a.next}}function Oe(o,s,a,u,d,m){_e(a,u,o.firstChild,s,d,m,!1)}function Mt(o,s,a,u,d,m){const b=a[kn],w=b[ar].projection[u.projection];if(Array.isArray(w))for(let S=0;S<w.length;S++)cs(s,o,d,w[S],m);else{let S=w;const O=b[Xt];qh(u)&&(S.flags|=128),_e(o,s,S,O,d,m,!0)}}function Ur(o,s,a){""===a?o.removeAttribute(s,"class"):o.setAttribute(s,"class",a)}function ds(o,s,a){const{mergedAttrs:u,classes:d,styles:m}=a;null!==u&&wu(o,s,u),null!==d&&Ur(o,s,d),null!==m&&function No(o,s,a){o.setAttribute(s,"style",a)}(o,s,m)}function Kl(o){return function Zl(){if(void 0===hd&&(hd=null,Ut.trustedTypes))try{hd=Ut.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return hd}()?.createHTML(o)||o}function Ub(o){nf=o}function Tw(o){return function jb(){if(void 0===xm&&(xm=null,Ut.trustedTypes))try{xm=Ut.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return xm}()?.createScriptURL(o)||o}class Yl{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ne})`}}class Hb extends Yl{getTypeName(){return"HTML"}}class YA extends Yl{getTypeName(){return"Style"}}class Aw extends Yl{getTypeName(){return"Script"}}class QA extends Yl{getTypeName(){return"URL"}}class Dw extends Yl{getTypeName(){return"ResourceURL"}}function Sa(o){return o instanceof Yl?o.changingThisBreaksApplicationSecurity:o}function sf(o,s){const a=function XA(o){return o instanceof Yl&&o.getTypeName()||null}(o);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see ${Ne})`)}return a===s}function LO(o){return new Hb(o)}function Ql(o){return new YA(o)}function fd(o){return new Aw(o)}function JA(o){return new QA(o)}function VO(o){return new Dw(o)}class eD{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const a=(new window.DOMParser).parseFromString(Kl(s),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(s):(a.removeChild(a.firstChild),a)}catch{return null}}}class BO{constructor(s){this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(s){const a=this.inertDocument.createElement("template");return a.innerHTML=Kl(s),a}}const jO=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function $b(o){return(o=String(o)).match(jO)?o:"unsafe:"+o}function Xl(o){const s={};for(const a of o.split(","))s[a]=!0;return s}function $_(...o){const s={};for(const a of o)for(const u in a)a.hasOwnProperty(u)&&(s[u]=!0);return s}const Sw=Xl("area,br,col,hr,img,wbr"),tD=Xl("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Cm=Xl("rp,rt"),Gb=$_(Sw,$_(tD,Xl("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),$_(Cm,Xl("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),$_(Cm,tD)),qb=Xl("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),hs=$_(qb,Xl("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Xl("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Mw=Xl("script,style,template");class nD{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let a=s.firstChild,u=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?u=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,u&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let d=this.checkClobberedElement(a,a.nextSibling);if(d){a=d;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(s){const a=s.nodeName.toLowerCase();if(!Gb.hasOwnProperty(a))return this.sanitizedSomething=!0,!Mw.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const u=s.attributes;for(let d=0;d<u.length;d++){const m=u.item(d),b=m.name,E=b.toLowerCase();if(!hs.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let w=m.value;qb[E]&&(w=$b(w)),this.buf.push(" ",b,'="',Pw(w),'"')}return this.buf.push(">"),!0}endElement(s){const a=s.nodeName.toLowerCase();Gb.hasOwnProperty(a)&&!Sw.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(s){this.buf.push(Pw(s))}checkClobberedElement(s,a){if(a&&(s.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return a}}const rD=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,iD=/([^\#-~ |!])/g;function Pw(o){return o.replace(/&/g,"&amp;").replace(rD,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(iD,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let G_;function Wb(o,s){let a=null;try{G_=G_||function zb(o){const s=new BO(o);return function UO(){try{return!!(new window.DOMParser).parseFromString(Kl(""),"text/html")}catch{return!1}}()?new eD(s):s}(o);let u=s?String(s):"";a=G_.getInertBodyElement(u);let d=5,m=u;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,u=m,m=a.innerHTML,a=G_.getInertBodyElement(u)}while(u!==m);return Kl((new nD).sanitizeChildren(af(a)||a))}finally{if(a){const u=af(a)||a;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function af(o){return"content"in o&&function oD(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var pd=function(o){return o[o.NONE=0]="NONE",o[o.HTML=1]="HTML",o[o.STYLE=2]="STYLE",o[o.SCRIPT=3]="SCRIPT",o[o.URL=4]="URL",o[o.RESOURCE_URL=5]="RESOURCE_URL",o}(pd||{});function cf(o){const s=Z_();return s?s.sanitize(pd.URL,o)||"":sf(o,"URL")?Sa(o):$b($e(o))}function Rw(o){const s=Z_();if(s)return Tw(s.sanitize(pd.RESOURCE_URL,o)||"");if(sf(o,"ResourceURL"))return Tw(Sa(o));throw new ge(904,!1)}function md(o,s,a){return function sD(o,s){return"src"===s&&("embed"===o||"frame"===o||"iframe"===o||"media"===o||"script"===o)||"href"===s&&("base"===o||"link"===o)?Rw:cf}(s,a)(o)}function Z_(){const o=Te();return o&&o[$i].sanitizer}const lf=new ot("ENVIRONMENT_INITIALIZER"),Jl=new ot("INJECTOR",-1),Nw=new ot("INJECTOR_DEF_TYPES");class Zb{get(s,a=Ci){if(a===Ci){const u=new Error(`NullInjectorError: No provider for ${H(s)}!`);throw u.name="NullInjectorError",u}return a}}function gd(o){return{\u0275providers:o}}function K_(...o){return{\u0275providers:kw(0,o),\u0275fromNgModule:!0}}function kw(o,...s){const a=[],u=new Set;let d;const m=b=>{a.push(b)};return xa(s,b=>{const E=b;Tm(E,m,[],u)&&(d||=[],d.push(E))}),void 0!==d&&Fw(d,m),a}function Fw(o,s){for(let a=0;a<o.length;a++){const{ngModule:u,providers:d}=o[a];Kb(d,m=>{s(m,u)})}}function Tm(o,s,a,u){if(!(o=pe(o)))return!1;let d=null,m=Wo(o);const b=!m&&zt(o);if(m||b){if(b&&!b.standalone)return!1;d=o}else{const w=o.ngModule;if(m=Wo(w),!m)return!1;d=w}const E=u.has(d);if(b){if(E)return!1;if(u.add(d),b.dependencies){const w="function"==typeof b.dependencies?b.dependencies():b.dependencies;for(const S of w)Tm(S,s,a,u)}}else{if(!m)return!1;{if(null!=m.imports&&!E){let S;u.add(d);try{xa(m.imports,O=>{Tm(O,s,a,u)&&(S||=[],S.push(O))})}finally{}void 0!==S&&Fw(S,s)}if(!E){const S=di(d)||(()=>new d);s({provide:d,useFactory:S,deps:He},d),s({provide:Nw,useValue:d,multi:!0},d),s({provide:lf,useValue:()=>tn(d),multi:!0},d)}const w=m.providers;if(null!=w&&!E){const S=o;Kb(w,O=>{s(O,S)})}}}return d!==o&&void 0!==o.providers}function Kb(o,s){for(let a of o)Ve(a)&&(a=a.\u0275providers),Array.isArray(a)?Kb(a,s):s(a)}const cD=k({provide:String,useValue:k});function Y_(o){return null!==o&&"object"==typeof o&&cD in o}function fs(o){return"function"==typeof o}const Yb=new ot("Set Injector scope."),Q_={},X_={};let Qb;function J_(){return void 0===Qb&&(Qb=new Zb),Qb}class ps{}class uf extends ps{get destroyed(){return this._destroyed}constructor(s,a,u,d){super(),this.parent=a,this.source=u,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Jb(s,b=>this.processProvider(b)),this.records.set(Jl,df(void 0,this)),d.has("environment")&&this.records.set(ps,df(void 0,this));const m=this.records.get(Yb);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(Nw.multi,He,Ye.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();const s=this._onDestroyHooks;this._onDestroyHooks=[];for(const a of s)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(s){return this.assertNotDestroyed(),this._onDestroyHooks.push(s),()=>this.removeOnDestroy(s)}runInContext(s){this.assertNotDestroyed();const a=ft(this),u=Jt(void 0);try{return s()}finally{ft(a),Jt(u)}}get(s,a=Ci,u=Ye.Default){if(this.assertNotDestroyed(),s.hasOwnProperty(Iu))return s[Iu](this);u=jt(u);const m=ft(this),b=Jt(void 0);try{if(!(u&Ye.SkipSelf)){let w=this.records.get(s);if(void 0===w){const S=function dD(o){return"function"==typeof o||"object"==typeof o&&o instanceof ot}(s)&&qo(s);w=S&&this.injectableDefInScope(S)?df(Xb(s),Q_):null,this.records.set(s,w)}if(null!=w)return this.hydrate(s,w)}return(u&Ye.Self?J_():this.parent).get(s,a=u&Ye.Optional&&a===Ci?null:a)}catch(E){if("NullInjectorError"===E.name){if((E[Jn]=E[Jn]||[]).unshift(H(s)),m)throw E;return function tl(o,s,a,u){const d=o[Jn];throw s[Ie]&&d.unshift(s[Ie]),o.message=function me(o,s,a,u=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.slice(2):o;let d=H(s);if(Array.isArray(s))d=s.map(H).join(" -> ");else if("object"==typeof s){let m=[];for(let b in s)if(s.hasOwnProperty(b)){let E=s[b];m.push(b+":"+("string"==typeof E?JSON.stringify(E):H(E)))}d=`{${m.join(", ")}}`}return`${a}${u?"("+u+")":""}[${d}]: ${o.replace($,"\n  ")}`}("\n"+o.message,d,a,u),o.ngTokenPath=d,o[Jn]=null,o}(E,s,"R3InjectorError",this.source)}throw E}finally{Jt(b),ft(m)}}resolveInjectorInitializers(){const s=ft(this),a=Jt(void 0);try{const d=this.get(lf.multi,He,Ye.Self);for(const m of d)m()}finally{ft(s),Jt(a)}}toString(){const s=[],a=this.records;for(const u of a.keys())s.push(H(u));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ge(205,!1)}processProvider(s){let a=fs(s=pe(s))?s:pe(s&&s.provide);const u=function uD(o){return Y_(o)?df(void 0,o.useValue):df(Lw(o),Q_)}(s);if(fs(s)||!0!==s.multi)this.records.get(a);else{let d=this.records.get(a);d||(d=df(void 0,Q_,!0),d.factory=()=>or(d.multi),this.records.set(a,d)),a=s,d.multi.push(s)}this.records.set(a,u)}hydrate(s,a){return a.value===Q_&&(a.value=X_,a.value=a.factory()),"object"==typeof a.value&&a.value&&function Bw(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(s){if(!s.providedIn)return!1;const a=pe(s.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}removeOnDestroy(s){const a=this._onDestroyHooks.indexOf(s);-1!==a&&this._onDestroyHooks.splice(a,1)}}function Xb(o){const s=qo(o),a=null!==s?s.factory:di(o);if(null!==a)return a;if(o instanceof ot)throw new ge(204,!1);if(o instanceof Function)return function lD(o){const s=o.length;if(s>0)throw Ll(s,"?"),new ge(204,!1);const a=function Za(o){return o&&(o[Hi]||o[mo])||null}(o);return null!==a?()=>a.factory(o):()=>new o}(o);throw new ge(204,!1)}function Lw(o,s,a){let u;if(fs(o)){const d=pe(o);return di(d)||Xb(d)}if(Y_(o))u=()=>pe(o.useValue);else if(function br(o){return!(!o||!o.useFactory)}(o))u=()=>o.useFactory(...or(o.deps||[]));else if(function Pc(o){return!(!o||!o.useExisting)}(o))u=()=>tn(pe(o.useExisting));else{const d=pe(o&&(o.useClass||o.provide));if(!function Vw(o){return!!o.deps}(o))return di(d)||Xb(d);u=()=>new d(...or(o.deps))}return u}function df(o,s,a=!1){return{factory:o,value:s,multi:a?[]:void 0}}function Jb(o,s){for(const a of o)Array.isArray(a)?Jb(a,s):a&&Ve(a)?Jb(a.\u0275providers,s):s(a)}const Ht=new ot("AppId",{providedIn:"root",factory:()=>Am}),Am="ng",Uw=new ot("Platform Initializer"),eu=new ot("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),hD=new ot("AnimationModuleType"),Ma=new ot("CSP nonce",{providedIn:"root",factory:()=>function rf(){if(void 0!==nf)return nf;if(typeof document<"u")return document;throw new ge(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let zw=(o,s,a)=>null;function oy(o,s,a=!1){return zw(o,s,a)}class gD{}class qw{}class yD{resolveComponentFactory(s){throw function _D(o){const s=Error(`No component factory found for ${H(o)}.`);return s.ngComponent=o,s}(s)}}let Rm=(()=>{class o{static#e=this.NULL=new yD}return o})();function Zw(){return pf(_n(),Te())}function pf(o,s){return new $s(ei(o,s))}let $s=(()=>{class o{constructor(a){this.nativeElement=a}static#e=this.__NG_ELEMENT_ID__=Zw}return o})();function vD(o){return o instanceof $s?o.nativeElement:o}class c0{}let Kw=(()=>{class o{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function ay(){const o=Te(),a=Lr(_n().index,o);return(Fr(a)?a:o)[bt]}()}return o})(),Om=(()=>{class o{static#e=this.\u0275prov=ln({token:o,providedIn:"root",factory:()=>null})}return o})();class cy{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const l0=new cy("16.2.12"),ly={};function h0(o,s=null,a=null,u){const d=gf(o,s,a,u);return d.resolveInjectorInitializers(),d}function gf(o,s=null,a=null,u,d=new Set){const m=[a||He,K_(o)];return u=u||("object"==typeof o?void 0:H(o)),new uf(m,s||J_(),u||null,d)}let Er=(()=>{class o{static#e=this.THROW_IF_NOT_FOUND=Ci;static#t=this.NULL=new Zb;static create(a,u){if(Array.isArray(a))return h0({name:""},u,a,"");{const d=a.name??"";return h0({name:d},a.parent,a.providers,d)}}static#n=this.\u0275prov=ln({token:o,providedIn:"any",factory:()=>tn(Jl)});static#r=this.__NG_ELEMENT_ID__=-1}return o})();function wd(o){return o.ngOriginalError}class ko{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s);this._console.error("ERROR",s),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&wd(s);for(;a&&wd(a);)a=wd(a);return a||null}}function f0(o){return s=>{setTimeout(o,void 0,s)}}const Pa=class xD extends f.xQ{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,u){let d=s,m=a||(()=>null),b=u;if(s&&"object"==typeof s){const w=s;d=w.next?.bind(w),m=w.error?.bind(w),b=w.complete?.bind(w)}this.__isAsync&&(m=f0(m),d&&(d=f0(d)),b&&(b=f0(b)));const E=super.subscribe({next:d,error:m,complete:b});return s instanceof ne.w&&s.add(E),E}};function Jw(...o){}class jr{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Pa(!1),this.onMicrotaskEmpty=new Pa(!1),this.onStable=new Pa(!1),this.onError=new Pa(!1),typeof Zone>"u")throw new ge(908,!1);Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!u&&a,d.shouldCoalesceRunChangeDetection=u,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function CD(){const o="function"==typeof Ut.requestAnimationFrame;let s=Ut[o?"requestAnimationFrame":"setTimeout"],a=Ut[o?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&s&&a){const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u);const d=a[Zone.__symbol__("OriginalDelegate")];d&&(a=d)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function m0(o){const s=()=>{!function ex(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(Ut,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,Fm(o),o.isCheckStableRunning=!0,p0(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),Fm(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,u,d,m,b,E)=>{if(function _0(o){return!(!Array.isArray(o)||1!==o.length)&&!0===o[0].data?.__ignore_ng_zone__}(E))return a.invokeTask(d,m,b,E);try{return AD(o),a.invokeTask(d,m,b,E)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||o.shouldCoalesceRunChangeDetection)&&s(),tx(o)}},onInvoke:(a,u,d,m,b,E,w)=>{try{return AD(o),a.invoke(d,m,b,E,w)}finally{o.shouldCoalesceRunChangeDetection&&s(),tx(o)}},onHasTask:(a,u,d,m)=>{a.hasTask(d,m),u===d&&("microTask"==m.change?(o._hasPendingMicrotasks=m.microTask,Fm(o),p0(o)):"macroTask"==m.change&&(o.hasPendingMacrotasks=m.macroTask))},onHandleError:(a,u,d,m)=>(a.handleError(d,m),o.runOutsideAngular(()=>o.onError.emit(m)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!jr.isInAngularZone())throw new ge(909,!1)}static assertNotInAngularZone(){if(jr.isInAngularZone())throw new ge(909,!1)}run(s,a,u){return this._inner.run(s,a,u)}runTask(s,a,u,d){const m=this._inner,b=m.scheduleEventTask("NgZoneEvent: "+d,s,TD,Jw,Jw);try{return m.runTask(b,a,u)}finally{m.cancelTask(b)}}runGuarded(s,a,u){return this._inner.runGuarded(s,a,u)}runOutsideAngular(s){return this._outer.run(s)}}const TD={};function p0(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function Fm(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function AD(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function tx(o){o._nesting--,p0(o)}class Lm{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Pa,this.onMicrotaskEmpty=new Pa,this.onStable=new Pa,this.onError=new Pa}run(s,a,u){return s.apply(a,u)}runGuarded(s,a,u){return s.apply(a,u)}runOutsideAngular(s){return s()}runTask(s,a,u,d){return s.apply(a,u)}}const g0=new ot("",{providedIn:"root",factory:uy});function uy(){const o=Lt(jr);let s=!0;const a=new L.y(d=>{s=o.isStable&&!o.hasPendingMacrotasks&&!o.hasPendingMicrotasks,o.runOutsideAngular(()=>{d.next(s),d.complete()})}),u=new L.y(d=>{let m;o.runOutsideAngular(()=>{m=o.onStable.subscribe(()=>{jr.assertNotInAngularZone(),queueMicrotask(()=>{!s&&!o.hasPendingMacrotasks&&!o.hasPendingMicrotasks&&(s=!0,d.next(!0))})})});const b=o.onUnstable.subscribe(()=>{jr.assertInAngularZone(),s&&(s=!1,o.runOutsideAngular(()=>{d.next(!1)}))});return()=>{m.unsubscribe(),b.unsubscribe()}});return(0,se.T)(a,u.pipe((0,ye.B)()))}function Nc(o){return o instanceof Function?o():o}let Bm=(()=>{class o{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=ln({token:o,providedIn:"root",factory:()=>new o})}return o})();function vf(o){for(;o;){o[At]|=64;const s=Ac(o);if(ui(o)&&!s)return o;o=s}return null}const hy=new ot("",{providedIn:"root",factory:()=>!1});let Um=null;function sx(o,s){return o[s]??FD()}function ND(o,s){const a=FD();a.producerNode?.length&&(o[s]=Um,a.lView=o,Um=kD())}const e1={...Ru,consumerIsAlwaysLive:!0,consumerMarkedDirty:o=>{vf(o.lView)},lView:null};function kD(){return Object.create(e1)}function FD(){return Um??=kD(),Um}const Vt={};function LD(o){ax(Ot(),Te(),In()+o,!1)}function ax(o,s,a,u){if(!u)if(3==(3&s[At])){const m=o.preOrderCheckHooks;null!==m&&ya(s,m,a)}else{const m=o.preOrderHooks;null!==m&&va(s,m,0,a)}To(a)}function If(o,s=Ye.Default){const a=Te();return null===a?tn(o,s):Ct(_n(),a,pe(o),s)}function py(){throw new Error("invalid")}function my(o,s,a,u,d,m,b,E,w,S,O){const U=s.blueprint.slice();return U[An]=d,U[At]=140|u,(null!==S||o&&2048&o[At])&&(U[At]|=2048),Ch(U),U[Xt]=U[Gi]=o,U[Dn]=a,U[$i]=b||o&&o[$i],U[bt]=E||o&&o[bt],U[vo]=w||o&&o[vo]||null,U[ar]=m,U[Ss]=function Rb(){return _m++}(),U[qi]=O,U[Au]=S,U[kn]=2==s.type?o[kn]:U,U}function Ra(o,s,a,u,d){let m=o.data[s];if(null===m)m=function cx(o,s,a,u,d){const m=Vs(),b=El(),w=o.data[s]=function HD(o,s,a,u,d,m){let b=s?s.injectorIndex:-1,E=0;return ma()&&(E|=128),{type:a,index:u,insertBeforeIndex:null,injectorIndex:b,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:E,providerIndexes:0,value:d,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,b?m:m&&m.parent,a,s,u,d);return null===o.firstChild&&(o.firstChild=w),null!==m&&(b?null==m.child&&null!==w.parent&&(m.child=w):null===m.next&&(m.next=w,w.prev=m)),w}(o,s,a,u,d),function Ku(){return Et.lFrame.inI18n}()&&(m.flags|=32);else if(64&m.type){m.type=a,m.value=u,m.attrs=d;const b=function bl(){const o=Et.lFrame,s=o.currentTNode;return o.isParent?s:s.parent}();m.injectorIndex=null===b?-1:b.injectorIndex}return Si(m,!0),m}function jm(o,s,a,u){if(0===a)return-1;const d=s.length;for(let m=0;m<a;m++)s.push(u),o.blueprint.push(u),o.data.push(null);return d}function lx(o,s,a,u,d){const m=sx(s,Wi),b=In(),E=2&u;try{To(-1),E&&s.length>$t&&ax(o,s,$t,!1),dn(E?2:0,d);const S=E?m:null,O=mh(S);try{null!==S&&(S.dirty=!1),a(u,d)}finally{ul(S,O)}}finally{E&&null===s[Wi]&&ND(s,Wi),To(b),dn(E?3:1,d)}}function gy(o,s,a){if(Rs(s)){const u=pn(null);try{const m=s.directiveEnd;for(let b=s.directiveStart;b<m;b++){const E=o.data[b];E.contentQueries&&E.contentQueries(1,a[b],b)}}finally{pn(u)}}}function wf(o,s,a){Sh()&&(function qD(o,s,a,u){const d=a.directiveStart,m=a.directiveEnd;yr(a)&&function Cf(o,s,a){const u=ei(s,o),d=ux(a);let b=16;a.signals?b=4096:a.onPush&&(b=64);const E=Gm(o,my(o,d,null,b,u,s,null,o[$i].rendererFactory.createRenderer(u,a),null,null,null));o[s.index]=E}(s,a,o.data[d+a.componentOffset]),o.firstCreatePass||B(a,s),Vr(u,s);const b=a.initialInputs;for(let E=d;E<m;E++){const w=o.data[E],S=Mo(s,o,E,a);Vr(S,s),null!==b&&YD(0,E-d,S,w,0,b),Di(w)&&(Lr(a.index,s)[Dn]=Mo(s,o,E,a))}}(o,s,a,ei(a,s)),64==(64&a.flags)&&mx(o,s,a))}function E0(o,s,a=ei){const u=s.localNames;if(null!==u){let d=s.index+1;for(let m=0;m<u.length;m+=2){const b=u[m+1],E=-1===b?a(s,o):o[b];o[d++]=E}}}function ux(o){const s=o.tView;return null===s||s.incompleteFirstPass?o.tView=tu(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts,o.id):s}function tu(o,s,a,u,d,m,b,E,w,S,O){const U=$t+u,Y=U+d,te=function Hm(o,s){const a=[];for(let u=0;u<s;u++)a.push(u<o?null:Vt);return a}(U,Y),Ee="function"==typeof S?S():S;return te[Ke]={type:o,blueprint:te,template:a,queries:null,viewQuery:E,declTNode:s,data:te.slice().fill(null,U),bindingStartIndex:U,expandoStartIndex:Y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof b?b():b,firstChild:null,schemas:w,consts:Ee,incompleteFirstPass:!1,ssrId:O}}let xf=o=>null;function dx(o,s,a,u){for(let d in o)if(o.hasOwnProperty(d)){a=null===a?{}:a;const m=o[d];null===u?hx(a,s,d,m):u.hasOwnProperty(d)&&hx(a,s,u[d],m)}return a}function hx(o,s,a,u){o.hasOwnProperty(a)?o[a].push(s,u):o[a]=[s,u]}function I0(o,s,a,u){if(Sh()){const d=null===u?null:{"":-1},m=function ZD(o,s){const a=o.directiveRegistry;let u=null,d=null;if(a)for(let m=0;m<a.length;m++){const b=a[m];if(As(s,b.selectors,!1))if(u||(u=[]),Di(b))if(null!==b.findHostDirectiveDefs){const E=[];d=d||new Map,b.findHostDirectiveDefs(b,E,d),u.unshift(...E,b),w0(o,s,E.length)}else u.unshift(b),w0(o,s,0);else d=d||new Map,b.findHostDirectiveDefs?.(b,u,d),u.push(b)}return null===u?null:[u,d]}(o,a);let b,E;null===m?b=E=null:[b,E]=m,null!==b&&px(o,s,a,b,d,E),d&&function gx(o,s,a){if(s){const u=o.localNames=[];for(let d=0;d<s.length;d+=2){const m=a[s[d+1]];if(null==m)throw new ge(-301,!1);u.push(s[d],m)}}}(a,u,d)}a.mergedAttrs=_o(a.mergedAttrs,a.attrs)}function px(o,s,a,u,d,m){for(let S=0;S<u.length;S++)Ge(B(a,s),o,u[S].type);!function yy(o,s,a){o.flags|=1,o.directiveStart=s,o.directiveEnd=s+a,o.providerIndexes=s}(a,o.data.length,u.length);for(let S=0;S<u.length;S++){const O=u[S];O.providersResolver&&O.providersResolver(O)}let b=!1,E=!1,w=jm(o,s,u.length,null);for(let S=0;S<u.length;S++){const O=u[S];a.mergedAttrs=_o(a.mergedAttrs,O.hostAttrs),_x(o,a,s,w,O),KD(w,O,d),null!==O.contentQueries&&(a.flags|=4),(null!==O.hostBindings||null!==O.hostAttrs||0!==O.hostVars)&&(a.flags|=64);const U=O.type.prototype;!b&&(U.ngOnChanges||U.ngOnInit||U.ngDoCheck)&&((o.preOrderHooks??=[]).push(a.index),b=!0),!E&&(U.ngOnChanges||U.ngDoCheck)&&((o.preOrderCheckHooks??=[]).push(a.index),E=!0),w++}!function zD(o,s,a){const d=s.directiveEnd,m=o.data,b=s.attrs,E=[];let w=null,S=null;for(let O=s.directiveStart;O<d;O++){const U=m[O],Y=a?a.get(U):null,Ee=Y?Y.outputs:null;w=dx(U.inputs,O,w,Y?Y.inputs:null),S=dx(U.outputs,O,S,Ee);const Re=null===w||null===b||ch(s)?null:C0(w,O,b);E.push(Re)}null!==w&&(w.hasOwnProperty("class")&&(s.flags|=8),w.hasOwnProperty("style")&&(s.flags|=16)),s.initialInputs=E,s.inputs=w,s.outputs=S}(o,a,m)}function mx(o,s,a){const u=a.directiveStart,d=a.directiveEnd,m=a.index,b=function wl(){return Et.lFrame.currentDirectiveIndex}();try{To(m);for(let E=u;E<d;E++){const w=o.data[E],S=s[E];Qi(E),(null!==w.hostBindings||0!==w.hostVars||null!==w.hostAttrs)&&WD(w,S)}}finally{To(-1),Qi(b)}}function WD(o,s){null!==o.hostBindings&&o.hostBindings(1,s)}function w0(o,s,a){s.componentOffset=a,(o.components??=[]).push(s.index)}function KD(o,s,a){if(a){if(s.exportAs)for(let u=0;u<s.exportAs.length;u++)a[s.exportAs[u]]=o;Di(s)&&(a[""]=o)}}function _x(o,s,a,u,d){o.data[u]=d;const m=d.factory||(d.factory=di(d.type)),b=new _c(m,Di(d),If);o.blueprint[u]=b,a[u]=b,function $D(o,s,a,u,d){const m=d.hostBindings;if(m){let b=o.hostBindingOpCodes;null===b&&(b=o.hostBindingOpCodes=[]);const E=~s.index;(function GD(o){let s=o.length;for(;s>0;){const a=o[--s];if("number"==typeof a&&a<0)return a}return 0})(b)!=E&&b.push(E),b.push(a,u,m)}}(o,s,u,jm(o,a,d.hostVars,Vt),d)}function qs(o,s,a,u,d,m){const b=ei(o,s);!function x0(o,s,a,u,d,m,b){if(null==m)o.removeAttribute(s,d,a);else{const E=null==b?$e(m):b(m,u||"",d);o.setAttribute(s,d,E,a)}}(s[bt],b,m,o.value,a,u,d)}function YD(o,s,a,u,d,m){const b=m[s];if(null!==b)for(let E=0;E<b.length;)yx(u,a,b[E++],b[E++],b[E++])}function yx(o,s,a,u,d){const m=pn(null);try{const b=o.inputTransforms;null!==b&&b.hasOwnProperty(u)&&(d=b[u].call(s,d)),null!==o.setInput?o.setInput(s,d,a,u):s[u]=d}finally{pn(m)}}function C0(o,s,a){let u=null,d=0;for(;d<a.length;){const m=a[d];if(0!==m)if(5!==m){if("number"==typeof m)break;if(o.hasOwnProperty(m)){null===u&&(u=[]);const b=o[m];for(let E=0;E<b.length;E+=2)if(b[E]===s){u.push(m,b[E+1],a[d+1]);break}}d+=2}else d+=2;else d+=4}return u}function vx(o,s,a,u){return[o,!0,!1,s,null,0,u,a,null,null,null]}function vy(o,s){const a=o.contentQueries;if(null!==a)for(let u=0;u<a.length;u+=2){const m=a[u+1];if(-1!==m){const b=o.data[m];Ph(a[u]),b.contentQueries(2,s[m],m)}}}function Gm(o,s){return o[aa]?o[ec][Dr]=s:o[aa]=s,o[ec]=s,s}function T0(o,s,a){Ph(0);const u=pn(null);try{s(o,a)}finally{pn(u)}}function bx(o){return o[yo]||(o[yo]=[])}function Ex(o){return o.cleanup||(o.cleanup=[])}function Ix(o,s){const a=o[vo],u=a?a.get(ko,null):null;u&&u.handleError(s)}function A0(o,s,a,u,d){for(let m=0;m<a.length;){const b=a[m++],E=a[m++];yx(o.data[b],s[b],u,E,d)}}function QD(o,s){const a=Lr(s,o),u=a[Ke];!function XD(o,s){for(let a=s.length;a<o.blueprint.length;a++)s.push(o.blueprint[a])}(u,a);const d=a[An];null!==d&&null===a[qi]&&(a[qi]=oy(d,a[vo])),D0(u,a,a[Dn])}function D0(o,s,a){an(s);try{const u=o.viewQuery;null!==u&&T0(1,u,a);const d=o.template;null!==d&&lx(o,s,d,1,a),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&vy(o,s),o.staticViewQueries&&T0(2,o.viewQuery,a);const m=o.components;null!==m&&function wx(o,s){for(let a=0;a<s.length;a++)QD(o,s[a])}(s,m)}catch(u){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),u}finally{s[At]&=-5,ns()}}let JD=(()=>{class o{constructor(){this.all=new Set,this.queue=new Map}create(a,u,d){const m=typeof Zone>"u"?null:Zone.current,b=function Gp(o,s,a){const u=Object.create(ju);a&&(u.consumerAllowSignalWrites=!0),u.fn=o,u.schedule=s;const d=b=>{u.cleanupFn=b};return u.ref={notify:()=>ku(u),run:()=>{if(u.dirty=!1,u.hasRun&&!Fu(u))return;u.hasRun=!0;const b=mh(u);try{u.cleanupFn(),u.cleanupFn=ua,u.fn(d)}finally{ul(u,b)}},cleanup:()=>u.cleanupFn()},u.ref}(a,S=>{this.all.has(S)&&this.queue.set(S,m)},d);let E;this.all.add(b),b.notify();const w=()=>{b.cleanup(),E?.(),this.all.delete(b),this.queue.delete(b)};return E=u?.onDestroy(w),{destroy:w}}flush(){if(0!==this.queue.size)for(const[a,u]of this.queue)this.queue.delete(a),u?u.run(()=>a.run()):a.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=ln({token:o,providedIn:"root",factory:()=>new o})}return o})();function Wm(o,s,a){let u=a?o.styles:null,d=a?o.classes:null,m=0;if(null!==s)for(let b=0;b<s.length;b++){const E=s[b];"number"==typeof E?m=E:1==m?d=oe(d,E):2==m&&(u=oe(u,E+": "+s[++b]+";"))}a?o.styles=u:o.stylesWithoutHost=u,a?o.classes=d:o.classesWithoutHost=d}function Zm(o,s,a,u,d=!1){for(;null!==a;){const m=s[a.index];null!==m&&u.push(sn(m)),tr(m)&&Cx(m,u);const b=a.type;if(8&b)Zm(o,s,a.child,u);else if(32&b){const E=bm(a,s);let w;for(;w=E();)u.push(w)}else if(16&b){const E=M(s,a);if(Array.isArray(E))u.push(...E);else{const w=Ac(s[kn]);Zm(w[Ke],w,E,u,!0)}}a=d?a.projectionNext:a.next}return u}function Cx(o,s){for(let a=_r;a<o.length;a++){const u=o[a],d=u[Ke].firstChild;null!==d&&Zm(u[Ke],u,d,s)}o[li]!==o[An]&&s.push(o[li])}function by(o,s,a,u=!0){const d=s[$i],m=d.rendererFactory,b=d.afterRenderEventManager;m.begin?.(),b?.begin();try{Tx(o,s,o.template,a)}catch(w){throw u&&Ix(s,w),w}finally{m.end?.(),d.effectManager?.flush(),b?.end()}}function Tx(o,s,a,u){const d=s[At];if(256!=(256&d)){s[$i].effectManager?.flush(),an(s);try{Ch(s),function Il(o){return Et.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==a&&lx(o,s,a,2,u);const b=3==(3&d);if(b){const S=o.preOrderCheckHooks;null!==S&&ya(s,S,null)}else{const S=o.preOrderHooks;null!==S&&va(s,S,0,null),Ji(s,0)}if(function M0(o){for(let s=js(o);null!==s;s=gi(s)){if(!s[Ps])continue;const a=s[bo];for(let u=0;u<a.length;u++){Wp(a[u])}}}(s),S0(s,2),null!==o.contentQueries&&vy(o,s),b){const S=o.contentCheckHooks;null!==S&&ya(s,S)}else{const S=o.contentHooks;null!==S&&va(s,S,1),Ji(s,1)}!function Gs(o,s){const a=o.hostBindingOpCodes;if(null===a)return;const u=sx(s,Ms);try{for(let d=0;d<a.length;d++){const m=a[d];if(m<0)To(~m);else{const b=m,E=a[++d],w=a[++d];y_(E,b),u.dirty=!1;const S=mh(u);try{w(2,s[b])}finally{ul(u,S)}}}}finally{null===s[Ms]&&ND(s,Ms),To(-1)}}(o,s);const E=o.components;null!==E&&Ax(s,E,0);const w=o.viewQuery;if(null!==w&&T0(2,w,u),b){const S=o.viewCheckHooks;null!==S&&ya(s,S)}else{const S=o.viewHooks;null!==S&&va(s,S,2),Ji(s,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),s[At]&=-73,$u(s)}finally{ns()}}}function S0(o,s){for(let a=js(o);null!==a;a=gi(a))for(let u=_r;u<a.length;u++)Ey(a[u],s)}function Tf(o,s,a){Ey(Lr(s,o),a)}function Ey(o,s){if(!function xh(o){return 128==(128&o[At])}(o))return;const a=o[Ke],u=o[At];if(80&u&&0===s||1024&u||2===s)Tx(a,o,a.template,o[Dn]);else if(o[rl]>0){S0(o,1);const d=a.components;null!==d&&Ax(o,d,1)}}function Ax(o,s,a){for(let u=0;u<s.length;u++)Tf(o,s[u],a)}class Km{get rootNodes(){const s=this._lView,a=s[Ke];return Zm(a,s,a.firstChild,[])}constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Dn]}set context(s){this._lView[Dn]=s}get destroyed(){return 256==(256&this._lView[At])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[Xt];if(tr(s)){const a=s[8],u=a?a.indexOf(this):-1;u>-1&&(Yh(s,u),ed(a,u))}this._attachedToViewContainer=!1}Qh(this._lView[Ke],this._lView)}onDestroy(s){!function pa(o,s){if(256==(256&o[At]))throw new ge(911,!1);null===o[Jr]&&(o[Jr]=[]),o[Jr].push(s)}(this._lView,s)}markForCheck(){vf(this._cdRefInjectingView||this._lView)}detach(){this._lView[At]&=-129}reattach(){this._lView[At]|=128}detectChanges(){by(this._lView[Ke],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ge(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Kh(o,s){Oe(o,s,s[bt],2,null,null)}(this._lView[Ke],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new ge(902,!1);this._appRef=s}}class Dx extends Km{constructor(s){super(s),this._view=s}detectChanges(){const s=this._view;by(s[Ke],s,s[Dn],!1)}checkNoChanges(){}get context(){return null}}class Ym extends Rm{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=zt(s);return new Qm(a,this.ngModule)}}function P0(o){const s=[];for(let a in o)o.hasOwnProperty(a)&&s.push({propName:o[a],templateName:a});return s}class tS{constructor(s,a){this.injector=s,this.parentInjector=a}get(s,a,u){u=jt(u);const d=this.injector.get(s,ly,u);return d!==ly||a===ly?d:this.parentInjector.get(s,a,u)}}class Qm extends qw{get inputs(){const s=this.componentDef,a=s.inputTransforms,u=P0(s.inputs);if(null!==a)for(const d of u)a.hasOwnProperty(d.propName)&&(d.transform=a[d.propName]);return u}get outputs(){return P0(this.componentDef.outputs)}constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function Xr(o){return o.map(nl).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}create(s,a,u,d){let m=(d=d||this.ngModule)instanceof ps?d:d?.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const b=m?new tS(s,m):s,E=b.get(c0,null);if(null===E)throw new ge(407,!1);const U={rendererFactory:E,sanitizer:b.get(Om,null),effectManager:b.get(JD,null),afterRenderEventManager:b.get(Bm,null)},Y=E.createRenderer(null,this.componentDef),te=this.componentDef.selectors[0][0]||"div",Ee=u?function VD(o,s,a,u){const m=u.get(hy,!1)||a===et.ShadowDom,b=o.selectRootElement(s,m);return function BD(o){xf(o)}(b),b}(Y,u,this.componentDef.encapsulation,b):ql(Y,te,function Sx(o){const s=o.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(te)),rt=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Ce=null;null!==Ee&&(Ce=oy(Ee,b,!0));const Dt=tu(0,null,null,1,0,null,null,null,null,null,null),Gt=my(null,Dt,null,rt,null,null,U,Y,b,null,Ce);let vn,Vi;an(Gt);try{const Kc=this.componentDef;let vp,e_=null;Kc.findHostDirectiveDefs?(vp=[],e_=new Map,Kc.findHostDirectiveDefs(Kc,vp,e_),vp.push(Kc)):vp=[Kc];const Zr=function rS(o,s){const a=o[Ke],u=$t;return o[u]=s,Ra(a,u,2,"#host",null)}(Gt,Ee),YM=function Iy(o,s,a,u,d,m,b){const E=d[Ke];!function iS(o,s,a,u){for(const d of o)s.mergedAttrs=_o(s.mergedAttrs,d.hostAttrs);null!==s.mergedAttrs&&(Wm(s,s.mergedAttrs,!0),null!==a&&ds(u,a,s))}(u,o,s,b);let w=null;null!==s&&(w=oy(s,d[vo]));const S=m.rendererFactory.createRenderer(s,a);let O=16;a.signals?O=4096:a.onPush&&(O=64);const U=my(d,ux(a),null,O,d[o.index],o,m,S,null,null,w);return E.firstCreatePass&&w0(E,o,u.length-1),Gm(d,U),d[o.index]=U}(Zr,Ee,Kc,vp,Gt,U,Y);Vi=wh(Dt,$t),Ee&&function Xm(o,s,a,u){if(u)wu(o,a,["ng-version",l0.full]);else{const{attrs:d,classes:m}=function dh(o){const s=[],a=[];let u=1,d=2;for(;u<o.length;){let m=o[u];if("string"==typeof m)2===d?""!==m&&s.push(m,o[++u]):8===d&&a.push(m);else{if(!Bn(d))break;d=m}u++}return{attrs:s,classes:a}}(s.selectors[0]);d&&wu(o,a,d),m&&m.length>0&&Ur(o,a,m.join(" "))}}(Y,Kc,Ee,u),void 0!==a&&function Mx(o,s,a){const u=o.projection=[];for(let d=0;d<s.length;d++){const m=a[d];u.push(null!=m?Array.from(m):null)}}(Vi,this.ngContentSelectors,a),vn=function oS(o,s,a,u,d,m){const b=_n(),E=d[Ke],w=ei(b,d);px(E,d,b,a,null,u);for(let O=0;O<a.length;O++)Vr(Mo(d,E,b.directiveStart+O,b),d);mx(E,d,b),w&&Vr(w,d);const S=Mo(d,E,b.directiveStart+b.componentOffset,b);if(o[Dn]=d[Dn]=S,null!==m)for(const O of m)O(S,s);return gy(E,b,o),S}(YM,Kc,vp,e_,Gt,[sS]),D0(Dt,Gt,null)}finally{ns()}return new nS(this.componentType,vn,pf(Vi,Gt),Gt,Vi)}}class nS extends gD{constructor(s,a,u,d,m){super(),this.location=u,this._rootLView=d,this._tNode=m,this.previousInputValues=null,this.instance=a,this.hostView=this.changeDetectorRef=new Dx(d),this.componentType=s}setInput(s,a){const u=this._tNode.inputs;let d;if(null!==u&&(d=u[s])){if(this.previousInputValues??=new Map,this.previousInputValues.has(s)&&Object.is(this.previousInputValues.get(s),a))return;const m=this._rootLView;A0(m[Ke],m,d,s,a),this.previousInputValues.set(s,a),vf(Lr(this._tNode.index,m))}}get injector(){return new ti(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function sS(){const o=_n();Ao(Te()[Ke],o)}function R0(o){let s=function Px(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),a=!0;const u=[o];for(;s;){let d;if(Di(o))d=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new ge(903,!1);d=s.\u0275dir}if(d){if(a){u.push(d);const b=o;b.inputs=ki(o.inputs),b.inputTransforms=ki(o.inputTransforms),b.declaredInputs=ki(o.declaredInputs),b.outputs=ki(o.outputs);const E=d.hostBindings;E&&O0(o,E);const w=d.viewQuery,S=d.contentQueries;if(w&&cS(o,w),S&&Rx(o,S),j(o.inputs,d.inputs),j(o.declaredInputs,d.declaredInputs),j(o.outputs,d.outputs),null!==d.inputTransforms&&(null===b.inputTransforms&&(b.inputTransforms={}),j(b.inputTransforms,d.inputTransforms)),Di(d)&&d.data.animation){const O=o.data;O.animation=(O.animation||[]).concat(d.data.animation)}}const m=d.features;if(m)for(let b=0;b<m.length;b++){const E=m[b];E&&E.ngInherit&&E(o),E===R0&&(a=!1)}}s=Object.getPrototypeOf(s)}!function aS(o){let s=0,a=null;for(let u=o.length-1;u>=0;u--){const d=o[u];d.hostVars=s+=d.hostVars,d.hostAttrs=_o(d.hostAttrs,a=_o(a,d.hostAttrs))}}(u)}function ki(o){return o===pt?{}:o===He?[]:o}function cS(o,s){const a=o.viewQuery;o.viewQuery=a?(u,d)=>{s(u,d),a(u,d)}:s}function Rx(o,s){const a=o.contentQueries;o.contentQueries=a?(u,d,m)=>{s(u,d,m),a(u,d,m)}:s}function O0(o,s){const a=o.hostBindings;o.hostBindings=a?(u,d)=>{s(u,d),a(u,d)}:s}function k0(o){const s=o.inputConfig,a={};for(const u in s)if(s.hasOwnProperty(u)){const d=s[u];Array.isArray(d)&&d[2]&&(a[u]=d[2])}o.inputTransforms=a}function wy(o){return!!kx(o)&&(Array.isArray(o)||!(o instanceof Map)&&Symbol.iterator in o)}function kx(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function _i(o,s,a){return!Object.is(o[s],a)&&(o[s]=a,!0)}function L0(o,s,a,u){const d=Te();return _i(d,nr(),s)&&(Ot(),qs(yn(),d,o,s,a,u)),L0}function Ty(o,s,a,u,d,m,b,E){const w=Te(),S=Ot(),O=o+$t,U=S.firstCreatePass?function Wx(o,s,a,u,d,m,b,E,w){const S=s.consts,O=Ra(s,o,4,b||null,ts(S,E));I0(s,a,O,ts(S,w)),Ao(s,O);const U=O.tView=tu(2,O,u,d,m,s.directiveRegistry,s.pipeRegistry,null,s.schemas,S,null);return null!==s.queries&&(s.queries.template(s,O),U.queries=s.queries.embeddedTView(O)),O}(O,S,w,s,a,u,d,m,b):S.data[O];Si(U,!1);const Y=H0(S,w,U,o);Gn()&&v(S,w,Y,U),Vr(Y,w),Gm(w,w[O]=vx(Y,w,Y,U)),rc(U)&&wf(S,w,U),null!=b&&E0(w,U,E)}let H0=function ri(o,s,a,u){return lr(!0),s[bt].createComment("")};function sg(o,s,a){const u=Te();return _i(u,nr(),s)&&function Fo(o,s,a,u,d,m,b,E){const w=ei(s,a);let O,S=s.inputs;!E&&null!=S&&(O=S[u])?(A0(o,a,O,u,d),yr(s)&&function fx(o,s){const a=Lr(s,o);16&a[At]||(a[At]|=64)}(a,s.index)):3&s.type&&(u=function t1(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(u),d=null!=b?b(d,s.value||"",u):d,m.setProperty(w,u,d))}(Ot(),yn(),u,o,s,u[bt],a,!1),sg}function z0(o,s,a,u,d){const b=d?"class":"style";A0(o,a,s.inputs[b],b,u)}function Vc(o,s,a,u){const d=Te(),m=Ot(),b=$t+o,E=d[bt],w=m.firstCreatePass?function ES(o,s,a,u,d,m){const b=s.consts,w=Ra(s,o,2,u,ts(b,d));return I0(s,a,w,ts(b,m)),null!==w.attrs&&Wm(w,w.attrs,!1),null!==w.mergedAttrs&&Wm(w,w.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,w),w}(b,m,d,s,a,u):m.data[b],S=$0(m,d,w,E,s,o);d[b]=S;const O=rc(w);return Si(w,!0),ds(E,S,w),32!=(32&w.flags)&&Gn()&&v(m,d,S,w),0===function Dh(){return Et.lFrame.elementDepthCount}()&&Vr(S,d),function qu(){Et.lFrame.elementDepthCount++}(),O&&(wf(m,d,w),gy(m,w,d)),null!==u&&E0(d,w),Vc}function ag(){let o=_n();El()?Zu():(o=o.parent,Si(o,!1));const s=o;(function vl(o){return Et.skipHydrationRootTNode===o})(s)&&function Wu(){Et.skipHydrationRootTNode=null}(),function Zp(){Et.lFrame.elementDepthCount--}();const a=Ot();return a.firstCreatePass&&(Ao(a,o),Rs(o)&&a.queries.elementEnd(o)),null!=s.classesWithoutHost&&function So(o){return 0!=(8&o.flags)}(s)&&z0(a,s,Te(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function Nh(o){return 0!=(16&o.flags)}(s)&&z0(a,s,Te(),s.stylesWithoutHost,!1),ag}function cg(o,s,a,u){return Vc(o,s,a,u),ag(),cg}let $0=(o,s,a,u,d,m)=>(lr(!0),ql(u,d,function Xi(){return Et.lFrame.currentNamespace}()));function Rf(){return Te()}function q0(o){return!!o&&"function"==typeof o.then}function Of(o){return!!o&&"function"==typeof o.subscribe}function W0(o,s,a,u){const d=Te(),m=Ot(),b=_n();return function Py(o,s,a,u,d,m,b){const E=rc(u),S=o.firstCreatePass&&Ex(o),O=s[Dn],U=bx(s);let Y=!0;if(3&u.type||b){const Re=ei(u,s),Ze=b?b(Re):Re,rt=U.length,Ce=b?Gt=>b(sn(Gt[u.index])):u.index;let Dt=null;if(!b&&E&&(Dt=function My(o,s,a,u){const d=o.cleanup;if(null!=d)for(let m=0;m<d.length-1;m+=2){const b=d[m];if(b===a&&d[m+1]===u){const E=s[yo],w=d[m+2];return E.length>w?E[w]:null}"string"==typeof b&&(m+=2)}return null}(o,s,d,u.index)),null!==Dt)(Dt.__ngLastListenerFn__||Dt).__ngNextListenerFn__=m,Dt.__ngLastListenerFn__=m,Y=!1;else{m=Z0(u,s,O,m,!1);const Gt=a.listen(Ze,d,m);U.push(m,Gt),S&&S.push(d,Ce,rt,rt+1)}}else m=Z0(u,s,O,m,!1);const te=u.outputs;let Ee;if(Y&&null!==te&&(Ee=te[d])){const Re=Ee.length;if(Re)for(let Ze=0;Ze<Re;Ze+=2){const vn=s[Ee[Ze]][Ee[Ze+1]].subscribe(m),Vi=U.length;U.push(m,vn),S&&S.push(d,u.index,Vi,-(Vi+1))}}}(m,d,d[bt],b,o,s,u),W0}function Qx(o,s,a,u){try{return dn(6,s,a),!1!==a(u)}catch(d){return Ix(o,d),!1}finally{dn(7,s,a)}}function Z0(o,s,a,u,d){return function m(b){if(b===Function)return u;vf(o.componentOffset>-1?Lr(o.index,s):s);let w=Qx(s,a,u,b),S=m.__ngNextListenerFn__;for(;S;)w=Qx(s,a,S,b)&&w,S=S.__ngNextListenerFn__;return d&&!1===w&&b.preventDefault(),w}}function K0(o=1){return function Jp(o){return(Et.lFrame.contextLView=function Bs(o,s){for(;o>0;)s=s[Gi],o--;return s}(o,Et.lFrame.contextLView))[Dn]}(o)}function Xx(o,s){let a=null;const u=function Sp(o){const s=o.attrs;if(null!=s){const a=s.indexOf(5);if(!(1&a))return s[a+1]}return null}(o);for(let d=0;d<s.length;d++){const m=s[d];if("*"!==m){if(null===u?As(o,m,!0):Cu(u,m))return d}else a=d}return a}function dg(o){const s=Te()[kn][ar];if(!s.projection){const u=s.projection=Ll(o?o.length:1,null),d=u.slice();let m=s.child;for(;null!==m;){const b=o?Xx(m,o):0;null!==b&&(d[b]?d[b].projectionNext=m:u[b]=m,d[b]=m),m=m.next}}}function Ry(o,s=0,a){const u=Te(),d=Ot(),m=Ra(d,$t+o,16,null,a||null);null===m.projection&&(m.projection=s),Zu(),(!u[qi]||ma())&&32!=(32&m.flags)&&function Ue(o,s,a){Mt(s[bt],0,s,a,us(o,a,s),Dc(a.parent||s[ar],a,s))}(d,u,m)}function Fy(o,s){return o<<17|s<<2}function Na(o){return o>>17&32767}function Ir(o){return 2|o}function qn(o){return(131068&o)>>2}function Nf(o,s){return-131069&o|s<<2}function iE(o){return 1|o}function tC(o,s,a,u,d){const m=o[a+1],b=null===s;let E=u?Na(m):qn(m),w=!1;for(;0!==E&&(!1===w||b);){const O=o[E+1];CS(o[E],s)&&(w=!0,o[E+1]=u?iE(O):Ir(O)),E=u?Na(O):qn(O)}w&&(o[a+1]=u?Ir(m):iE(m))}function CS(o,s){return null===o||null==s||(Array.isArray(o)?o[1]:o)===s||!(!Array.isArray(o)||"string"!=typeof s)&&as(o,s)>=0}function lE(o,s){return function gs(o,s,a,u){const d=Te(),m=Ot(),b=function Yi(o){const s=Et.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+o,a}(2);m.firstUpdatePass&&function Ff(o,s,a,u){const d=o.data;if(null===d[a+1]){const m=d[In()],b=function uE(o,s){return s>=o.expandoStartIndex}(o,a);(function Uf(o,s){return 0!=(o.flags&(s?8:16))})(m,u)&&null===s&&!b&&(s=!1),s=function sC(o,s,a,u){const d=function Mi(o){const s=Et.lFrame.currentDirectiveIndex;return-1===s?null:o[s]}(o);let m=u?s.residualClasses:s.residualStyles;if(null===d)0===(u?s.classBindings:s.styleBindings)&&(a=Vf(a=Lf(null,o,s,a,u),s.attrs,u),m=null);else{const b=s.directiveStylingLast;if(-1===b||o[b]!==d)if(a=Lf(d,o,s,a,u),null===m){let w=function Li(o,s,a){const u=a?s.classBindings:s.styleBindings;if(0!==qn(u))return o[Na(u)]}(o,s,u);void 0!==w&&Array.isArray(w)&&(w=Lf(null,o,s,w[1],u),w=Vf(w,s.attrs,u),function aC(o,s,a,u){o[Na(a?s.classBindings:s.styleBindings)]=u}(o,s,u,w))}else m=function pg(o,s,a){let u;const d=s.directiveEnd;for(let m=1+s.directiveStylingLast;m<d;m++)u=Vf(u,o[m].hostAttrs,a);return Vf(u,s.attrs,a)}(o,s,u)}return void 0!==m&&(u?s.residualClasses=m:s.residualStyles=m),a}(d,m,s,u),function eC(o,s,a,u,d,m){let b=m?s.classBindings:s.styleBindings,E=Na(b),w=qn(b);o[u]=a;let O,S=!1;if(Array.isArray(a)?(O=a[1],(null===O||as(a,O)>0)&&(S=!0)):O=a,d)if(0!==w){const Y=Na(o[E+1]);o[u+1]=Fy(Y,E),0!==Y&&(o[Y+1]=Nf(o[Y+1],u)),o[E+1]=function nE(o,s){return 131071&o|s<<17}(o[E+1],u)}else o[u+1]=Fy(E,0),0!==E&&(o[E+1]=Nf(o[E+1],u)),E=u;else o[u+1]=Fy(w,0),0===E?E=u:o[w+1]=Nf(o[w+1],u),w=u;S&&(o[u+1]=Ir(o[u+1])),tC(o,O,u,!0),tC(o,O,u,!1),function xS(o,s,a,u,d){const m=d?o.residualClasses:o.residualStyles;null!=m&&"string"==typeof s&&as(m,s)>=0&&(a[u+1]=iE(a[u+1]))}(s,O,o,u,m),b=Fy(E,w),m?s.classBindings=b:s.styleBindings=b}(d,m,s,a,b,u)}}(m,o,b,u),s!==Vt&&_i(d,b,s)&&function Uy(o,s,a,u,d,m,b,E){if(!(3&s.type))return;const w=o.data,S=w[E+1],O=function rE(o){return 1==(1&o)}(S)?jy(w,s,a,d,qn(S),b):void 0;Bf(O)||(Bf(m)||function tE(o){return 2==(2&o)}(S)&&(m=jy(w,null,a,d,E,b)),function Ni(o,s,a,u,d){if(s)d?o.addClass(a,u):o.removeClass(a,u);else{let m=-1===u.indexOf("-")?void 0:sd.DashCase;null==d?o.removeStyle(a,u,m):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),m|=sd.Important),o.setStyle(a,u,d,m))}}(u,b,fa(In(),a),d,m))}(m,m.data[In()],d,d[bt],o,d[b+1]=function Hy(o,s){return null==o||""===o||("string"==typeof s?o+=s:"object"==typeof o&&(o=H(Sa(o)))),o}(s,a),u,b)}(o,s,null,!0),lE}function Lf(o,s,a,u,d){let m=null;const b=a.directiveEnd;let E=a.directiveStylingLast;for(-1===E?E=a.directiveStart:E++;E<b&&(m=s[E],u=Vf(u,m.hostAttrs,d),m!==o);)E++;return null!==o&&(a.directiveStylingLast=E),u}function Vf(o,s,a){const u=a?1:2;let d=-1;if(null!==s)for(let m=0;m<s.length;m++){const b=s[m];"number"==typeof b?d=b:d===u&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),ro(o,b,!!a||s[++m]))}return void 0===o?null:o}function jy(o,s,a,u,d,m){const b=null===s;let E;for(;d>0;){const w=o[d],S=Array.isArray(w),O=S?w[1]:w,U=null===O;let Y=a[d+1];Y===Vt&&(Y=U?He:void 0);let te=U?sm(Y,u):O===u?Y:void 0;if(S&&!Bf(te)&&(te=sm(w,u)),Bf(te)&&(E=te,b))return E;const Ee=o[d+1];d=b?Na(Ee):qn(Ee)}if(null!==s){let w=m?s.residualClasses:s.residualStyles;null!=w&&(E=sm(w,u))}return E}function Bf(o){return void 0!==o}function fE(o,s=""){const a=Te(),u=Ot(),d=o+$t,m=u.firstCreatePass?Ra(u,d,1,s,null):u.data[d],b=lC(u,a,m,s,o);a[d]=b,Gn()&&v(u,a,b,m),Si(m,!1)}let lC=(o,s,a,u,d)=>(lr(!0),function ud(o,s){return o.createText(s)}(s[bt],u));function gg(o){return $y("",o,""),gg}function $y(o,s,a){const u=Te(),d=function eg(o,s,a,u){return _i(o,nr(),a)?s+$e(a)+u:Vt}(u,o,s,a);return d!==Vt&&function kc(o,s,a){const u=fa(s,o);!function Zh(o,s,a){o.setValue(s,a)}(o[bt],u,a)}(u,In(),d),$y}const iu=void 0;var bC=["en",[["a","p"],["AM","PM"],iu],[["AM","PM"],iu,iu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],iu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],iu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",iu,"{1} 'at' {0}",iu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function NS(o){const a=Math.floor(Math.abs(o)),u=o.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===u?1:5}];let Od={};function bg(o){const s=function FS(o){return o.toLowerCase().replace(/_/g,"-")}(o);let a=IC(s);if(a)return a;const u=s.split("-")[0];if(a=IC(u),a)return a;if("en"===u)return bC;throw new ge(701,!1)}function IE(o){return bg(o)[$f.PluralCase]}function IC(o){return o in Od||(Od[o]=Ut.ng&&Ut.ng.common&&Ut.ng.common.locales&&Ut.ng.common.locales[o]),Od[o]}var $f=function(o){return o[o.LocaleId=0]="LocaleId",o[o.DayPeriodsFormat=1]="DayPeriodsFormat",o[o.DayPeriodsStandalone=2]="DayPeriodsStandalone",o[o.DaysFormat=3]="DaysFormat",o[o.DaysStandalone=4]="DaysStandalone",o[o.MonthsFormat=5]="MonthsFormat",o[o.MonthsStandalone=6]="MonthsStandalone",o[o.Eras=7]="Eras",o[o.FirstDayOfWeek=8]="FirstDayOfWeek",o[o.WeekendRange=9]="WeekendRange",o[o.DateFormat=10]="DateFormat",o[o.TimeFormat=11]="TimeFormat",o[o.DateTimeFormat=12]="DateTimeFormat",o[o.NumberSymbols=13]="NumberSymbols",o[o.NumberFormats=14]="NumberFormats",o[o.CurrencyCode=15]="CurrencyCode",o[o.CurrencySymbol=16]="CurrencySymbol",o[o.CurrencyName=17]="CurrencyName",o[o.Currencies=18]="Currencies",o[o.Directionality=19]="Directionality",o[o.PluralCase=20]="PluralCase",o[o.ExtraData=21]="ExtraData",o}($f||{});const jc="en-US";let Zn=jc;function lt(o,s,a,u,d){if(o=pe(o),Array.isArray(o))for(let m=0;m<o.length;m++)lt(o[m],s,a,u,d);else{const m=Ot(),b=Te(),E=_n();let w=fs(o)?o:pe(o.provide);const S=Lw(o),O=1048575&E.providerIndexes,U=E.directiveStart,Y=E.providerIndexes>>20;if(fs(o)||!o.multi){const te=new _c(S,d,If),Ee=fe(w,s,d?O:O+Y,U);-1===Ee?(Ge(B(E,b),m,w),LE(m,o,s.length),s.push(w),E.directiveStart++,E.directiveEnd++,d&&(E.providerIndexes+=1048576),a.push(te),b.push(te)):(a[Ee]=te,b[Ee]=te)}else{const te=fe(w,s,O+Y,U),Ee=fe(w,s,O,O+Y),Ze=Ee>=0&&a[Ee];if(d&&!Ze||!d&&!(te>=0&&a[te])){Ge(B(E,b),m,w);const rt=function QS(o,s,a,u,d){const m=new _c(o,a,If);return m.multi=[],m.index=s,m.componentProviders=0,ze(m,d,u&&!a),m}(d?Rr:Ae,a.length,d,u,S);!d&&Ze&&(a[Ee].providerFactory=rt),LE(m,o,s.length,0),s.push(w),E.directiveStart++,E.directiveEnd++,d&&(E.providerIndexes+=1048576),a.push(rt),b.push(rt)}else LE(m,o,te>-1?te:Ee,ze(a[d?Ee:te],S,!d&&u));!d&&u&&Ze&&a[Ee].componentProviders++}}}function LE(o,s,a,u){const d=fs(s),m=function _d(o){return!!o.useClass}(s);if(d||m){const w=(m?pe(s.useClass):s).prototype.ngOnDestroy;if(w){const S=o.destroyHooks||(o.destroyHooks=[]);if(!d&&s.multi){const O=S.indexOf(a);-1===O?S.push(a,[u,w]):S[O+1].push(u,w)}else S.push(a,w)}}}function ze(o,s,a){return a&&o.componentProviders++,o.multi.push(s)-1}function fe(o,s,a,u){for(let d=a;d<u;d++)if(s[d]===o)return d;return-1}function Ae(o,s,a,u){return ov(this.multi,[])}function Rr(o,s,a,u){const d=this.multi;let m;if(this.providerFactory){const b=this.providerFactory.componentProviders,E=Mo(a,a[Ke],this.providerFactory.index,u);m=E.slice(0,b),ov(d,m);for(let w=b;w<E.length;w++)m.push(E[w])}else m=[],ov(d,m);return m}function ov(o,s){for(let a=0;a<o.length;a++)s.push((0,o[a])());return s}function FC(o,s=[]){return a=>{a.providersResolver=(u,d)=>function tt(o,s,a){const u=Ot();if(u.firstCreatePass){const d=Di(o);lt(a,u.data,u.blueprint,d,!0),lt(s,u.data,u.blueprint,d,!1)}}(u,d?d(o):o,s)}}class Fd{}class LC{}function XS(o,s){return new VE(o,s??null,[])}class VE extends Fd{constructor(s,a,u){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ym(this);const d=Wt(s);this._bootstrapComponents=Nc(d.bootstrap),this._r3Injector=gf(s,a,[{provide:Fd,useValue:this},{provide:Rm,useValue:this.componentFactoryResolver},...u],H(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class VC extends LC{constructor(s){super(),this.moduleType=s}create(s){return new VE(this.moduleType,s,[])}}class BE extends Fd{constructor(s){super(),this.componentFactoryResolver=new Ym(this),this.instance=null;const a=new uf([...s.providers,{provide:Fd,useValue:this},{provide:Rm,useValue:this.componentFactoryResolver}],s.parent||J_(),s.debugName,new Set(["environment"]));this.injector=a,s.runEnvironmentInitializers&&a.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function Pt(o,s,a=null){return new BE({providers:o,parent:s,debugName:a,runEnvironmentInitializers:!0}).injector}let np=(()=>{class o{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a)){const u=kw(0,a.type),d=u.length>0?Pt([u],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a,d)}return this.cachedInjectors.get(a)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=ln({token:o,providedIn:"environment",factory:()=>new o(tn(ps))})}return o})();function UE(o){o.getStandaloneInjector=s=>s.get(np).getOrCreateStandaloneInjector(o)}function uv(){return this._results[Symbol.iterator]()}class dv{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Pa)}constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=dv.prototype;a[Symbol.iterator]||(a[Symbol.iterator]=uv)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const u=this;u.dirty=!1;const d=function fi(o){return o.flat(Number.POSITIVE_INFINITY)}(s);(this._changesDetected=!function Ju(o,s,a){if(o.length!==s.length)return!1;for(let u=0;u<o.length;u++){let d=o[u],m=s[u];if(a&&(d=a(d),m=a(m)),m!==d)return!1}return!0}(u._results,d,a))&&(u._results=d,u.length=d.length,u.last=d[this.length-1],u.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function aM(o,s,a,u=!0){const d=s[Ke];if(function Ro(o,s,a,u){const d=_r+u,m=a.length;u>0&&(a[d-1][Dr]=s),u<m-_r?(s[Dr]=a[d],Fl(a,_r+u,s)):(a.push(s),s[Dr]=null),s[Xt]=a;const b=s[ca];null!==b&&a!==b&&function Iw(o,s){const a=o[bo];s[kn]!==s[Xt][Xt][kn]&&(o[Ps]=!0),null===a?o[bo]=[s]:a.push(s)}(b,s);const E=s[Ai];null!==E&&E.insertView(o),s[At]|=128}(d,s,o,a),u){const m=V(a,o),b=s[bt],E=ef(b,o[li]);null!==E&&function dr(o,s,a,u,d,m){u[An]=d,u[ar]=s,Oe(o,u,a,1,d,m)}(d,o[ar],b,s,E,m)}}let Sg=(()=>{class o{static#e=this.__NG_ELEMENT_ID__=uM}return o})();const cM=Sg,lM=class extends cM{constructor(s,a,u){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=u}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(s,a){return this.createEmbeddedViewImpl(s,a)}createEmbeddedViewImpl(s,a,u){const d=function sM(o,s,a,u){const d=s.tView,E=my(o,d,a,4096&o[At]?4096:16,null,s,null,null,null,u?.injector??null,u?.hydrationInfo??null);E[ca]=o[s.index];const S=o[Ai];return null!==S&&(E[Ai]=S.createEmbeddedView(d)),D0(d,E,a),E}(this._declarationLView,this._declarationTContainer,s,{injector:a,hydrationInfo:u});return new Km(d)}};function uM(){return hv(_n(),Te())}function hv(o,s){return 4&o.type?new lM(s,o,pf(o,s)):null}let pv=(()=>{class o{static#e=this.__NG_ELEMENT_ID__=WE}return o})();function WE(){return xn(_n(),Te())}const qr=pv,ZE=class extends qr{constructor(s,a,u){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=u}get element(){return pf(this._hostTNode,this._hostLView)}get injector(){return new ti(this._hostTNode,this._hostLView)}get parentInjector(){const s=ve(this._hostTNode,this._hostLView);if(Pi(s)){const a=yc(s,this._hostLView),u=Ea(s);return new ti(a[Ke].data[u+8],a)}return new ti(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=zc(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-_r}createEmbeddedView(s,a,u){let d,m;"number"==typeof u?d=u:null!=u&&(d=u.index,m=u.injector);const E=s.createEmbeddedViewImpl(a||{},m,null);return this.insertImpl(E,d,false),E}createComponent(s,a,u,d,m){const b=s&&!function ss(o){return"function"==typeof o}(s);let E;if(b)E=a;else{const Re=a||{};E=Re.index,u=Re.injector,d=Re.projectableNodes,m=Re.environmentInjector||Re.ngModuleRef}const w=b?s:new Qm(zt(s)),S=u||this.parentInjector;if(!m&&null==w.ngModule){const Ze=(b?S:this.parentInjector).get(ps,null);Ze&&(m=Ze)}zt(w.componentType??{});const te=w.create(S,d,null,m);return this.insertImpl(te.hostView,E,false),te}insert(s,a){return this.insertImpl(s,a,!1)}insertImpl(s,a,u){const d=s._lView;if(function zu(o){return tr(o[Xt])}(d)){const w=this.indexOf(s);if(-1!==w)this.detach(w);else{const S=d[Xt],O=new ZE(S,S[ar],S[Xt]);O.detach(O.indexOf(s))}}const b=this._adjustIndex(a),E=this._lContainer;return aM(E,d,b,!u),s.attachToViewContainerRef(),Fl(mv(E),b,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=zc(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),u=Yh(this._lContainer,a);u&&(ed(mv(this._lContainer),a),Qh(u[Ke],u))}detach(s){const a=this._adjustIndex(s,-1),u=Yh(this._lContainer,a);return u&&null!=ed(mv(this._lContainer),a)?new Km(u):null}_adjustIndex(s,a=0){return s??this.length+a}};function zc(o){return o[8]}function mv(o){return o[8]||(o[8]=[])}function xn(o,s){let a;const u=s[o.index];return tr(u)?a=u:(a=vx(u,s,null,o),s[o.index]=a,Gm(s,a)),Wr(a,s,o,u),new ZE(a,o,s)}let Wr=function Cn(o,s,a,u){if(o[li])return;let d;d=8&a.type?sn(u):function gv(o,s){const a=o[bt],u=a.createComment(""),d=ei(s,o);return Oo(a,ef(a,d),u,function dd(o,s){return o.nextSibling(s)}(a,d),!1),u}(s,a),o[li]=d};class Ei{constructor(s){this.queryList=s,this.matches=null}clone(){return new Ei(this.queryList)}setDirty(){this.queryList.setDirty()}}class _v{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const u=null!==s.contentQueries?s.contentQueries[0]:a.length,d=[];for(let m=0;m<u;m++){const b=a.getByIndex(m);d.push(this.queries[b.indexInDeclarationView].clone())}return new _v(d)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==YE(s,a).matches&&this.queries[a].setDirty()}}class QC{constructor(s,a,u=null){this.predicate=s,this.flags=a,this.read=u}}class fr{constructor(s=[]){this.queries=s}elementStart(s,a){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let u=0;u<this.length;u++){const d=null!==a?a.length:0,m=this.getByIndex(u).embeddedTView(s,d);m&&(m.indexInDeclarationView=u,null!==a?a.push(m):a=[m])}return null!==a?new fr(a):null}template(s,a){for(let u=0;u<this.queries.length;u++)this.queries[u].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class KE{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new KE(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let u=s.parent;for(;null!==u&&8&u.type&&u.index!==a;)u=u.parent;return a===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const u=this.metadata.predicate;if(Array.isArray(u))for(let d=0;d<u.length;d++){const m=u[d];this.matchTNodeWithReadOption(s,a,du(a,m)),this.matchTNodeWithReadOption(s,a,is(a,s,m,!1,!1))}else u===Sg?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,is(a,s,u,!1,!1))}matchTNodeWithReadOption(s,a,u){if(null!==u){const d=this.metadata.read;if(null!==d)if(d===$s||d===pv||d===Sg&&4&a.type)this.addMatch(a.index,-2);else{const m=is(a,s,d,!1,!1);null!==m&&this.addMatch(a.index,m)}else this.addMatch(a.index,u)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function du(o,s){const a=o.localNames;if(null!==a)for(let u=0;u<a.length;u+=2)if(a[u]===s)return a[u+1];return null}function $c(o,s,a,u){return-1===a?function rr(o,s){return 11&o.type?pf(o,s):4&o.type?hv(o,s):null}(s,o):-2===a?function yv(o,s,a){return a===$s?pf(s,o):a===Sg?hv(s,o):a===pv?xn(s,o):void 0}(o,s,u):Mo(o,o[Ke],a,s)}function Mg(o,s,a,u){const d=s[Ai].queries[u];if(null===d.matches){const m=o.data,b=a.matches,E=[];for(let w=0;w<b.length;w+=2){const S=b[w];E.push(S<0?null:$c(s,m[S],b[w+1],a.metadata.read))}d.matches=E}return d.matches}function Ld(o,s,a,u){const d=o.queries.getByIndex(a),m=d.matches;if(null!==m){const b=Mg(o,s,d,a);for(let E=0;E<m.length;E+=2){const w=m[E];if(w>0)u.push(b[E/2]);else{const S=m[E+1],O=s[-w];for(let U=_r;U<O.length;U++){const Y=O[U];Y[ca]===Y[Xt]&&Ld(Y[Ke],Y,S,u)}if(null!==O[bo]){const U=O[bo];for(let Y=0;Y<U.length;Y++){const te=U[Y];Ld(te[Ke],te,S,u)}}}}}return u}function XC(o){const s=Te(),a=Ot(),u=v_();Ph(u+1);const d=YE(a,u);if(o.dirty&&function hc(o){return 4==(4&o[At])}(s)===(2==(2&d.metadata.flags))){if(null===d.matches)o.reset([]);else{const m=d.crossesNgTemplate?Ld(a,s,u,[]):Mg(a,s,d,u);o.reset(m,vD),o.notifyOnChanges()}return!0}return!1}function Gc(o,s,a,u){const d=Ot();if(d.firstCreatePass){const m=_n();(function cp(o,s,a){null===o.queries&&(o.queries=new fr),o.queries.track(new KE(s,a))})(d,new QC(s,a,u),m.index),function pu(o,s){const a=o.contentQueries||(o.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(o.queries.length-1,s)}(d,o),2==(2&a)&&(d.staticContentQueries=!0)}!function Xs(o,s,a){const u=new dv(4==(4&a));(function jD(o,s,a,u){const d=bx(s);d.push(a),o.firstCreatePass&&Ex(o).push(u,d.length-1)})(o,s,u,u.destroy),null===s[Ai]&&(s[Ai]=new _v),s[Ai].queries.push(new Ei(u))}(d,Te(),a)}function Pg(){return function fu(o,s){return o[Ai].queries[s].queryList}(Te(),v_())}function YE(o,s){return o.queries.getByIndex(s)}function up(o){return!!Wt(o)}const hp=new ot("Application Initializer");let Dv=(()=>{class o{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,u)=>{this.resolve=a,this.reject=u}),this.appInits=Lt(hp,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const a=[];for(const d of this.appInits){const m=d();if(q0(m))a.push(m);else if(Of(m)){const b=new Promise((E,w)=>{m.subscribe({complete:E,error:w})});a.push(b)}}const u=()=>{this.done=!0,this.resolve()};Promise.all(a).then(()=>{u()}).catch(d=>{this.reject(d)}),0===a.length&&u(),this.initialized=!0}static#e=this.\u0275fac=function(u){return new(u||o)};static#t=this.\u0275prov=ln({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),cI=(()=>{class o{log(a){console.log(a)}warn(a){console.warn(a)}static#e=this.\u0275fac=function(u){return new(u||o)};static#t=this.\u0275prov=ln({token:o,factory:o.\u0275fac,providedIn:"platform"})}return o})();const vs=new ot("LocaleId",{providedIn:"root",factory:()=>Lt(vs,Ye.Optional|Ye.SkipSelf)||function CM(){return typeof $localize<"u"&&$localize.locale||jc}()}),TM=new ot("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let lI=(()=>{class o{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new re.X(!1)}add(){this.hasPendingTasks.next(!0);const a=this.taskId++;return this.pendingTasks.add(a),a}remove(a){this.pendingTasks.delete(a),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(u){return new(u||o)};static#t=this.\u0275prov=ln({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();class Ba{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}let cT=(()=>{class o{compileModuleSync(a){return new VC(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const u=this.compileModuleSync(a),m=Nc(Wt(a).declarations).reduce((b,E)=>{const w=zt(E);return w&&b.push(new Qm(w)),b},[]);return new Ba(u,m)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}static#e=this.\u0275fac=function(u){return new(u||o)};static#t=this.\u0275prov=ln({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();const fI=new ot(""),Gd=new ot("");let Nv,Wc=(()=>{class o{constructor(a,u,d){this._ngZone=a,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Nv||(function vT(o){Nv=o}(d),d.addToWindow(u)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{jr.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(a)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,u,d){let m=-1;u&&u>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(b=>b.timeoutId!==m),a(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:a,timeoutId:m,updateCb:d})}whenStable(a,u,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,u,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,u,d){return[]}static#e=this.\u0275fac=function(u){return new(u||o)(tn(jr),tn(pI),tn(Gd))};static#t=this.\u0275prov=ln({token:o,factory:o.\u0275fac})}return o})(),pI=(()=>{class o{constructor(){this._applications=new Map}registerApplication(a,u){this._applications.set(a,u)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,u=!0){return Nv?.findTestabilityInTree(this,a,u)??null}static#e=this.\u0275fac=function(u){return new(u||o)};static#t=this.\u0275prov=ln({token:o,factory:o.\u0275fac,providedIn:"platform"})}return o})(),Ho=null;const kv=new ot("AllowMultipleToken"),Hg=new ot("PlatformDestroyListeners"),zg=new ot("appBootstrapListener");class cn{constructor(s,a){this.name=s,this.token=a}}function wT(o,s,a=[]){const u=`Platform: ${s}`,d=new ot(u);return(m=[])=>{let b=qd();if(!b||b.injector.get(kv,!1)){const E=[...a,...m,{provide:d,useValue:!0}];o?o(E):function ET(o){if(Ho&&!Ho.get(kv,!1))throw new ge(400,!1);(function bT(){!function pl(o){sc=o}(()=>{throw new ge(600,!1)})})(),Ho=o;const s=o.get(mp);(function $g(o){o.get(Uw,null)?.forEach(a=>a())})(o)}(function gI(o=[],s){return Er.create({name:s,providers:[{provide:Yb,useValue:"platform"},{provide:Hg,useValue:new Set([()=>Ho=null])},...o]})}(E,u))}return function xT(o){const s=qd();if(!s)throw new ge(401,!1);return s}()}}function qd(){return Ho?.get(mp)??null}let mp=(()=>{class o{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,u){const d=function Fv(o="zone.js",s){return"noop"===o?new Lm:"zone.js"===o?new jr(s):o}(u?.ngZone,function gp(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:o?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:o?.runCoalescing??!1}}({eventCoalescing:u?.ngZoneEventCoalescing,runCoalescing:u?.ngZoneRunCoalescing}));return d.run(()=>{const m=function eM(o,s,a){return new VE(o,s,a)}(a.moduleType,this.injector,function TT(o){return[{provide:jr,useFactory:o},{provide:lf,multi:!0,useFactory:()=>{const s=Lt(OM,{optional:!0});return()=>s.initialize()}},{provide:bI,useFactory:RM},{provide:g0,useFactory:uy}]}(()=>d)),b=m.injector.get(ko,null);return d.runOutsideAngular(()=>{const E=d.onError.subscribe({next:w=>{b.handleError(w)}});m.onDestroy(()=>{Lv(this._modules,m),E.unsubscribe()})}),function _I(o,s,a){try{const u=a();return q0(u)?u.catch(d=>{throw s.runOutsideAngular(()=>o.handleError(d)),d}):u}catch(u){throw s.runOutsideAngular(()=>o.handleError(u)),u}}(b,d,()=>{const E=m.injector.get(Dv);return E.runInitializers(),E.donePromise.then(()=>(function xE(o){Tn(o,"Expected localeId to be defined"),"string"==typeof o&&(Zn=o.toLowerCase().replace(/_/g,"-"))}(m.injector.get(vs,jc)||jc),this._moduleDoBootstrap(m),m))})})}bootstrapModule(a,u=[]){const d=yI({},u);return function mI(o,s,a){const u=new VC(a);return Promise.resolve(u)}(0,0,a).then(m=>this.bootstrapModuleFactory(m,d))}_moduleDoBootstrap(a){const u=a.injector.get(Wd);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(d=>u.bootstrap(d));else{if(!a.instance.ngDoBootstrap)throw new ge(-403,!1);a.instance.ngDoBootstrap(u)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ge(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const a=this._injector.get(Hg,null);a&&(a.forEach(u=>u()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(u){return new(u||o)(tn(Er))};static#t=this.\u0275prov=ln({token:o,factory:o.\u0275fac,providedIn:"platform"})}return o})();function yI(o,s){return Array.isArray(s)?s.reduce(yI,o):{...o,...s}}let Wd=(()=>{class o{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Lt(bI),this.zoneIsStable=Lt(g0),this.componentTypes=[],this.components=[],this.isStable=Lt(lI).hasPendingTasks.pipe((0,de.w)(a=>a?(0,q.of)(!1):this.zoneIsStable),(0,X.x)(),(0,ye.B)()),this._injector=Lt(ps)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,u){const d=a instanceof qw;if(!this._injector.get(Dv).done)throw!d&&Qo(a),new ge(405,!1);let b;b=d?a:this._injector.get(Rm).resolveComponentFactory(a),this.componentTypes.push(b.componentType);const E=function wr(o){return o.isBoundToModule}(b)?void 0:this._injector.get(Fd),S=b.create(Er.NULL,[],u||b.selector,E),O=S.location.nativeElement,U=S.injector.get(fI,null);return U?.registerApplication(O),S.onDestroy(()=>{this.detachView(S.hostView),Lv(this.components,S),U?.unregisterApplication(O)}),this._loadComponent(S),S}tick(){if(this._runningTick)throw new ge(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this.internalErrorHandler(a)}finally{this._runningTick=!1}}attachView(a){const u=a;this._views.push(u),u.attachToAppRef(this)}detachView(a){const u=a;Lv(this._views,u),u.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const u=this._injector.get(zg,[]);u.push(...this._bootstrapListeners),u.forEach(d=>d(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>Lv(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new ge(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(u){return new(u||o)};static#t=this.\u0275prov=ln({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();function Lv(o,s){const a=o.indexOf(s);a>-1&&o.splice(a,1)}const bI=new ot("",{providedIn:"root",factory:()=>Lt(ko).handleError.bind(void 0)});function RM(){const o=Lt(jr),s=Lt(ko);return a=>o.runOutsideAngular(()=>s.handleError(a))}let OM=(()=>{class o{constructor(){this.zone=Lt(jr),this.applicationRef=Lt(Wd)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(u){return new(u||o)};static#t=this.\u0275prov=ln({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();function _p(){return!1}function AT(){}let DT=(()=>{class o{static#e=this.__NG_ELEMENT_ID__=Gg}return o})();function Gg(o){return function Ua(o,s,a){if(yr(o)&&!a){const u=Lr(o.index,s);return new Km(u,u)}return 47&o.type?new Km(s[kn],s):null}(_n(),Te(),16==(16&o))}class xI{constructor(){}supports(s){return wy(s)}create(s){return new PT(s)}}const BM=(o,s)=>s;class PT{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||BM}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,u=this._removalsHead,d=0,m=null;for(;a||u;){const b=!u||a&&a.currentIndex<CI(u,d,m)?a:u,E=CI(b,d,m),w=b.currentIndex;if(b===u)d--,u=u._nextRemoved;else if(a=a._next,null==b.previousIndex)d++;else{m||(m=[]);const S=E-d,O=w-d;if(S!=O){for(let Y=0;Y<S;Y++){const te=Y<m.length?m[Y]:m[Y]=0,Ee=te+Y;O<=Ee&&Ee<S&&(m[Y]=te+1)}m[b.previousIndex]=O-S}}E!==w&&s(b,E,w)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!wy(s))throw new ge(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let d,m,b,a=this._itHead,u=!1;if(Array.isArray(s)){this.length=s.length;for(let E=0;E<this.length;E++)m=s[E],b=this._trackByFn(E,m),null!==a&&Object.is(a.trackById,b)?(u&&(a=this._verifyReinsertion(a,m,b,E)),Object.is(a.item,m)||this._addIdentityChange(a,m)):(a=this._mismatch(a,m,b,E),u=!0),a=a._next}else d=0,function a1(o,s){if(Array.isArray(o))for(let a=0;a<o.length;a++)s(o[a]);else{const a=o[Symbol.iterator]();let u;for(;!(u=a.next()).done;)s(u.value)}}(s,E=>{b=this._trackByFn(d,E),null!==a&&Object.is(a.trackById,b)?(u&&(a=this._verifyReinsertion(a,E,b,d)),Object.is(a.item,E)||this._addIdentityChange(a,E)):(a=this._mismatch(a,E,b,d),u=!0),a=a._next,d++}),this.length=d;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,u,d){let m;return null===s?m=this._itTail:(m=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,m,d)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(u,d))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,m,d)):s=this._addAfter(new Zc(a,u),m,d),s}_verifyReinsertion(s,a,u,d){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==m?s=this._reinsertAfter(m,s._prev,d):s.currentIndex!=d&&(s.currentIndex=d,this._addToMoves(s,d)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const d=s._prevRemoved,m=s._nextRemoved;return null===d?this._removalsHead=m:d._nextRemoved=m,null===m?this._removalsTail=d:m._prevRemoved=d,this._insertAfter(s,a,u),this._addToMoves(s,u),s}_moveAfter(s,a,u){return this._unlink(s),this._insertAfter(s,a,u),this._addToMoves(s,u),s}_addAfter(s,a,u){return this._insertAfter(s,a,u),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,u){const d=null===a?this._itHead:a._next;return s._next=d,s._prev=a,null===d?this._itTail=s:d._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new OT),this._linkedRecords.put(s),s.currentIndex=u,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,u=s._next;return null===a?this._itHead=u:a._next=u,null===u?this._itTail=a:u._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new OT),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class Zc{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class RT{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===a||a<=u.currentIndex)&&Object.is(u.trackById,s))return u;return null}remove(s){const a=s._prevDup,u=s._nextDup;return null===a?this._head=u:a._nextDup=u,null===u?this._tail=a:u._prevDup=a,null===this._head}}class OT{constructor(){this.map=new Map}put(s){const a=s.trackById;let u=this.map.get(a);u||(u=new RT,this.map.set(a,u)),u.add(s)}get(s,a){const d=this.map.get(s);return d?d.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function CI(o,s,a){const u=o.previousIndex;if(null===u)return u;let d=0;return a&&u<a.length&&(d=a[u]),u+s+d}class Kg{constructor(){}supports(s){return s instanceof Map||kx(s)}create(){return new Yd}}class Yd{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||kx(s)))throw new ge(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(u,d)=>{if(a&&a.key===d)this._maybeAddToChanges(a,u),this._appendAfter=a,a=a._next;else{const m=this._getOrCreateRecordForKey(d,u);a=this._insertBeforeOrAppend(a,m)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let u=a;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const u=s._prev;return a._next=s,a._prev=u,s._prev=a,u&&(u._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const d=this._records.get(s);this._maybeAddToChanges(d,a);const m=d._prev,b=d._next;return m&&(m._next=b),b&&(b._prev=m),d._next=null,d._prev=null,d}const u=new Qd(s);return this._records.set(s,u),u.currentValue=a,this._addToAdditions(u),u}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(u=>a(s[u],u))}}class Qd{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function gu(){return new Xd([new xI])}let Xd=(()=>{class o{static#e=this.\u0275prov=ln({token:o,providedIn:"root",factory:gu});constructor(a){this.factories=a}static create(a,u){if(null!=u){const d=u.factories.slice();a=a.concat(d)}return new o(a)}static extend(a){return{provide:o,useFactory:u=>o.create(a,u||gu()),deps:[[o,new Ta,new nd]]}}find(a){const u=this.factories.find(d=>d.supports(a));if(null!=u)return u;throw new ge(901,!1)}}return o})();function Gv(){return new Yg([new Kg])}let Yg=(()=>{class o{static#e=this.\u0275prov=ln({token:o,providedIn:"root",factory:Gv});constructor(a){this.factories=a}static create(a,u){if(u){const d=u.factories.slice();a=a.concat(d)}return new o(a)}static extend(a){return{provide:o,useFactory:u=>o.create(a,u||Gv()),deps:[[o,new Ta,new nd]]}}find(a){const u=this.factories.find(d=>d.supports(a));if(u)return u;throw new ge(901,!1)}}return o})();const FT=wT(null,"core",[]);let qv=(()=>{class o{constructor(a){}static#e=this.\u0275fac=function(u){return new(u||o)(tn(Wd))};static#t=this.\u0275mod=Ya({type:o});static#n=this.\u0275inj=po({})}return o})();function $T(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}function yp(o){const s=zt(o);if(!s)return null;const a=new Qm(s);return{get selector(){return a.selector},get type(){return a.componentType},get inputs(){return a.inputs},get outputs(){return a.outputs},get ngContentSelectors(){return a.ngContentSelectors},get isStandalone(){return s.standalone},get isSignal(){return s.signals}}}},3106:(st,xe,F)=>{F.d(xe,{Z:()=>at});var f=F(9058),ne=F(4537),L=F(6122),se=F(7879);class re{constructor(Fe,Ve){this._delegate=Fe,this.firebase=Ve,(0,L._addComponent)(Fe,new ne.wA("app-compat",()=>this,"PUBLIC")),this.container=Fe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Fe){this._delegate.automaticDataCollectionEnabled=Fe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Fe=>{this._delegate.checkDestroyed(),Fe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,L.deleteApp)(this._delegate)))}_getService(Fe,Ve=L._DEFAULT_ENTRY_NAME){var Je;this._delegate.checkDestroyed();const Ne=this._delegate.container.getProvider(Fe);return!Ne.isInitialized()&&"EXPLICIT"===(null===(Je=Ne.getComponent())||void 0===Je?void 0:Je.instantiationMode)&&Ne.initialize(),Ne.getImmediate({identifier:Ve})}_removeServiceInstance(Fe,Ve=L._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Fe).clearInstance(Ve)}_addComponent(Fe){(0,L._addComponent)(this._delegate,Fe)}_addOrOverwriteComponent(Fe){(0,L._addOrOverwriteComponent)(this._delegate,Fe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ye=new f.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),k=function X(){const pe=function de(pe){const Fe={},Ve={__esModule:!0,initializeApp:function ge(it,vt={}){const Tt=L.initializeApp(it,vt);if((0,f.r3)(Fe,Tt.name))return Fe[Tt.name];const Bt=new pe(Tt,Ve);return Fe[Tt.name]=Bt,Bt},app:Ne,registerVersion:L.registerVersion,setLogLevel:L.setLogLevel,onLog:L.onLog,apps:null,SDK_VERSION:L.SDK_VERSION,INTERNAL:{registerComponent:function $e(it){const vt=it.name,Tt=vt.replace("-compat","");if(L._registerComponent(it)&&"PUBLIC"===it.type){const Bt=(mn=Ne())=>{if("function"!=typeof mn[Tt])throw ye.create("invalid-app-argument",{appName:vt});return mn[Tt]()};void 0!==it.serviceProps&&(0,f.ZB)(Bt,it.serviceProps),Ve[Tt]=Bt,pe.prototype[Tt]=function(...mn){return this._getService.bind(this,vt).apply(this,it.multipleInstances?mn:[])}}return"PUBLIC"===it.type?Ve[Tt]:null},removeApp:function Je(it){delete Fe[it]},useAsService:function nt(it,vt){return"serverAuth"===vt?null:vt},modularAPIs:L}};function Ne(it){if(!(0,f.r3)(Fe,it=it||L._DEFAULT_ENTRY_NAME))throw ye.create("no-app",{appName:it});return Fe[it]}return Ve.default=Ve,Object.defineProperty(Ve,"apps",{get:function yt(){return Object.keys(Fe).map(it=>Fe[it])}}),Ne.App=pe,Ve}(re);return pe.INTERNAL=Object.assign(Object.assign({},pe.INTERNAL),{createFirebaseNamespace:X,extendNamespace:function Fe(Ve){(0,f.ZB)(pe,Ve)},createSubscribe:f.ne,ErrorFactory:f.LL,deepExtend:f.ZB}),pe}(),j=new se.Yd("@firebase/app-compat");if((0,f.jU)()&&void 0!==self.firebase){j.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const pe=self.firebase.SDK_VERSION;pe&&pe.indexOf("LITE")>=0&&j.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const at=k;!function we(pe){(0,L.registerVersion)("@firebase/app-compat","0.2.19",pe)}()},6122:(st,xe,F)=>{F.r(xe),F.d(xe,{FirebaseError:()=>se.ZR,SDK_VERSION:()=>Yr,_DEFAULT_ENTRY_NAME:()=>Ye,_addComponent:()=>ir,_addOrOverwriteComponent:()=>De,_apps:()=>St,_clearComponents:()=>ot,_components:()=>Jt,_getProvider:()=>un,_registerComponent:()=>Ut,_removeServiceInstance:()=>Ko,deleteApp:()=>xs,getApp:()=>mr,getApps:()=>oa,initializeApp:()=>ws,onLog:()=>zi,registerVersion:()=>Kt,setLogLevel:()=>Ci});var f=F(5861),ne=F(4537),L=F(7879),se=F(9058);const re=(me,ie)=>ie.some(Se=>me instanceof Se);let q,ye;const k=new WeakMap,j=new WeakMap,H=new WeakMap,oe=new WeakMap,we=new WeakMap;let Fe={get(me,ie,Se){if(me instanceof IDBTransaction){if("done"===ie)return j.get(me);if("objectStoreNames"===ie)return me.objectStoreNames||H.get(me);if("store"===ie)return Se.objectStoreNames[1]?void 0:Se.objectStore(Se.objectStoreNames[0])}return ge(me[ie])},set:(me,ie,Se)=>(me[ie]=Se,!0),has:(me,ie)=>me instanceof IDBTransaction&&("done"===ie||"store"===ie)||ie in me};function Ne(me){return"function"==typeof me?function Je(me){return me!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function X(){return ye||(ye=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(me)?function(...ie){return me.apply(yt(this),ie),ge(k.get(this))}:function(...ie){return ge(me.apply(yt(this),ie))}:function(ie,...Se){const et=me.call(yt(this),ie,...Se);return H.set(et,ie.sort?ie.sort():[ie]),ge(et)}}(me):(me instanceof IDBTransaction&&function pe(me){if(j.has(me))return;const ie=new Promise((Se,et)=>{const pt=()=>{me.removeEventListener("complete",He),me.removeEventListener("error",qt),me.removeEventListener("abort",qt)},He=()=>{Se(),pt()},qt=()=>{et(me.error||new DOMException("AbortError","AbortError")),pt()};me.addEventListener("complete",He),me.addEventListener("error",qt),me.addEventListener("abort",qt)});j.set(me,ie)}(me),re(me,function de(){return q||(q=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(me,Fe):me)}function ge(me){if(me instanceof IDBRequest)return function at(me){const ie=new Promise((Se,et)=>{const pt=()=>{me.removeEventListener("success",He),me.removeEventListener("error",qt)},He=()=>{Se(ge(me.result)),pt()},qt=()=>{et(me.error),pt()};me.addEventListener("success",He),me.addEventListener("error",qt)});return ie.then(Se=>{Se instanceof IDBCursor&&k.set(Se,me)}).catch(()=>{}),we.set(ie,me),ie}(me);if(oe.has(me))return oe.get(me);const ie=Ne(me);return ie!==me&&(oe.set(me,ie),we.set(ie,me)),ie}const yt=me=>we.get(me),it=["get","getKey","getAll","getAllKeys","count"],vt=["put","add","delete","clear"],Tt=new Map;function Bt(me,ie){if(!(me instanceof IDBDatabase)||ie in me||"string"!=typeof ie)return;if(Tt.get(ie))return Tt.get(ie);const Se=ie.replace(/FromIndex$/,""),et=ie!==Se,pt=vt.includes(Se);if(!(Se in(et?IDBIndex:IDBObjectStore).prototype)||!pt&&!it.includes(Se))return;const He=function(){var qt=(0,f.Z)(function*($n,...Nn){const go=this.transaction($n,pt?"readwrite":"readonly");let er=go.store;return et&&(er=er.index(Nn.shift())),(yield Promise.all([er[Se](...Nn),pt&&go.done]))[0]});return function(Nn){return qt.apply(this,arguments)}}();return Tt.set(ie,He),He}!function Ve(me){Fe=me(Fe)}(me=>({...me,get:(ie,Se,et)=>Bt(ie,Se)||me.get(ie,Se,et),has:(ie,Se)=>!!Bt(ie,Se)||me.has(ie,Se)}));class mn{constructor(ie){this.container=ie}getPlatformInfoString(){return this.container.getProviders().map(Se=>{if(function xi(me){const ie=me.getComponent();return"VERSION"===ie?.type}(Se)){const et=Se.getImmediate();return`${et.library}/${et.version}`}return null}).filter(Se=>Se).join(" ")}}const ji="@firebase/app",Qn=new L.Yd("@firebase/app"),Ye="[DEFAULT]",_t={[ji]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},St=new Map,Jt=new Map;function ir(me,ie){try{me.container.addComponent(ie)}catch(Se){Qn.debug(`Component ${ie.name} failed to register with FirebaseApp ${me.name}`,Se)}}function De(me,ie){me.container.addOrOverwriteComponent(ie)}function Ut(me){const ie=me.name;if(Jt.has(ie))return Qn.debug(`There were multiple attempts to register component ${ie}.`),!1;Jt.set(ie,me);for(const Se of St.values())ir(Se,me);return!0}function un(me,ie){const Se=me.container.getProvider("heartbeat").getImmediate({optional:!0});return Se&&Se.triggerHeartbeat(),me.container.getProvider(ie)}function Ko(me,ie,Se=Ye){un(me,ie).clearInstance(Se)}function ot(){Jt.clear()}const Ft=new se.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class ia{constructor(ie,Se,et){this._isDeleted=!1,this._options=Object.assign({},ie),this._config=Object.assign({},Se),this._name=Se.name,this._automaticDataCollectionEnabled=Se.automaticDataCollectionEnabled,this._container=et,this.container.addComponent(new ne.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ie){this.checkDestroyed(),this._automaticDataCollectionEnabled=ie}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ie){this._isDeleted=ie}checkDestroyed(){if(this.isDeleted)throw Ft.create("app-deleted",{appName:this._name})}}const Yr="10.4.0";function ws(me,ie={}){let Se=me;"object"!=typeof ie&&(ie={name:ie});const et=Object.assign({name:Ye,automaticDataCollectionEnabled:!1},ie),pt=et.name;if("string"!=typeof pt||!pt)throw Ft.create("bad-app-name",{appName:String(pt)});if(Se||(Se=(0,se.aH)()),!Se)throw Ft.create("no-options");const He=St.get(pt);if(He){if((0,se.vZ)(Se,He.options)&&(0,se.vZ)(et,He.config))return He;throw Ft.create("duplicate-app",{appName:pt})}const qt=new ne.H0(pt);for(const Nn of Jt.values())qt.addComponent(Nn);const $n=new ia(Se,et,qt);return St.set(pt,$n),$n}function mr(me=Ye){const ie=St.get(me);if(!ie&&me===Ye&&(0,se.aH)())return ws();if(!ie)throw Ft.create("no-app",{appName:me});return ie}function oa(){return Array.from(St.values())}function xs(me){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,f.Z)(function*(me){const ie=me.name;St.has(ie)&&(St.delete(ie),yield Promise.all(me.container.getProviders().map(Se=>Se.delete())),me.isDeleted=!0)})).apply(this,arguments)}function Kt(me,ie,Se){var et;let pt=null!==(et=_t[me])&&void 0!==et?et:me;Se&&(pt+=`-${Se}`);const He=pt.match(/\s|\//),qt=ie.match(/\s|\//);if(He||qt){const $n=[`Unable to register library "${pt}" with version "${ie}":`];return He&&$n.push(`library name "${pt}" contains illegal characters (whitespace or "/")`),He&&qt&&$n.push("and"),qt&&$n.push(`version name "${ie}" contains illegal characters (whitespace or "/")`),void Qn.warn($n.join(" "))}Ut(new ne.wA(`${pt}-version`,()=>({library:pt,version:ie}),"VERSION"))}function zi(me,ie){if(null!==me&&"function"!=typeof me)throw Ft.create("invalid-log-argument");(0,L.Am)(me,ie)}function Ci(me){(0,L.Ub)(me)}const kr="firebase-heartbeat-database",Jn=1,G="firebase-heartbeat-store";let $=null;function Q(){return $||($=function $e(me,ie,{blocked:Se,upgrade:et,blocking:pt,terminated:He}={}){const qt=indexedDB.open(me,ie),$n=ge(qt);return et&&qt.addEventListener("upgradeneeded",Nn=>{et(ge(qt.result),Nn.oldVersion,Nn.newVersion,ge(qt.transaction),Nn)}),Se&&qt.addEventListener("blocked",Nn=>Se(Nn.oldVersion,Nn.newVersion,Nn)),$n.then(Nn=>{He&&Nn.addEventListener("close",()=>He()),pt&&Nn.addEventListener("versionchange",go=>pt(go.oldVersion,go.newVersion,go))}).catch(()=>{}),$n}(kr,Jn,{upgrade:(me,ie)=>{0===ie&&me.createObjectStore(G)}}).catch(me=>{throw Ft.create("idb-open",{originalErrorMessage:me.message})})),$}function le(){return(le=(0,f.Z)(function*(me){try{return yield(yield Q()).transaction(G).objectStore(G).get(Yt(me))}catch(ie){if(ie instanceof se.ZR)Qn.warn(ie.message);else{const Se=Ft.create("idb-get",{originalErrorMessage:ie?.message});Qn.warn(Se.message)}}})).apply(this,arguments)}function Qe(me,ie){return ft.apply(this,arguments)}function ft(){return(ft=(0,f.Z)(function*(me,ie){try{const et=(yield Q()).transaction(G,"readwrite");yield et.objectStore(G).put(ie,Yt(me)),yield et.done}catch(Se){if(Se instanceof se.ZR)Qn.warn(Se.message);else{const et=Ft.create("idb-set",{originalErrorMessage:Se?.message});Qn.warn(et.message)}}})).apply(this,arguments)}function Yt(me){return`${me.name}!${me.options.appId}`}class Lt{constructor(ie){this.container=ie,this._heartbeatsCache=null;const Se=this.container.getProvider("app").getImmediate();this._storage=new gr(Se),this._heartbeatsCachePromise=this._storage.read().then(et=>(this._heartbeatsCache=et,et))}triggerHeartbeat(){var ie=this;return(0,f.Z)(function*(){const et=ie.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),pt=jt();if(null===ie._heartbeatsCache&&(ie._heartbeatsCache=yield ie._heartbeatsCachePromise),ie._heartbeatsCache.lastSentHeartbeatDate!==pt&&!ie._heartbeatsCache.heartbeats.some(He=>He.date===pt))return ie._heartbeatsCache.heartbeats.push({date:pt,agent:et}),ie._heartbeatsCache.heartbeats=ie._heartbeatsCache.heartbeats.filter(He=>{const qt=new Date(He.date).valueOf();return Date.now()-qt<=2592e6}),ie._storage.overwrite(ie._heartbeatsCache)})()}getHeartbeatsHeader(){var ie=this;return(0,f.Z)(function*(){if(null===ie._heartbeatsCache&&(yield ie._heartbeatsCachePromise),null===ie._heartbeatsCache||0===ie._heartbeatsCache.heartbeats.length)return"";const Se=jt(),{heartbeatsToSend:et,unsentEntries:pt}=function or(me,ie=1024){const Se=[];let et=me.slice();for(const pt of me){const He=Se.find(qt=>qt.agent===pt.agent);if(He){if(He.dates.push(pt.date),ai(Se)>ie){He.dates.pop();break}}else if(Se.push({agent:pt.agent,dates:[pt.date]}),ai(Se)>ie){Se.pop();break}et=et.slice(1)}return{heartbeatsToSend:Se,unsentEntries:et}}(ie._heartbeatsCache.heartbeats),He=(0,se.L)(JSON.stringify({version:2,heartbeats:et}));return ie._heartbeatsCache.lastSentHeartbeatDate=Se,pt.length>0?(ie._heartbeatsCache.heartbeats=pt,yield ie._storage.overwrite(ie._heartbeatsCache)):(ie._heartbeatsCache.heartbeats=[],ie._storage.overwrite(ie._heartbeatsCache)),He})()}}function jt(){return(new Date).toISOString().substring(0,10)}class gr{constructor(ie){this.app=ie,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,f.Z)(function*(){return!!(0,se.hl)()&&(0,se.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ie=this;return(0,f.Z)(function*(){return(yield ie._canUseIndexedDBPromise)&&(yield function Ie(me){return le.apply(this,arguments)}(ie.app))||{heartbeats:[]}})()}overwrite(ie){var Se=this;return(0,f.Z)(function*(){var et;if(yield Se._canUseIndexedDBPromise){const He=yield Se.read();return Qe(Se.app,{lastSentHeartbeatDate:null!==(et=ie.lastSentHeartbeatDate)&&void 0!==et?et:He.lastSentHeartbeatDate,heartbeats:ie.heartbeats})}})()}add(ie){var Se=this;return(0,f.Z)(function*(){var et;if(yield Se._canUseIndexedDBPromise){const He=yield Se.read();return Qe(Se.app,{lastSentHeartbeatDate:null!==(et=ie.lastSentHeartbeatDate)&&void 0!==et?et:He.lastSentHeartbeatDate,heartbeats:[...He.heartbeats,...ie.heartbeats]})}})()}}function ai(me){return(0,se.L)(JSON.stringify({version:2,heartbeats:me})).length}!function tl(me){Ut(new ne.wA("platform-logger",ie=>new mn(ie),"PRIVATE")),Ut(new ne.wA("heartbeat",ie=>new Lt(ie),"PRIVATE")),Kt(ji,"0.9.19",me),Kt(ji,"0.9.19","esm2017"),Kt("fire-js","")}("")},4537:(st,xe,F)=>{F.d(xe,{H0:()=>de,wA:()=>L});var f=F(5861),ne=F(9058);class L{constructor(k,j,H){this.name=k,this.instanceFactory=j,this.type=H,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(k){return this.instantiationMode=k,this}setMultipleInstances(k){return this.multipleInstances=k,this}setServiceProps(k){return this.serviceProps=k,this}setInstanceCreatedCallback(k){return this.onInstanceCreated=k,this}}const se="[DEFAULT]";class re{constructor(k,j){this.name=k,this.container=j,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(k){const j=this.normalizeInstanceIdentifier(k);if(!this.instancesDeferred.has(j)){const H=new ne.BH;if(this.instancesDeferred.set(j,H),this.isInitialized(j)||this.shouldAutoInitialize())try{const oe=this.getOrInitializeService({instanceIdentifier:j});oe&&H.resolve(oe)}catch{}}return this.instancesDeferred.get(j).promise}getImmediate(k){var j;const H=this.normalizeInstanceIdentifier(k?.identifier),oe=null!==(j=k?.optional)&&void 0!==j&&j;if(!this.isInitialized(H)&&!this.shouldAutoInitialize()){if(oe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:H})}catch(we){if(oe)return null;throw we}}getComponent(){return this.component}setComponent(k){if(k.name!==this.name)throw Error(`Mismatching Component ${k.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=k,this.shouldAutoInitialize()){if(function ye(X){return"EAGER"===X.instantiationMode}(k))try{this.getOrInitializeService({instanceIdentifier:se})}catch{}for(const[j,H]of this.instancesDeferred.entries()){const oe=this.normalizeInstanceIdentifier(j);try{const we=this.getOrInitializeService({instanceIdentifier:oe});H.resolve(we)}catch{}}}}clearInstance(k=se){this.instancesDeferred.delete(k),this.instancesOptions.delete(k),this.instances.delete(k)}delete(){var k=this;return(0,f.Z)(function*(){const j=Array.from(k.instances.values());yield Promise.all([...j.filter(H=>"INTERNAL"in H).map(H=>H.INTERNAL.delete()),...j.filter(H=>"_delete"in H).map(H=>H._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(k=se){return this.instances.has(k)}getOptions(k=se){return this.instancesOptions.get(k)||{}}initialize(k={}){const{options:j={}}=k,H=this.normalizeInstanceIdentifier(k.instanceIdentifier);if(this.isInitialized(H))throw Error(`${this.name}(${H}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const oe=this.getOrInitializeService({instanceIdentifier:H,options:j});for(const[we,at]of this.instancesDeferred.entries())H===this.normalizeInstanceIdentifier(we)&&at.resolve(oe);return oe}onInit(k,j){var H;const oe=this.normalizeInstanceIdentifier(j),we=null!==(H=this.onInitCallbacks.get(oe))&&void 0!==H?H:new Set;we.add(k),this.onInitCallbacks.set(oe,we);const at=this.instances.get(oe);return at&&k(at,oe),()=>{we.delete(k)}}invokeOnInitCallbacks(k,j){const H=this.onInitCallbacks.get(j);if(H)for(const oe of H)try{oe(k,j)}catch{}}getOrInitializeService({instanceIdentifier:k,options:j={}}){let H=this.instances.get(k);if(!H&&this.component&&(H=this.component.instanceFactory(this.container,{instanceIdentifier:(X=k,X===se?void 0:X),options:j}),this.instances.set(k,H),this.instancesOptions.set(k,j),this.invokeOnInitCallbacks(H,k),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,k,H)}catch{}var X;return H||null}normalizeInstanceIdentifier(k=se){return this.component?this.component.multipleInstances?k:se:k}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class de{constructor(k){this.name=k,this.providers=new Map}addComponent(k){const j=this.getProvider(k.name);if(j.isComponentSet())throw new Error(`Component ${k.name} has already been registered with ${this.name}`);j.setComponent(k)}addOrOverwriteComponent(k){this.getProvider(k.name).isComponentSet()&&this.providers.delete(k.name),this.addComponent(k)}getProvider(k){if(this.providers.has(k))return this.providers.get(k);const j=new re(k,this);return this.providers.set(k,j),j}getProviders(){return Array.from(this.providers.values())}}},7879:(st,xe,F)=>{F.d(xe,{Am:()=>X,Ub:()=>de,Yd:()=>ye,in:()=>ne});const f=[];var ne=function(k){return k[k.DEBUG=0]="DEBUG",k[k.VERBOSE=1]="VERBOSE",k[k.INFO=2]="INFO",k[k.WARN=3]="WARN",k[k.ERROR=4]="ERROR",k[k.SILENT=5]="SILENT",k}(ne||{});const L={debug:ne.DEBUG,verbose:ne.VERBOSE,info:ne.INFO,warn:ne.WARN,error:ne.ERROR,silent:ne.SILENT},se=ne.INFO,re={[ne.DEBUG]:"log",[ne.VERBOSE]:"log",[ne.INFO]:"info",[ne.WARN]:"warn",[ne.ERROR]:"error"},q=(k,j,...H)=>{if(j<k.logLevel)return;const oe=(new Date).toISOString(),we=re[j];if(!we)throw new Error(`Attempted to log a message with an invalid logType (value: ${j})`);console[we](`[${oe}]  ${k.name}:`,...H)};class ye{constructor(j){this.name=j,this._logLevel=se,this._logHandler=q,this._userLogHandler=null,f.push(this)}get logLevel(){return this._logLevel}set logLevel(j){if(!(j in ne))throw new TypeError(`Invalid value "${j}" assigned to \`logLevel\``);this._logLevel=j}setLogLevel(j){this._logLevel="string"==typeof j?L[j]:j}get logHandler(){return this._logHandler}set logHandler(j){if("function"!=typeof j)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=j}get userLogHandler(){return this._userLogHandler}set userLogHandler(j){this._userLogHandler=j}debug(...j){this._userLogHandler&&this._userLogHandler(this,ne.DEBUG,...j),this._logHandler(this,ne.DEBUG,...j)}log(...j){this._userLogHandler&&this._userLogHandler(this,ne.VERBOSE,...j),this._logHandler(this,ne.VERBOSE,...j)}info(...j){this._userLogHandler&&this._userLogHandler(this,ne.INFO,...j),this._logHandler(this,ne.INFO,...j)}warn(...j){this._userLogHandler&&this._userLogHandler(this,ne.WARN,...j),this._logHandler(this,ne.WARN,...j)}error(...j){this._userLogHandler&&this._userLogHandler(this,ne.ERROR,...j),this._logHandler(this,ne.ERROR,...j)}}function de(k){f.forEach(j=>{j.setLogLevel(k)})}function X(k,j){for(const H of f){let oe=null;j&&j.level&&(oe=L[j.level]),H.userLogHandler=null===k?null:(we,at,...pe)=>{const Fe=pe.map(Ve=>{if(null==Ve)return null;if("string"==typeof Ve)return Ve;if("number"==typeof Ve||"boolean"==typeof Ve)return Ve.toString();if(Ve instanceof Error)return Ve.message;try{return JSON.stringify(Ve)}catch{return null}}).filter(Ve=>Ve).join(" ");at>=(oe??we.logLevel)&&k({level:ne[at].toLowerCase(),message:Fe,args:pe,type:we.name})}}}},3182:(st,xe,F)=>{F.d(xe,{C6:()=>f.getApps,Mq:()=>f.getApp});var f=F(6122);(0,f.registerVersion)("firebase","10.4.0","app")},7142:(st,xe,F)=>{F.d(xe,{Z:()=>f.Z});var f=F(3106);f.Z.registerVersion("firebase","10.4.0","app-compat")},7367:(st,xe,F)=>{F.r(xe);var f=F(5861),ne=F(3106),L=F(9058),se=F(6122),re=F(7879);function X(_,h){var p={};for(var v in _)Object.prototype.hasOwnProperty.call(_,v)&&h.indexOf(v)<0&&(p[v]=_[v]);if(null!=_&&"function"==typeof Object.getOwnPropertySymbols){var C=0;for(v=Object.getOwnPropertySymbols(_);C<v.length;C++)h.indexOf(v[C])<0&&Object.prototype.propertyIsEnumerable.call(_,v[C])&&(p[v[C]]=_[v[C]])}return p}"function"==typeof SuppressedError&&SuppressedError;var fo=F(4537);const ut={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};function ln(_){return void 0!==_&&void 0!==_.getResponse}function Wa(_){return void 0!==_&&void 0!==_.enterprise}class po{constructor(h){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===h.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=h.recaptchaKey.split("/")[3],this.emailPasswordEnabled=h.recaptchaEnforcementState.some(p=>"EMAIL_PASSWORD_PROVIDER"===p.provider&&"OFF"!==p.enforcementState)}}const Is=function qo(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Za=function zn(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Wo=new L.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),si=new re.Yd("@firebase/auth");function Zo(_,...h){si.logLevel<=re.in.ERROR&&si.error(`Auth (${se.SDK_VERSION}): ${_}`,...h)}function Ye(_,...h){throw ir(_,...h)}function _t(_,...h){return ir(_,...h)}function St(_,h,p){const v=Object.assign(Object.assign({},Za()),{[h]:p});return new L.LL("auth","Firebase",v).create(h,{appName:_.name})}function Jt(_,h,p){if(!(h instanceof p))throw p.name!==h.constructor.name&&Ye(_,"argument-error"),St(_,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ir(_,...h){if("string"!=typeof _){const p=h[0],v=[...h.slice(1)];return v[0]&&(v[0].appName=_.name),_._errorFactory.create(p,...v)}return Wo.create(_,...h)}function De(_,h,...p){if(!_)throw ir(h,...p)}function Ut(_){const h="INTERNAL ASSERTION FAILED: "+_;throw Zo(h),new Error(h)}function un(_,h){_||Ut(h)}function Ko(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function ot(){return"http:"===Kr()||"https:"===Kr()}function Kr(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class Yr{constructor(h,p){this.shortDelay=h,this.longDelay=p,un(p>h,"Short delay should be less than long delay!"),this.isMobile=(0,L.uI)()||(0,L.b$)()}get(){return function Ft(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ot()||(0,L.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ws(_,h){un(_.emulator,"Emulator should always be set here");const{url:p}=_.emulator;return h?`${p}${h.startsWith("/")?h.slice(1):h}`:p}class mr{static initialize(h,p,v){this.fetchImpl=h,p&&(this.headersImpl=p),v&&(this.responseImpl=v)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Ut("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Ut("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Ut("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const oa={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},xs=new Yr(3e4,6e4);function Zt(_,h){return _.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:_.tenantId}):h}function Kt(_,h,p,v){return zi.apply(this,arguments)}function zi(){return(zi=(0,f.Z)(function*(_,h,p,v,C={}){return Ci(_,C,(0,f.Z)(function*(){let M={},V={};v&&("GET"===h?V=v:M={body:JSON.stringify(v)});const W=(0,L.xO)(Object.assign({key:_.config.apiKey},V)).slice(1),he=yield _._getAdditionalHeaders();return he["Content-Type"]="application/json",_.languageCode&&(he["X-Firebase-Locale"]=_.languageCode),mr.fetch()($(_,_.config.apiHost,p,W),Object.assign({method:h,headers:he,referrerPolicy:"no-referrer"},M))}))})).apply(this,arguments)}function Ci(_,h,p){return kr.apply(this,arguments)}function kr(){return(kr=(0,f.Z)(function*(_,h,p){_._canInitEmulator=!1;const v=Object.assign(Object.assign({},oa),h);try{const C=new Q(_),M=yield Promise.race([p(),C.promise]);C.clearNetworkTimeout();const V=yield M.json();if("needConfirmation"in V)throw Ie(_,"account-exists-with-different-credential",V);if(M.ok&&!("errorMessage"in V))return V;{const W=M.ok?V.errorMessage:V.error.message,[he,_e]=W.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===he)throw Ie(_,"credential-already-in-use",V);if("EMAIL_EXISTS"===he)throw Ie(_,"email-already-in-use",V);if("USER_DISABLED"===he)throw Ie(_,"user-disabled",V);const Oe=v[he]||he.toLowerCase().replace(/[_\s]+/g,"-");if(_e)throw St(_,Oe,_e);Ye(_,Oe)}}catch(C){if(C instanceof L.ZR)throw C;Ye(_,"network-request-failed",{message:String(C)})}})).apply(this,arguments)}function Jn(_,h,p,v){return G.apply(this,arguments)}function G(){return(G=(0,f.Z)(function*(_,h,p,v,C={}){const M=yield Kt(_,h,p,v,C);return"mfaPendingCredential"in M&&Ye(_,"multi-factor-auth-required",{_serverResponse:M}),M})).apply(this,arguments)}function $(_,h,p,v){const C=`${h}${p}?${v}`;return _.config.emulator?ws(_.config,C):`${_.config.apiScheme}://${C}`}class Q{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((p,v)=>{this.timer=setTimeout(()=>v(_t(this.auth,"network-request-failed")),xs.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ie(_,h,p){const v={appName:_.name};p.email&&(v.email=p.email),p.phoneNumber&&(v.phoneNumber=p.phoneNumber);const C=_t(_,h,v);return C.customData._tokenResponse=p,C}function Qe(){return(Qe=(0,f.Z)(function*(_){return(yield Kt(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function ft(_,h){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,f.Z)(function*(_,h){return Kt(_,"GET","/v2/recaptchaConfig",Zt(_,h))})).apply(this,arguments)}function On(){return(On=(0,f.Z)(function*(_,h){return Kt(_,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function jt(){return(jt=(0,f.Z)(function*(_,h){return Kt(_,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function gr(){return(gr=(0,f.Z)(function*(_,h){return Kt(_,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function ai(_){if(_)try{const h=new Date(Number(_));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function ie(){return(ie=(0,f.Z)(function*(_,h=!1){const p=(0,L.m9)(_),v=yield p.getIdToken(h),C=et(v);De(C&&C.exp&&C.auth_time&&C.iat,p.auth,"internal-error");const M="object"==typeof C.firebase?C.firebase:void 0,V=M?.sign_in_provider;return{claims:C,token:v,authTime:ai(Se(C.auth_time)),issuedAtTime:ai(Se(C.iat)),expirationTime:ai(Se(C.exp)),signInProvider:V||null,signInSecondFactor:M?.sign_in_second_factor||null}})).apply(this,arguments)}function Se(_){return 1e3*Number(_)}function et(_){const[h,p,v]=_.split(".");if(void 0===h||void 0===p||void 0===v)return Zo("JWT malformed, contained fewer than 3 sections"),null;try{const C=(0,L.tV)(p);return C?JSON.parse(C):(Zo("Failed to decode base64 JWT payload"),null)}catch(C){return Zo("Caught error parsing JWT payload as JSON",C?.toString()),null}}function He(_,h){return qt.apply(this,arguments)}function qt(){return(qt=(0,f.Z)(function*(_,h,p=!1){if(p)return h;try{return yield h}catch(v){throw v instanceof L.ZR&&function $n({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}(v)&&_.auth.currentUser===_&&(yield _.auth.signOut()),v}})).apply(this,arguments)}class Nn{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var p;if(h){const v=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),v}{this.errorBackoff=3e4;const C=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,C)}}schedule(h=!1){var p=this;if(!this.isRunning)return;const v=this.getInterval(h);this.timerId=setTimeout((0,f.Z)(function*(){yield p.iteration()}),v)}iteration(){var h=this;return(0,f.Z)(function*(){try{yield h.user.getIdToken(!0)}catch(p){return void("auth/network-request-failed"===p?.code&&h.schedule(!0))}h.schedule()})()}}class go{constructor(h,p){this.createdAt=h,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=ai(this.lastLoginAt),this.creationTime=ai(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function er(_){return Ti.apply(this,arguments)}function Ti(){return Ti=(0,f.Z)(function*(_){var h;const p=_.auth,v=yield _.getIdToken(),C=yield He(_,function or(_,h){return gr.apply(this,arguments)}(p,{idToken:v}));De(C?.users.length,p,"internal-error");const M=C.users[0];_._notifyReloadListener(M);const V=null!==(h=M.providerUserInfo)&&void 0!==h&&h.length?function Ka(_){return _.map(h=>{var{providerId:p}=h,v=X(h,["providerId"]);return{providerId:p,uid:v.rawId||"",displayName:v.displayName||null,email:v.email||null,phoneNumber:v.phoneNumber||null,photoURL:v.photoUrl||null}})}(M.providerUserInfo):[],W=function wu(_,h){return[..._.filter(v=>!h.some(C=>C.providerId===v.providerId)),...h]}(_.providerData,V),Oe=!!_.isAnonymous&&!(_.email&&M.passwordHash||W?.length),Ue={uid:M.localId,displayName:M.displayName||null,photoURL:M.photoUrl||null,email:M.email||null,emailVerified:M.emailVerified||!1,phoneNumber:M.phoneNumber||null,tenantId:M.tenantId||null,providerData:W,metadata:new go(M.createdAt,M.lastLoginAt),isAnonymous:Oe};Object.assign(_,Ue)}),Ti.apply(this,arguments)}function sa(){return(sa=(0,f.Z)(function*(_){const h=(0,L.m9)(_);yield er(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function _o(){return(_o=(0,f.Z)(function*(_,h){const p=yield Ci(_,{},(0,f.Z)(function*(){const v=(0,L.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:C,apiKey:M}=_.config,V=$(_,C,"/v1/token",`key=${M}`),W=yield _._getAdditionalHeaders();return W["Content-Type"]="application/x-www-form-urlencoded",mr.fetch()(V,{method:"POST",headers:W,body:v})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}class Cs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){De(h.idToken,"internal-error"),De(typeof h.idToken<"u","internal-error"),De(typeof h.refreshToken<"u","internal-error");const p="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):function pt(_){const h=et(_);return De(h,"internal-error"),De(typeof h.exp<"u","internal-error"),De(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,p)}getToken(h,p=!1){var v=this;return(0,f.Z)(function*(){return De(!v.accessToken||v.refreshToken,h,"user-token-expired"),p||!v.accessToken||v.isExpired?v.refreshToken?(yield v.refresh(h,v.refreshToken),v.accessToken):null:v.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,p){var v=this;return(0,f.Z)(function*(){const{accessToken:C,refreshToken:M,expiresIn:V}=yield function ah(_,h){return _o.apply(this,arguments)}(h,p);v.updateTokensAndExpiration(C,M,Number(V))})()}updateTokensAndExpiration(h,p,v){this.refreshToken=p||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*v}static fromJSON(h,p){const{refreshToken:v,accessToken:C,expirationTime:M}=p,V=new Cs;return v&&(De("string"==typeof v,"internal-error",{appName:h}),V.refreshToken=v),C&&(De("string"==typeof C,"internal-error",{appName:h}),V.accessToken=C),M&&(De("number"==typeof M,"internal-error",{appName:h}),V.expirationTime=M),V}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new Cs,this.toJSON())}_performRefresh(){return Ut("not implemented")}}function Ts(_,h){De("string"==typeof _||typeof _>"u","internal-error",{appName:h})}class ci{constructor(h){var{uid:p,auth:v,stsTokenManager:C}=h,M=X(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Nn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=v,this.stsTokenManager=C,this.accessToken=C.accessToken,this.displayName=M.displayName||null,this.email=M.email||null,this.emailVerified=M.emailVerified||!1,this.phoneNumber=M.phoneNumber||null,this.photoURL=M.photoURL||null,this.isAnonymous=M.isAnonymous||!1,this.tenantId=M.tenantId||null,this.providerData=M.providerData?[...M.providerData]:[],this.metadata=new go(M.createdAt||void 0,M.lastLoginAt||void 0)}getIdToken(h){var p=this;return(0,f.Z)(function*(){const v=yield He(p,p.stsTokenManager.getToken(p.auth,h));return De(v,p.auth,"internal-error"),p.accessToken!==v&&(p.accessToken=v,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),v})()}getIdTokenResult(h){return function me(_){return ie.apply(this,arguments)}(this,h)}reload(){return function Iu(_){return sa.apply(this,arguments)}(this)}_assign(h){this!==h&&(De(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(p=>Object.assign({},p)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){const p=new ci(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}));return p.metadata._copy(this.metadata),p}_onReload(h){De(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,p=!1){var v=this;return(0,f.Z)(function*(){let C=!1;h.idToken&&h.idToken!==v.stsTokenManager.accessToken&&(v.stsTokenManager.updateFromServerResponse(h),C=!0),p&&(yield er(v)),yield v.auth._persistUserIfCurrent(v),C&&v.auth._notifyListenersIfCurrent(v)})()}delete(){var h=this;return(0,f.Z)(function*(){const p=yield h.getIdToken();return yield He(h,function tn(_,h){return On.apply(this,arguments)}(h.auth,{idToken:p})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,p){var v,C,M,V,W,he,_e,Oe;const Ue=null!==(v=p.displayName)&&void 0!==v?v:void 0,Mt=null!==(C=p.email)&&void 0!==C?C:void 0,jn=null!==(M=p.phoneNumber)&&void 0!==M?M:void 0,Ni=null!==(V=p.photoURL)&&void 0!==V?V:void 0,No=null!==(W=p.tenantId)&&void 0!==W?W:void 0,Ur=null!==(he=p._redirectEventId)&&void 0!==he?he:void 0,ds=null!==(_e=p.createdAt)&&void 0!==_e?_e:void 0,hd=null!==(Oe=p.lastLoginAt)&&void 0!==Oe?Oe:void 0,{uid:Zl,emailVerified:Kl,isAnonymous:Bb,providerData:z_,stsTokenManager:ww}=p;De(Zl&&ww,h,"internal-error");const xw=Cs.fromJSON(this.name,ww);De("string"==typeof Zl,h,"internal-error"),Ts(Ue,h.name),Ts(Mt,h.name),De("boolean"==typeof Kl,h,"internal-error"),De("boolean"==typeof Bb,h,"internal-error"),Ts(jn,h.name),Ts(Ni,h.name),Ts(No,h.name),Ts(Ur,h.name),Ts(ds,h.name),Ts(hd,h.name);const nf=new ci({uid:Zl,auth:h,email:Mt,emailVerified:Kl,displayName:Ue,isAnonymous:Bb,photoURL:Ni,phoneNumber:jn,tenantId:No,stsTokenManager:xw,createdAt:ds,lastLoginAt:hd});return z_&&Array.isArray(z_)&&(nf.providerData=z_.map(Ub=>Object.assign({},Ub))),Ur&&(nf._redirectEventId=Ur),nf}static _fromIdTokenResponse(h,p,v=!1){return(0,f.Z)(function*(){const C=new Cs;C.updateFromServerResponse(p);const M=new ci({uid:p.localId,auth:h,stsTokenManager:C,isAnonymous:v});return yield er(M),M})()}}const ch=new Map;function Qr(_){un(_ instanceof Function,"Expected a class definition");let h=ch.get(_);return h?(un(h instanceof _,"Instance stored in cache mismatched with class"),h):(h=new _,ch.set(_,h),h)}const Bn=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,f.Z)(function*(){return!0})()}_set(p,v){var C=this;return(0,f.Z)(function*(){C.storage[p]=v})()}_get(p){var v=this;return(0,f.Z)(function*(){const C=v.storage[p];return void 0===C?null:C})()}_remove(p){var v=this;return(0,f.Z)(function*(){delete v.storage[p]})()}_addListener(p,v){}_removeListener(p,v){}}return _.type="NONE",_})();function Yo(_,h,p){return`firebase:${_}:${h}:${p}`}class As{constructor(h,p,v){this.persistence=h,this.auth=p,this.userKey=v;const{config:C,name:M}=this.auth;this.fullUserKey=Yo(this.userKey,C.apiKey,M),this.fullPersistenceKey=Yo("persistence",C.apiKey,M),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,f.Z)(function*(){const p=yield h.persistence._get(h.fullUserKey);return p?ci._fromJSON(h.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var p=this;return(0,f.Z)(function*(){if(p.persistence===h)return;const v=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=h,v?p.setCurrentUser(v):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,p,v="authUser"){return(0,f.Z)(function*(){if(!p.length)return new As(Qr(Bn),h,v);const C=(yield Promise.all(p.map(function(){var _e=(0,f.Z)(function*(Oe){if(yield Oe._isAvailable())return Oe});return function(Oe){return _e.apply(this,arguments)}}()))).filter(_e=>_e);let M=C[0]||Qr(Bn);const V=Yo(v,h.config.apiKey,h.name);let W=null;for(const _e of p)try{const Oe=yield _e._get(V);if(Oe){const Ue=ci._fromJSON(h,Oe);_e!==M&&(W=Ue),M=_e;break}}catch{}const he=C.filter(_e=>_e._shouldAllowMigration);return M._shouldAllowMigration&&he.length?(M=he[0],W&&(yield M._set(V,W.toJSON())),yield Promise.all(p.map(function(){var _e=(0,f.Z)(function*(Oe){if(Oe!==M)try{yield Oe._remove(V)}catch{}});return function(Oe){return _e.apply(this,arguments)}}())),new As(M,h,v)):new As(M,h,v)})()}}function Sp(_){const h=_.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(Tu(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(xu(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(Xr(h))return"Blackberry";if(dh(h))return"Webos";if(uh(h))return"Safari";if((h.includes("chrome/")||Cu(h))&&!h.includes("edge/"))return"Chrome";if(nl(h))return"Android";{const v=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===v?.length)return v[1]}return"Other"}function xu(_=(0,L.z$)()){return/firefox\//i.test(_)}function uh(_=(0,L.z$)()){const h=_.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function Cu(_=(0,L.z$)()){return/crios\//i.test(_)}function Tu(_=(0,L.z$)()){return/iemobile/i.test(_)}function nl(_=(0,L.z$)()){return/android/i.test(_)}function Xr(_=(0,L.z$)()){return/blackberry/i.test(_)}function dh(_=(0,L.z$)()){return/webos/i.test(_)}function Un(_=(0,L.z$)()){return/iphone|ipad|ipod/i.test(_)||/macintosh/i.test(_)&&/mobile/i.test(_)}function Ya(_=(0,L.z$)()){return Un(_)||nl(_)||dh(_)||Xr(_)||/windows phone/i.test(_)||Tu(_)}function Qa(_,h=[]){let p;switch(_){case"Browser":p=Sp((0,L.z$)());break;case"Worker":p=`${Sp((0,L.z$)())}-${_}`;break;default:p=_}const v=h.length?h.join(","):"FirebaseCore-web";return`${p}/JsCore/${se.SDK_VERSION}/${v}`}class Np{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,p){const v=M=>new Promise((V,W)=>{try{V(h(M))}catch(he){W(he)}});v.onAbort=p,this.queue.push(v);const C=this.queue.length-1;return()=>{this.queue[C]=()=>Promise.resolve()}}runMiddleware(h){var p=this;return(0,f.Z)(function*(){if(p.auth.currentUser===h)return;const v=[];try{for(const C of p.queue)yield C(h),C.onAbort&&v.push(C.onAbort)}catch(C){v.reverse();for(const M of v)try{M()}catch{}throw p.auth._errorFactory.create("login-blocked",{originalMessage:C?.message})}})()}}function zt(){return(zt=(0,f.Z)(function*(_,h={}){return Kt(_,"GET","/v2/passwordPolicy",Zt(_,h))})).apply(this,arguments)}class Ar{constructor(h){var p,v,C,M;const V=h.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(p=V.minPasswordLength)&&void 0!==p?p:6,V.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=V.maxPasswordLength),void 0!==V.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=V.containsLowercaseCharacter),void 0!==V.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=V.containsUppercaseCharacter),void 0!==V.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=V.containsNumericCharacter),void 0!==V.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=V.containsNonAlphanumericCharacter),this.enforcementState=h.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(C=null===(v=h.allowedNonAlphanumericCharacters)||void 0===v?void 0:v.join(""))&&void 0!==C?C:"",this.forceUpgradeOnSignin=null!==(M=h.forceUpgradeOnSignin)&&void 0!==M&&M,this.schemaVersion=h.schemaVersion}validatePassword(h){var p,v,C,M,V,W;const he={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(h,he),this.validatePasswordCharacterOptions(h,he),he.isValid&&(he.isValid=null===(p=he.meetsMinPasswordLength)||void 0===p||p),he.isValid&&(he.isValid=null===(v=he.meetsMaxPasswordLength)||void 0===v||v),he.isValid&&(he.isValid=null===(C=he.containsLowercaseLetter)||void 0===C||C),he.isValid&&(he.isValid=null===(M=he.containsUppercaseLetter)||void 0===M||M),he.isValid&&(he.isValid=null===(V=he.containsNumericCharacter)||void 0===V||V),he.isValid&&(he.isValid=null===(W=he.containsNonAlphanumericCharacter)||void 0===W||W),he}validatePasswordLengthOptions(h,p){const v=this.customStrengthOptions.minPasswordLength,C=this.customStrengthOptions.maxPasswordLength;v&&(p.meetsMinPasswordLength=h.length>=v),C&&(p.meetsMaxPasswordLength=h.length<=C)}validatePasswordCharacterOptions(h,p){let v;this.updatePasswordCharacterOptionsStatuses(p,!1,!1,!1,!1);for(let C=0;C<h.length;C++)v=h.charAt(C),this.updatePasswordCharacterOptionsStatuses(p,v>="a"&&v<="z",v>="A"&&v<="Z",v>="0"&&v<="9",this.allowedNonAlphanumericCharacters.includes(v))}updatePasswordCharacterOptionsStatuses(h,p,v,C,M){this.customStrengthOptions.containsLowercaseLetter&&(h.containsLowercaseLetter||(h.containsLowercaseLetter=p)),this.customStrengthOptions.containsUppercaseLetter&&(h.containsUppercaseLetter||(h.containsUppercaseLetter=v)),this.customStrengthOptions.containsNumericCharacter&&(h.containsNumericCharacter||(h.containsNumericCharacter=C)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(h.containsNonAlphanumericCharacter||(h.containsNonAlphanumericCharacter=M))}}class Qo{constructor(h,p,v,C){this.app=h,this.heartbeatServiceProvider=p,this.appCheckServiceProvider=v,this.config=C,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new fh(this),this.idTokenSubscription=new fh(this),this.beforeStateQueue=new Np(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Wo,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=C.sdkClientVersion}_initializeWithPersistence(h,p){var v=this;return p&&(this._popupRedirectResolver=Qr(p)),this._initializationPromise=this.queue((0,f.Z)(function*(){var C,M;if(!v._deleted&&(v.persistenceManager=yield As.create(v,h),!v._deleted)){if(null!==(C=v._popupRedirectResolver)&&void 0!==C&&C._shouldInitProactively)try{yield v._popupRedirectResolver._initialize(v)}catch{}yield v.initializeCurrentUser(p),v.lastNotifiedUid=(null===(M=v.currentUser)||void 0===M?void 0:M.uid)||null,!v._deleted&&(v._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,f.Z)(function*(){if(h._deleted)return;const p=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||p){if(h.currentUser&&p&&h.currentUser.uid===p.uid)return h._currentUser._assign(p),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(p,!0)}})()}initializeCurrentUser(h){var p=this;return(0,f.Z)(function*(){var v;const C=yield p.assertedPersistence.getCurrentUser();let M=C,V=!1;if(h&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const W=null===(v=p.redirectUser)||void 0===v?void 0:v._redirectEventId,he=M?._redirectEventId,_e=yield p.tryRedirectSignIn(h);(!W||W===he)&&_e?.user&&(M=_e.user,V=!0)}if(!M)return p.directlySetCurrentUser(null);if(!M._redirectEventId){if(V)try{yield p.beforeStateQueue.runMiddleware(M)}catch(W){M=C,p._popupRedirectResolver._overrideRedirectResult(p,()=>Promise.reject(W))}return M?p.reloadAndSetCurrentUserOrClear(M):p.directlySetCurrentUser(null)}return De(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===M._redirectEventId?p.directlySetCurrentUser(M):p.reloadAndSetCurrentUserOrClear(M)})()}tryRedirectSignIn(h){var p=this;return(0,f.Z)(function*(){let v=null;try{v=yield p._popupRedirectResolver._completeRedirectFn(p,h,!0)}catch{yield p._setRedirectUser(null)}return v})()}reloadAndSetCurrentUserOrClear(h){var p=this;return(0,f.Z)(function*(){try{yield er(h)}catch(v){if("auth/network-request-failed"!==v?.code)return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function ia(){if(typeof navigator>"u")return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var h=this;return(0,f.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var p=this;return(0,f.Z)(function*(){const v=h?(0,L.m9)(h):null;return v&&De(v.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(v&&v._clone(p))})()}_updateCurrentUser(h,p=!1){var v=this;return(0,f.Z)(function*(){if(!v._deleted)return h&&De(v.tenantId===h.tenantId,v,"tenant-id-mismatch"),p||(yield v.beforeStateQueue.runMiddleware(h)),v.queue((0,f.Z)(function*(){yield v.directlySetCurrentUser(h),v.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,f.Z)(function*(){return yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0)})()}setPersistence(h){var p=this;return this.queue((0,f.Z)(function*(){yield p.assertedPersistence.setPersistence(Qr(h))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(h){var p=this;return(0,f.Z)(function*(){p._getPasswordPolicyInternal()||(yield p._updatePasswordPolicy());const v=p._getPasswordPolicyInternal();return v.schemaVersion!==p.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(p._errorFactory.create("unsupported-password-policy-schema-version",{})):v.validatePassword(h)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var h=this;return(0,f.Z)(function*(){const p=yield function hh(_){return zt.apply(this,arguments)}(h),v=new Ar(p);null===h.tenantId?h._projectPasswordPolicy=v:h._tenantPasswordPolicies[h.tenantId]=v})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new L.LL("auth","Firebase",h())}onAuthStateChanged(h,p,v){return this.registerStateListener(this.authStateSubscription,h,p,v)}beforeAuthStateChanged(h,p){return this.beforeStateQueue.pushCallback(h,p)}onIdTokenChanged(h,p,v){return this.registerStateListener(this.idTokenSubscription,h,p,v)}authStateReady(){return new Promise((h,p)=>{if(this.currentUser)h();else{const v=this.onAuthStateChanged(()=>{v(),h()},p)}})}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,p){var v=this;return(0,f.Z)(function*(){const C=yield v.getOrInitRedirectPersistenceManager(p);return null===h?C.removeCurrentUser():C.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var p=this;return(0,f.Z)(function*(){if(!p.redirectPersistenceManager){const v=h&&Qr(h)||p._popupRedirectResolver;De(v,p,"argument-error"),p.redirectPersistenceManager=yield As.create(p,[Qr(v._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(h){var p=this;return(0,f.Z)(function*(){var v,C;return p._isInitialized&&(yield p.queue((0,f.Z)(function*(){}))),(null===(v=p._currentUser)||void 0===v?void 0:v._redirectEventId)===h?p._currentUser:(null===(C=p.redirectUser)||void 0===C?void 0:C._redirectEventId)===h?p.redirectUser:null})()}_persistUserIfCurrent(h){var p=this;return(0,f.Z)(function*(){if(h===p.currentUser)return p.queue((0,f.Z)(function*(){return p.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const v=null!==(p=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==v&&(this.lastNotifiedUid=v,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,p,v,C){if(this._deleted)return()=>{};const M="function"==typeof p?p:p.next.bind(p);let V=!1;const W=this._isInitialized?Promise.resolve():this._initializationPromise;if(De(W,this,"internal-error"),W.then(()=>{V||M(this.currentUser)}),"function"==typeof p){const he=h.addObserver(p,v,C);return()=>{V=!0,he()}}{const he=h.addObserver(p);return()=>{V=!0,he()}}}directlySetCurrentUser(h){var p=this;return(0,f.Z)(function*(){p.currentUser&&p.currentUser!==h&&p._currentUser._stopProactiveRefresh(),h&&p.isProactiveRefreshEnabled&&h._startProactiveRefresh(),p.currentUser=h,h?yield p.assertedPersistence.setCurrentUser(h):yield p.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return De(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=Qa(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,f.Z)(function*(){var p;const v={"X-Client-Version":h.clientVersion};h.app.options.appId&&(v["X-Firebase-gmpid"]=h.app.options.appId);const C=yield null===(p=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();C&&(v["X-Firebase-Client"]=C);const M=yield h._getAppCheckToken();return M&&(v["X-Firebase-AppCheck"]=M),v})()}_getAppCheckToken(){var h=this;return(0,f.Z)(function*(){var p;const v=yield null===(p=h.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getToken();return v?.error&&function mo(_,...h){si.logLevel<=re.in.WARN&&si.warn(`Auth (${se.SDK_VERSION}): ${_}`,...h)}(`Error while retrieving App Check token: ${v.error}`),v?.token})()}}function Wt(_){return(0,L.m9)(_)}class fh{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,L.ne)(p=>this.observer=p)}get next(){return De(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Xa(_){return new Promise((h,p)=>{const v=document.createElement("script");v.setAttribute("src",_),v.onload=h,v.onerror=C=>{const M=_t("internal-error");M.customData=C,p(M)},v.type="text/javascript",v.charset="UTF-8",function kp(){var _,h;return null!==(h=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==h?h:document}().appendChild(v)})}function Ja(_){return`__${_}${Math.floor(1e6*Math.random())}`}class At{constructor(h){this.type="recaptcha-enterprise",this.auth=Wt(h)}verify(h="verify",p=!1){var v=this;return(0,f.Z)(function*(){function M(){return M=(0,f.Z)(function*(W){if(!p){if(null==W.tenantId&&null!=W._agentRecaptchaConfig)return W._agentRecaptchaConfig.siteKey;if(null!=W.tenantId&&void 0!==W._tenantRecaptchaConfigs[W.tenantId])return W._tenantRecaptchaConfigs[W.tenantId].siteKey}return new Promise(function(){var he=(0,f.Z)(function*(_e,Oe){ft(W,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Ue=>{if(void 0!==Ue.recaptchaKey){const Mt=new po(Ue);return null==W.tenantId?W._agentRecaptchaConfig=Mt:W._tenantRecaptchaConfigs[W.tenantId]=Mt,_e(Mt.siteKey)}Oe(new Error("recaptcha Enterprise site key undefined"))}).catch(Ue=>{Oe(Ue)})});return function(_e,Oe){return he.apply(this,arguments)}}())}),M.apply(this,arguments)}function V(W,he,_e){const Oe=window.grecaptcha;Wa(Oe)?Oe.enterprise.ready(()=>{Oe.enterprise.execute(W,{action:h}).then(Ue=>{he(Ue)}).catch(()=>{he("NO_RECAPTCHA")})}):_e(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((W,he)=>{(function C(W){return M.apply(this,arguments)})(v.auth).then(_e=>{if(!p&&Wa(window.grecaptcha))V(_e,W,he);else{if(typeof window>"u")return void he(new Error("RecaptchaVerifier is only supported in browser"));Xa("https://www.google.com/recaptcha/enterprise.js?render="+_e).then(()=>{V(_e,W,he)}).catch(Oe=>{he(Oe)})}}).catch(_e=>{he(_e)})})})()}}function Xt(_,h,p){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,f.Z)(function*(_,h,p,v=!1){const C=new At(_);let M;try{M=yield C.verify(p)}catch{M=yield C.verify(p,!0)}const V=Object.assign({},h);return Object.assign(V,v?{captchaResp:M}:{captchaResponse:M}),Object.assign(V,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(V,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),V})).apply(this,arguments)}function $i(_){const h=_.indexOf(":");return h<0?"":_.substr(0,h+1)}function aa(_){if(!_)return null;const h=Number(_);return isNaN(h)?null:h}class Gi{constructor(h,p){this.providerId=h,this.signInMethod=p}toJSON(){return Ut("not implemented")}_getIdTokenResponse(h){return Ut("not implemented")}_linkToIdToken(h,p){return Ut("not implemented")}_getReauthenticationResolver(h){return Ut("not implemented")}}function kn(_,h){return ca.apply(this,arguments)}function ca(){return(ca=(0,f.Z)(function*(_,h){return Kt(_,"POST","/v1/accounts:resetPassword",Zt(_,h))})).apply(this,arguments)}function Ds(_,h){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,f.Z)(function*(_,h){return Kt(_,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Au(){return(Au=(0,f.Z)(function*(_,h){return Kt(_,"POST","/v1/accounts:update",Zt(_,h))})).apply(this,arguments)}function Jr(_,h){return qi.apply(this,arguments)}function qi(){return(qi=(0,f.Z)(function*(_,h){return Jn(_,"POST","/v1/accounts:signInWithPassword",Zt(_,h))})).apply(this,arguments)}function Wi(_,h){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,f.Z)(function*(_,h){return Kt(_,"POST","/v1/accounts:sendOobCode",Zt(_,h))})).apply(this,arguments)}function Du(){return(Du=(0,f.Z)(function*(_,h){return Wi(_,h)})).apply(this,arguments)}function tc(_,h){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,f.Z)(function*(_,h){return Wi(_,h)})).apply(this,arguments)}function li(_,h){return nc.apply(this,arguments)}function nc(){return(nc=(0,f.Z)(function*(_,h){return Wi(_,h)})).apply(this,arguments)}function Sr(){return(Sr=(0,f.Z)(function*(_,h){return Wi(_,h)})).apply(this,arguments)}function Su(){return(Su=(0,f.Z)(function*(_,h){return Jn(_,"POST","/v1/accounts:signInWithEmailLink",Zt(_,h))})).apply(this,arguments)}function tr(){return(tr=(0,f.Z)(function*(_,h){return Jn(_,"POST","/v1/accounts:signInWithEmailLink",Zt(_,h))})).apply(this,arguments)}class Rs extends Gi{constructor(h,p,v,C=null){super("password",v),this._email=h,this._password=p,this._tenantId=C}static _fromEmailAndPassword(h,p){return new Rs(h,p,"password")}static _fromEmailAndCode(h,p,v=null){return new Rs(h,p,"emailLink",v)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h;if(p?.email&&p?.password){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(h){var p=this;return(0,f.Z)(function*(){var v;switch(p.signInMethod){case"password":const C={returnSecureToken:!0,email:p._email,password:p._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(v=h._getRecaptchaConfig())&&void 0!==v&&v.emailPasswordEnabled){const M=yield Xt(h,C,"signInWithPassword");return Jr(h,M)}return Jr(h,C).catch(function(){var M=(0,f.Z)(function*(V){if("auth/missing-recaptcha-token"===V.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const W=yield Xt(h,C,"signInWithPassword");return Jr(h,W)}return Promise.reject(V)});return function(V){return M.apply(this,arguments)}}());case"emailLink":return function _r(_,h){return Su.apply(this,arguments)}(h,{email:p._email,oobCode:p._password});default:Ye(h,"internal-error")}})()}_linkToIdToken(h,p){var v=this;return(0,f.Z)(function*(){switch(v.signInMethod){case"password":return Ds(h,{idToken:p,returnSecureToken:!0,email:v._email,password:v._password});case"emailLink":return function Fr(_,h){return tr.apply(this,arguments)}(h,{idToken:p,email:v._email,oobCode:v._password});default:Ye(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function yr(_,h){return rc.apply(this,arguments)}function rc(){return(rc=(0,f.Z)(function*(_,h){return Jn(_,"POST","/v1/accounts:signInWithIdp",Zt(_,h))})).apply(this,arguments)}class ui extends Gi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const p=new ui(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(p.idToken=h.idToken),h.accessToken&&(p.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(p.nonce=h.nonce),h.pendingToken&&(p.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(p.accessToken=h.oauthToken,p.secret=h.oauthTokenSecret):Ye("argument-error"),p}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h,{providerId:v,signInMethod:C}=p,M=X(p,["providerId","signInMethod"]);if(!v||!C)return null;const V=new ui(v,C);return V.idToken=M.idToken||void 0,V.accessToken=M.accessToken||void 0,V.secret=M.secret,V.nonce=M.nonce,V.pendingToken=M.pendingToken||null,V}_getIdTokenResponse(h){return yr(h,this.buildRequest())}_linkToIdToken(h,p){const v=this.buildRequest();return v.idToken=p,yr(h,v)}_getReauthenticationResolver(h){const p=this.buildRequest();return p.autoCreate=!1,yr(h,p)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const p={};this.idToken&&(p.id_token=this.idToken),this.accessToken&&(p.access_token=this.accessToken),this.secret&&(p.oauth_token_secret=this.secret),p.providerId=this.providerId,this.nonce&&!this.pendingToken&&(p.nonce=this.nonce),h.postBody=(0,L.xO)(p)}return h}}function il(){return(il=(0,f.Z)(function*(_,h){return Kt(_,"POST","/v1/accounts:sendVerificationCode",Zt(_,h))})).apply(this,arguments)}function ol(){return(ol=(0,f.Z)(function*(_,h){return Jn(_,"POST","/v1/accounts:signInWithPhoneNumber",Zt(_,h))})).apply(this,arguments)}function sl(){return(sl=(0,f.Z)(function*(_,h){const p=yield Jn(_,"POST","/v1/accounts:signInWithPhoneNumber",Zt(_,h));if(p.temporaryProof)throw Ie(_,"account-exists-with-different-credential",p);return p})).apply(this,arguments)}const Vp={USER_NOT_FOUND:"user-not-found"};function gn(){return(gn=(0,f.Z)(function*(_,h){return Jn(_,"POST","/v1/accounts:signInWithPhoneNumber",Zt(_,Object.assign(Object.assign({},h),{operation:"REAUTH"})),Vp)})).apply(this,arguments)}class Ns extends Gi{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,p){return new Ns({verificationId:h,verificationCode:p})}static _fromTokenResponse(h,p){return new Ns({phoneNumber:h,temporaryProof:p})}_getIdTokenResponse(h){return function Lp(_,h){return ol.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,p){return function Mu(_,h){return sl.apply(this,arguments)}(h,Object.assign({idToken:p},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function mb(_,h){return gn.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:p,verificationId:v,verificationCode:C}=this.params;return h&&p?{temporaryProof:h,phoneNumber:p}:{sessionInfo:v,code:C}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:p,verificationCode:v,phoneNumber:C,temporaryProof:M}=h;return v||p||C||M?new Ns({verificationId:p,verificationCode:v,phoneNumber:C,temporaryProof:M}):null}}class Pu{constructor(h){var p,v,C,M,V,W;const he=(0,L.zd)((0,L.pd)(h)),_e=null!==(p=he.apiKey)&&void 0!==p?p:null,Oe=null!==(v=he.oobCode)&&void 0!==v?v:null,Ue=function gb(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(C=he.mode)&&void 0!==C?C:null);De(_e&&Oe&&Ue,"argument-error"),this.apiKey=_e,this.operation=Ue,this.code=Oe,this.continueUrl=null!==(M=he.continueUrl)&&void 0!==M?M:null,this.languageCode=null!==(V=he.languageCode)&&void 0!==V?V:null,this.tenantId=null!==(W=he.tenantId)&&void 0!==W?W:null}static parseLink(h){const p=function Mr(_){const h=(0,L.zd)((0,L.pd)(_)).link,p=h?(0,L.zd)((0,L.pd)(h)).deep_link_id:null,v=(0,L.zd)((0,L.pd)(_)).deep_link_id;return(v?(0,L.zd)((0,L.pd)(v)).link:null)||v||p||h||_}(h);try{return new Pu(p)}catch{return null}}}let Bp=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(p,v){return Rs._fromEmailAndPassword(p,v)}static credentialWithLink(p,v){const C=Pu.parseLink(v);return De(C,"argument-error"),Rs._fromEmailAndCode(p,C.code,C.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class Eo{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class la extends Eo{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class Xo extends la{static credentialFromJSON(h){const p="string"==typeof h?JSON.parse(h):h;return De("providerId"in p&&"signInMethod"in p,"argument-error"),ui._fromParams(p)}credential(h){return this._credential(Object.assign(Object.assign({},h),{nonce:h.rawNonce}))}_credential(h){return De(h.idToken||h.accessToken,"argument-error"),ui._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return Xo.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return Xo.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:p,oauthAccessToken:v,oauthTokenSecret:C,pendingToken:M,nonce:V,providerId:W}=h;if(!v&&!C&&!p&&!M||!W)return null;try{return new Xo(W)._credential({idToken:p,accessToken:v,nonce:V,pendingToken:M})}catch{return null}}}let al=(()=>{class _ extends la{constructor(){super("facebook.com")}static credential(p){return ui._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return _.credential(p.oauthAccessToken)}catch{return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),ph=(()=>{class _ extends la{constructor(){super("google.com"),this.addScope("profile")}static credential(p,v){return ui._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:p,accessToken:v})}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:v,oauthAccessToken:C}=p;if(!v&&!C)return null;try{return _.credential(v,C)}catch{return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),cl=(()=>{class _ extends la{constructor(){super("github.com")}static credential(p){return ui._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return _.credential(p.oauthAccessToken)}catch{return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class di extends Gi{constructor(h,p){super(h,h),this.pendingToken=p}_getIdTokenResponse(h){return yr(h,this.buildRequest())}_linkToIdToken(h,p){const v=this.buildRequest();return v.idToken=p,yr(h,v)}_getReauthenticationResolver(h){const p=this.buildRequest();return p.autoCreate=!1,yr(h,p)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h,{providerId:v,signInMethod:C,pendingToken:M}=p;return v&&C&&M&&v===C?new di(v,M):null}static _create(h,p){return new di(h,p)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Io extends Eo{constructor(h){De(h.startsWith("saml."),"argument-error"),super(h)}static credentialFromResult(h){return Io.samlCredentialFromTaggedObject(h)}static credentialFromError(h){return Io.samlCredentialFromTaggedObject(h.customData||{})}static credentialFromJSON(h){const p=di.fromJSON(h);return De(p,"argument-error"),p}static samlCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{pendingToken:p,providerId:v}=h;if(!p||!v)return null;try{return di._create(v,p)}catch{return null}}}let jp=(()=>{class _ extends la{constructor(){super("twitter.com")}static credential(p,v){return ui._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:p,oauthTokenSecret:v})}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthAccessToken:v,oauthTokenSecret:C}=p;if(!v||!C)return null;try{return _.credential(v,C)}catch{return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function Fn(_,h){return ks.apply(this,arguments)}function ks(){return(ks=(0,f.Z)(function*(_,h){return Jn(_,"POST","/v1/accounts:signUp",Zt(_,h))})).apply(this,arguments)}class pn{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,p,v,C=!1){return(0,f.Z)(function*(){const M=yield ci._fromIdTokenResponse(h,v,C),V=Ru(v);return new pn({user:M,providerId:V,_tokenResponse:v,operationType:p})})()}static _forOperation(h,p,v){return(0,f.Z)(function*(){yield h._updateTokensIfNecessary(v,!0);const C=Ru(v);return new pn({user:h,providerId:C,_tokenResponse:v,operationType:p})})()}}function Ru(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function ll(){return(ll=(0,f.Z)(function*(_){var h;const p=Wt(_);if(yield p._initializationPromise,null!==(h=p.currentUser)&&void 0!==h&&h.isAnonymous)return new pn({user:p.currentUser,providerId:null,operationType:"signIn"});const v=yield Fn(p,{returnSecureToken:!0}),C=yield pn._fromIdTokenResponse(p,"signIn",v,!0);return yield p._updateCurrentUser(C.user),C})).apply(this,arguments)}class Jo extends L.ZR{constructor(h,p,v,C){var M;super(p.code,p.message),this.operationType=v,this.user=C,Object.setPrototypeOf(this,Jo.prototype),this.customData={appName:h.name,tenantId:null!==(M=h.tenantId)&&void 0!==M?M:void 0,_serverResponse:p.customData._serverResponse,operationType:v}}static _fromErrorAndOperation(h,p,v,C){return new Jo(h,p,v,C)}}function Nu(_,h,p,v){return("reauthenticate"===h?p._getReauthenticationResolver(_):p._getIdTokenResponse(_)).catch(M=>{throw"auth/multi-factor-auth-required"===M.code?Jo._fromErrorAndOperation(_,M,h,v):M})}function ku(_){return new Set(_.map(({providerId:h})=>h).filter(h=>!!h))}function ul(){return ul=(0,f.Z)(function*(_,h){const p=(0,L.m9)(_);yield ic(!0,p,h);const{providerUserInfo:v}=yield function Lt(_,h){return jt.apply(this,arguments)}(p.auth,{idToken:yield p.getIdToken(),deleteProvider:[h]}),C=ku(v||[]);return p.providerData=p.providerData.filter(M=>C.has(M.providerId)),C.has("phone")||(p.phoneNumber=null),yield p.auth._persistUserIfCurrent(p),p}),ul.apply(this,arguments)}function Fu(_,h){return Lu.apply(this,arguments)}function Lu(){return(Lu=(0,f.Z)(function*(_,h,p=!1){const v=yield He(_,h._linkToIdToken(_.auth,yield _.getIdToken()),p);return pn._forOperation(_,"link",v)})).apply(this,arguments)}function ic(_,h,p){return oc.apply(this,arguments)}function oc(){return(oc=(0,f.Z)(function*(_,h,p){yield er(h);const C=!1===_?"provider-already-linked":"no-such-provider";De(ku(h.providerData).has(p)===_,h.auth,C)})).apply(this,arguments)}function es(_,h){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,f.Z)(function*(_,h,p=!1){const{auth:v}=_,C="reauthenticate";try{const M=yield He(_,Nu(v,C,h,_),p);De(M.idToken,v,"internal-error");const V=et(M.idToken);De(V,v,"internal-error");const{sub:W}=V;return De(_.uid===W,v,"user-mismatch"),pn._forOperation(_,C,M)}catch(M){throw"auth/user-not-found"===M?.code&&Ye(v,"user-mismatch"),M}})).apply(this,arguments)}function dl(_,h){return hl.apply(this,arguments)}function hl(){return(hl=(0,f.Z)(function*(_,h,p=!1){const v="signIn",C=yield Nu(_,v,h),M=yield pn._fromIdTokenResponse(_,v,C);return p||(yield _._updateCurrentUser(M.user)),M})).apply(this,arguments)}function gh(_,h){return Vu.apply(this,arguments)}function Vu(){return(Vu=(0,f.Z)(function*(_,h){return dl(Wt(_),h)})).apply(this,arguments)}function Hp(_,h){return fl.apply(this,arguments)}function fl(){return(fl=(0,f.Z)(function*(_,h){const p=(0,L.m9)(_);return yield ic(!1,p,h.providerId),Fu(p,h)})).apply(this,arguments)}function zp(_,h){return sc.apply(this,arguments)}function sc(){return(sc=(0,f.Z)(function*(_,h){return es((0,L.m9)(_),h)})).apply(this,arguments)}function pl(){return(pl=(0,f.Z)(function*(_,h){return Jn(_,"POST","/v1/accounts:signInWithCustomToken",Zt(_,h))})).apply(this,arguments)}function $p(){return $p=(0,f.Z)(function*(_,h){const p=Wt(_),v=yield function _h(_,h){return pl.apply(this,arguments)}(p,{token:h,returnSecureToken:!0}),C=yield pn._fromIdTokenResponse(p,"signIn",v);return yield p._updateCurrentUser(C.user),C}),$p.apply(this,arguments)}class wo{constructor(h,p){this.factorId=h,this.uid=p.mfaEnrollmentId,this.enrollmentTime=new Date(p.enrolledAt).toUTCString(),this.displayName=p.displayName}static _fromServerResponse(h,p){return"phoneInfo"in p?Bu._fromServerResponse(h,p):"totpInfo"in p?ac._fromServerResponse(h,p):Ye(h,"internal-error")}}class Bu extends wo{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,p){return new Bu(p)}}class ac extends wo{constructor(h){super("totp",h)}static _fromServerResponse(h,p){return new ac(p)}}function xo(_,h,p){var v;De((null===(v=p.url)||void 0===v?void 0:v.length)>0,_,"invalid-continue-uri"),De(typeof p.dynamicLinkDomain>"u"||p.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),h.continueUrl=p.url,h.dynamicLinkDomain=p.dynamicLinkDomain,h.canHandleCodeInApp=p.handleCodeInApp,p.iOS&&(De(p.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),h.iOSBundleId=p.iOS.bundleId),p.android&&(De(p.android.packageName.length>0,_,"missing-android-pkg-name"),h.androidInstallApp=p.android.installApp,h.androidMinimumVersionCode=p.android.minimumVersion,h.androidPackageName=p.android.packageName)}function Ls(_){return Uu.apply(this,arguments)}function Uu(){return(Uu=(0,f.Z)(function*(_){const h=Wt(_);h._getPasswordPolicyInternal()&&(yield h._updatePasswordPolicy())})).apply(this,arguments)}function lc(){return lc=(0,f.Z)(function*(_,h,p){var v;const C=Wt(_),M={requestType:"PASSWORD_RESET",email:h,clientType:"CLIENT_TYPE_WEB"};if(null!==(v=C._getRecaptchaConfig())&&void 0!==v&&v.emailPasswordEnabled){const V=yield Xt(C,M,"getOobCode",!0);p&&xo(C,V,p),yield tc(C,V)}else p&&xo(C,M,p),yield tc(C,M).catch(function(){var V=(0,f.Z)(function*(W){if("auth/missing-recaptcha-token"!==W.code)return Promise.reject(W);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const he=yield Xt(C,M,"getOobCode",!0);p&&xo(C,he,p),yield tc(C,he)}});return function(W){return V.apply(this,arguments)}}())}),lc.apply(this,arguments)}function ua(){return ua=(0,f.Z)(function*(_,h,p){yield kn((0,L.m9)(_),{oobCode:h,newPassword:p}).catch(function(){var v=(0,f.Z)(function*(C){throw"auth/password-does-not-meet-requirements"===C.code&&Ls(_),C});return function(C){return v.apply(this,arguments)}}())}),ua.apply(this,arguments)}function vh(){return vh=(0,f.Z)(function*(_,h){yield function Ss(_,h){return Au.apply(this,arguments)}((0,L.m9)(_),{oobCode:h})}),vh.apply(this,arguments)}function bh(_,h){return Co.apply(this,arguments)}function Co(){return(Co=(0,f.Z)(function*(_,h){const p=(0,L.m9)(_),v=yield kn(p,{oobCode:h}),C=v.requestType;switch(De(C,p,"internal-error"),C){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":De(v.newEmail,p,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":De(v.mfaInfo,p,"internal-error");default:De(v.email,p,"internal-error")}let M=null;return v.mfaInfo&&(M=wo._fromServerResponse(Wt(p),v.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.newEmail:v.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.email:v.newEmail)||null,multiFactorInfo:M},operation:C}})).apply(this,arguments)}function ml(){return(ml=(0,f.Z)(function*(_,h){const{data:p}=yield bh((0,L.m9)(_),h);return p.email})).apply(this,arguments)}function uc(){return uc=(0,f.Z)(function*(_,h,p){var v;const C=Wt(_),M={returnSecureToken:!0,email:h,password:p,clientType:"CLIENT_TYPE_WEB"};let V;if(null!==(v=C._getRecaptchaConfig())&&void 0!==v&&v.emailPasswordEnabled){const _e=yield Xt(C,M,"signUpPassword");V=Fn(C,_e)}else V=Fn(C,M).catch(function(){var _e=(0,f.Z)(function*(Oe){if("auth/missing-recaptcha-token"===Oe.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Ue=yield Xt(C,M,"signUpPassword");return Fn(C,Ue)}throw Oe});return function(Oe){return _e.apply(this,arguments)}}());const W=yield V.catch(_e=>{throw"auth/password-does-not-meet-requirements"===_e.code&&Ls(_),_e}),he=yield pn._fromIdTokenResponse(C,"signIn",W);return yield C._updateCurrentUser(he.user),he}),uc.apply(this,arguments)}function dc(){return dc=(0,f.Z)(function*(_,h,p){var v;const C=Wt(_),M={requestType:"EMAIL_SIGNIN",email:h,clientType:"CLIENT_TYPE_WEB"};function V(W,he){De(he.handleCodeInApp,C,"argument-error"),he&&xo(C,W,he)}if(null!==(v=C._getRecaptchaConfig())&&void 0!==v&&v.emailPasswordEnabled){const W=yield Xt(C,M,"getOobCode",!0);V(W,p),yield li(C,W)}else V(M,p),yield li(C,M).catch(function(){var W=(0,f.Z)(function*(he){if("auth/missing-recaptcha-token"!==he.code)return Promise.reject(he);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const _e=yield Xt(C,M,"getOobCode",!0);V(_e,p),yield li(C,_e)}});return function(he){return W.apply(this,arguments)}}())}),dc.apply(this,arguments)}function gl(){return(gl=(0,f.Z)(function*(_,h,p){const v=(0,L.m9)(_),C=Bp.credentialWithLink(h,p||Ko());return De(C._tenantId===(v.tenantId||null),v,"tenant-id-mismatch"),gh(v,C)})).apply(this,arguments)}function sn(){return(sn=(0,f.Z)(function*(_,h){return Kt(_,"POST","/v1/accounts:createAuthUri",Zt(_,h))})).apply(this,arguments)}function fa(){return fa=(0,f.Z)(function*(_,h){const v={identifier:h,continueUri:ot()?Ko():"http://localhost"},{signinMethods:C}=yield function cr(_,h){return sn.apply(this,arguments)}((0,L.m9)(_),v);return C||[]}),fa.apply(this,arguments)}function _l(){return _l=(0,f.Z)(function*(_,h){const p=(0,L.m9)(_),C={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};h&&xo(p.auth,C,h);const{email:M}=yield function $t(_,h){return Du.apply(this,arguments)}(p.auth,C);M!==_.email&&(yield _.reload())}),_l.apply(this,arguments)}function hi(){return hi=(0,f.Z)(function*(_,h,p){const v=(0,L.m9)(_),M={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:h};p&&xo(v.auth,M,p);const{email:V}=yield function bo(_,h){return Sr.apply(this,arguments)}(v.auth,M);V!==_.email&&(yield _.reload())}),hi.apply(this,arguments)}function hc(){return(hc=(0,f.Z)(function*(_,h){return Kt(_,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function zu(){return zu=(0,f.Z)(function*(_,{displayName:h,photoURL:p}){if(void 0===h&&void 0===p)return;const v=(0,L.m9)(_),M={idToken:yield v.getIdToken(),displayName:h,photoUrl:p,returnSecureToken:!0},V=yield He(v,function Lr(_,h){return hc.apply(this,arguments)}(v.auth,M));v.displayName=V.displayName||null,v.photoURL=V.photoUrl||null;const W=v.providerData.find(({providerId:he})=>"password"===he);W&&(W.displayName=v.displayName,W.photoURL=v.photoURL),yield v._updateTokensIfNecessary(V)}),zu.apply(this,arguments)}function Wp(_,h,p){return $u.apply(this,arguments)}function $u(){return($u=(0,f.Z)(function*(_,h,p){const{auth:v}=_,M={idToken:yield _.getIdToken(),returnSecureToken:!0};h&&(M.email=h),p&&(M.password=p);const V=yield He(_,Ds(v,M));yield _._updateTokensIfNecessary(V,!0)})).apply(this,arguments)}class pa{constructor(h,p,v={}){this.isNewUser=h,this.providerId=p,this.profile=v}}class Th extends pa{constructor(h,p,v,C){super(h,p,v),this.username=C}}class Et extends pa{constructor(h,p){super(h,"facebook.com",p)}}class Ah extends Th{constructor(h,p){super(h,"github.com",p,"string"==typeof p?.login?p?.login:null)}}class Gu extends pa{constructor(h,p){super(h,"google.com",p)}}class Dh extends Th{constructor(h,p,v){super(h,"twitter.com",p,v)}}function qu(_){const{user:h,_tokenResponse:p}=_;return h.isAnonymous&&!p?{providerId:null,isNewUser:!1,profile:null}:function yl(_){var h,p;if(!_)return null;const{providerId:v}=_,C=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},M=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!v&&_?.idToken){const V=null===(p=null===(h=et(_.idToken))||void 0===h?void 0:h.firebase)||void 0===p?void 0:p.sign_in_provider;if(V)return new pa(M,"anonymous"!==V&&"custom"!==V?V:null)}if(!v)return null;switch(v){case"facebook.com":return new Et(M,C);case"github.com":return new Ah(M,C);case"google.com":return new Gu(M,C);case"twitter.com":return new Dh(M,C,_.screenName||null);case"custom":case"anonymous":return new pa(M,null);default:return new pa(M,v,C)}}(p)}class _n{constructor(h,p,v){this.type=h,this.credential=p,this.user=v}static _fromIdtoken(h,p){return new _n("enroll",h,p)}static _fromMfaPendingCredential(h){return new _n("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var p,v;if(h?.multiFactorSession){if(null!==(p=h.multiFactorSession)&&void 0!==p&&p.pendingCredential)return _n._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null!==(v=h.multiFactorSession)&&void 0!==v&&v.idToken)return _n._fromIdtoken(h.multiFactorSession.idToken)}return null}}class Vs{constructor(h,p,v){this.session=h,this.hints=p,this.signInResolver=v}static _fromError(h,p){const v=Wt(h),C=p.customData._serverResponse,M=(C.mfaInfo||[]).map(W=>wo._fromServerResponse(v,W));De(C.mfaPendingCredential,v,"internal-error");const V=_n._fromMfaPendingCredential(C.mfaPendingCredential);return new Vs(V,M,function(){var W=(0,f.Z)(function*(he){const _e=yield he._process(v,V);delete C.mfaInfo,delete C.mfaPendingCredential;const Oe=Object.assign(Object.assign({},C),{idToken:_e.idToken,refreshToken:_e.refreshToken});switch(p.operationType){case"signIn":const Ue=yield pn._fromIdTokenResponse(v,p.operationType,Oe);return yield v._updateCurrentUser(Ue.user),Ue;case"reauthenticate":return De(p.user,v,"internal-error"),pn._forOperation(p.user,p.operationType,Oe);default:Ye(v,"internal-error")}});return function(he){return W.apply(this,arguments)}}())}resolveSignIn(h){var p=this;return(0,f.Z)(function*(){return p.signInResolver(h)})()}}class fc{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(p=>{p.mfaInfo&&(this.enrolledFactors=p.mfaInfo.map(v=>wo._fromServerResponse(h.auth,v)))})}static _fromUser(h){return new fc(h)}getSession(){var h=this;return(0,f.Z)(function*(){return _n._fromIdtoken(yield h.user.getIdToken(),h.user)})()}enroll(h,p){var v=this;return(0,f.Z)(function*(){const C=h,M=yield v.getSession(),V=yield He(v.user,C._process(v.user.auth,M,p));return yield v.user._updateTokensIfNecessary(V),v.user.reload()})()}unenroll(h){var p=this;return(0,f.Z)(function*(){const v="string"==typeof h?h:h.uid,C=yield p.user.getIdToken();try{const M=yield He(p.user,function _b(_,h){return Kt(_,"POST","/v2/accounts/mfaEnrollment:withdraw",Zt(_,h))}(p.user.auth,{idToken:C,mfaEnrollmentId:v}));p.enrolledFactors=p.enrolledFactors.filter(({uid:V})=>V!==v),yield p.user._updateTokensIfNecessary(M),yield p.user.reload()}catch(M){throw M}})()}}const vr=new WeakMap,Il="__sak";class nr{constructor(h,p){this.storageRetriever=h,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(Il,"1"),this.storage.removeItem(Il),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,p){return this.storage.setItem(h,JSON.stringify(p)),Promise.resolve()}_get(h){const p=this.storage.getItem(h);return Promise.resolve(p?JSON.parse(p):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const wl=(()=>{class _ extends nr{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,v)=>this.onStorageEvent(p,v),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Yi(){const _=(0,L.z$)();return uh(_)||Un(_)}()&&function Op(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Ya(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const v of Object.keys(this.listeners)){const C=this.storage.getItem(v),M=this.localCache[v];C!==M&&p(v,M,C)}}onStorageEvent(p,v=!1){if(!p.key)return void this.forAllChangedKeys((W,he,_e)=>{this.notifyListeners(W,_e)});const C=p.key;if(v?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const W=this.storage.getItem(C);if(p.newValue!==W)null!==p.newValue?this.storage.setItem(C,p.newValue):this.storage.removeItem(C);else if(this.localCache[C]===p.newValue&&!v)return}const M=()=>{const W=this.storage.getItem(C);!v&&this.localCache[C]===W||this.notifyListeners(C,W)},V=this.storage.getItem(C);!function Rp(){return(0,L.w1)()&&10===document.documentMode}()||V===p.newValue||p.newValue===p.oldValue?M():setTimeout(M,10)}notifyListeners(p,v){this.localCache[p]=v;const C=this.listeners[p];if(C)for(const M of Array.from(C))M(v&&JSON.parse(v))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,v,C)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:v,newValue:C}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,v){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(v)}_removeListener(p,v){this.listeners[p]&&(this.listeners[p].delete(v),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,v){var C=()=>super._set,M=this;return(0,f.Z)(function*(){yield C().call(M,p,v),M.localCache[p]=JSON.stringify(v)})()}_get(p){var v=()=>super._get,C=this;return(0,f.Z)(function*(){const M=yield v().call(C,p);return C.localCache[p]=JSON.stringify(M),M})()}_remove(p){var v=()=>super._remove,C=this;return(0,f.Z)(function*(){yield v().call(C,p),delete C.localCache[p]})()}}return _.type="LOCAL",_})(),Mi=(()=>{class _ extends nr{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,v){}_removeListener(p,v){}}return _.type="SESSION",_})();let Ph=(()=>{class _{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const v=this.receivers.find(M=>M.isListeningto(p));if(v)return v;const C=new _(p);return this.receivers.push(C),C}isListeningto(p){return this.eventTarget===p}handleEvent(p){var v=this;return(0,f.Z)(function*(){const C=p,{eventId:M,eventType:V,data:W}=C.data,he=v.handlersMap[V];if(!he?.size)return;C.ports[0].postMessage({status:"ack",eventId:M,eventType:V});const _e=Array.from(he).map(function(){var Ue=(0,f.Z)(function*(Mt){return Mt(C.origin,W)});return function(Mt){return Ue.apply(this,arguments)}}()),Oe=yield function v_(_){return Promise.all(_.map(function(){var h=(0,f.Z)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(v){return{fulfilled:!1,reason:v}}});return function(p){return h.apply(this,arguments)}}()))}(_e);C.ports[0].postMessage({status:"done",eventId:M,eventType:V,response:Oe})})()}_subscribe(p,v){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(v)}_unsubscribe(p,v){this.handlersMap[p]&&v&&this.handlersMap[p].delete(v),(!v||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function xl(_="",h=10){let p="";for(let v=0;v<h;v++)p+=Math.floor(10*Math.random());return _+p}class Sn{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,p,v=50){var C=this;return(0,f.Z)(function*(){const M=typeof MessageChannel<"u"?new MessageChannel:null;if(!M)throw new Error("connection_unavailable");let V,W;return new Promise((he,_e)=>{const Oe=xl("",20);M.port1.start();const Ue=setTimeout(()=>{_e(new Error("unsupported_event"))},v);W={messageChannel:M,onMessage(Mt){const jn=Mt;if(jn.data.eventId===Oe)switch(jn.data.status){case"ack":clearTimeout(Ue),V=setTimeout(()=>{_e(new Error("timeout"))},3e3);break;case"done":clearTimeout(V),he(jn.data.response);break;default:clearTimeout(Ue),clearTimeout(V),_e(new Error("invalid_response"))}}},C.handlers.add(W),M.port1.addEventListener("message",W.onMessage),C.target.postMessage({eventType:h,eventId:Oe,data:p},[M.port2])}).finally(()=>{W&&C.removeMessageHandler(W)})})()}}function an(){return window}function mt(){return typeof an().WorkerGlobalScope<"u"&&"function"==typeof an().importScripts}function Tl(){return(Tl=(0,f.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Bs="firebaseLocalStorageDb",To="firebaseLocalStorage",yn="fbase_key";class Al{constructor(h){this.request=h}toPromise(){return new Promise((h,p)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function pc(_,h){return _.transaction([To],h?"readwrite":"readonly").objectStore(To)}function rs(){const _=indexedDB.open(Bs,1);return new Promise((h,p)=>{_.addEventListener("error",()=>{p(_.error)}),_.addEventListener("upgradeneeded",()=>{const v=_.result;try{v.createObjectStore(To,{keyPath:yn})}catch(C){p(C)}}),_.addEventListener("success",(0,f.Z)(function*(){const v=_.result;v.objectStoreNames.contains(To)?h(v):(v.close(),yield function Rh(){const _=indexedDB.deleteDatabase(Bs);return new Al(_).toPromise()}(),h(yield rs()))}))})}function Xi(_,h,p){return mc.apply(this,arguments)}function mc(){return(mc=(0,f.Z)(function*(_,h,p){const v=pc(_,!0).put({[yn]:h,value:p});return new Al(v).toPromise()})).apply(this,arguments)}function lr(){return(lr=(0,f.Z)(function*(_,h){const p=pc(_,!1).get(h),v=yield new Al(p).toPromise();return void 0===v?null:v.value})).apply(this,arguments)}function Oh(_,h){const p=pc(_,!0).delete(h);return new Al(p).toPromise()}const Ji=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,f.Z)(function*(){return p.db||(p.db=yield rs()),p.db})()}_withRetries(p){var v=this;return(0,f.Z)(function*(){let C=0;for(;;)try{const M=yield v._openDb();return yield p(M)}catch(M){if(C++>3)throw M;v.db&&(v.db.close(),v.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,f.Z)(function*(){return mt()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,f.Z)(function*(){p.receiver=Ph._getInstance(function Jp(){return mt()?self:null}()),p.receiver._subscribe("keyChanged",function(){var v=(0,f.Z)(function*(C,M){return{keyProcessed:(yield p._poll()).includes(M.key)}});return function(C,M){return v.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var v=(0,f.Z)(function*(C,M){return["keyChanged"]});return function(C,M){return v.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,f.Z)(function*(){var v,C;if(p.activeServiceWorker=yield function Xp(){return Tl.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new Sn(p.activeServiceWorker);const M=yield p.sender._send("ping",{},800);M&&null!==(v=M[0])&&void 0!==v&&v.fulfilled&&null!==(C=M[0])&&void 0!==C&&C.value.includes("keyChanged")&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var v=this;return(0,f.Z)(function*(){if(v.sender&&v.activeServiceWorker&&function ns(){var _;return(null===(_=navigator?.serviceWorker)||void 0===_?void 0:_.controller)||null}()===v.activeServiceWorker)try{yield v.sender._send("keyChanged",{key:p},v.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,f.Z)(function*(){try{if(!indexedDB)return!1;const p=yield rs();return yield Xi(p,Il,"1"),yield Oh(p,Il),!0}catch{}return!1})()}_withPendingWrite(p){var v=this;return(0,f.Z)(function*(){v.pendingWrites++;try{yield p()}finally{v.pendingWrites--}})()}_set(p,v){var C=this;return(0,f.Z)(function*(){return C._withPendingWrite((0,f.Z)(function*(){return yield C._withRetries(M=>Xi(M,p,v)),C.localCache[p]=v,C.notifyServiceWorker(p)}))})()}_get(p){var v=this;return(0,f.Z)(function*(){const C=yield v._withRetries(M=>function Gn(_,h){return lr.apply(this,arguments)}(M,p));return v.localCache[p]=C,C})()}_remove(p){var v=this;return(0,f.Z)(function*(){return v._withPendingWrite((0,f.Z)(function*(){return yield v._withRetries(C=>Oh(C,p)),delete v.localCache[p],v.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,f.Z)(function*(){const v=yield p._withRetries(V=>{const W=pc(V,!1).getAll();return new Al(W).toPromise()});if(!v)return[];if(0!==p.pendingWrites)return[];const C=[],M=new Set;for(const{fbase_key:V,value:W}of v)M.add(V),JSON.stringify(p.localCache[V])!==JSON.stringify(W)&&(p.notifyListeners(V,W),C.push(V));for(const V of Object.keys(p.localCache))p.localCache[V]&&!M.has(V)&&(p.notifyListeners(V,null),C.push(V));return C})()}notifyListeners(p,v){this.localCache[p]=v;const C=this.listeners[p];if(C)for(const M of Array.from(C))M(v)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,f.Z)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,v){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(v)}_removeListener(p,v){this.listeners[p]&&(this.listeners[p].delete(v),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})(),ba=1e12;class b_{constructor(h){this.auth=h,this.counter=ba,this._widgets=new Map}render(h,p){const v=this.counter;return this._widgets.set(v,new Ml(h,this.auth.name,p||{})),this.counter++,v}reset(h){var p;const v=h||ba;null===(p=this._widgets.get(v))||void 0===p||p.delete(),this._widgets.delete(v)}getResponse(h){var p;return(null===(p=this._widgets.get(h||ba))||void 0===p?void 0:p.getResponse())||""}execute(h){var p=this;return(0,f.Z)(function*(){var v;return null===(v=p._widgets.get(h||ba))||void 0===v||v.execute(),""})()}}class Ml{constructor(h,p,v){this.params=v,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const C="string"==typeof h?document.getElementById(h):h;De(C,"argument-error",{appName:p}),this.container=C,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function em(_){const h=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let v=0;v<_;v++)h.push(p.charAt(Math.floor(62*Math.random())));return h.join("")}(50);const{callback:h,"expired-callback":p}=this.params;if(h)try{h(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,p)try{p()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const So=Ja("rcb"),Nh=new Yr(3e4,6e4);class nm{constructor(){var h;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(h=an().grecaptcha)||void 0===h||!h.render)}load(h,p=""){return De(function Pi(_){return _.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_)}(p),h,"argument-error"),this.shouldResolveImmediately(p)&&ln(an().grecaptcha)?Promise.resolve(an().grecaptcha):new Promise((v,C)=>{const M=an().setTimeout(()=>{C(_t(h,"network-request-failed"))},Nh.get());an()[So]=()=>{an().clearTimeout(M),delete an()[So];const W=an().grecaptcha;if(!W||!ln(W))return void C(_t(h,"internal-error"));const he=W.render;W.render=(_e,Oe)=>{const Ue=he(_e,Oe);return this.counter++,Ue},this.hostLanguage=p,v(W)},Xa(`https://www.google.com/recaptcha/api.js??${(0,L.xO)({onload:So,render:"explicit",hl:p})}`).catch(()=>{clearTimeout(M),C(_t(h,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(h){var p;return!(null===(p=an().grecaptcha)||void 0===p||!p.render)&&(h===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ea{load(h){return(0,f.Z)(function*(){return new b_(h)})()}clearedOneInstance(){}}const eo="recaptcha",yc={theme:"light",type:"image"};class Yu{constructor(h,p,v=Object.assign({},yc)){this.parameters=v,this.type=eo,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Wt(h),this.isInvisible="invisible"===this.parameters.size,De(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const C="string"==typeof p?document.getElementById(p):p;De(C,this.auth,"argument-error"),this.container=C,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ea:new nm,this.validateStartingState()}verify(){var h=this;return(0,f.Z)(function*(){h.assertNotDestroyed();const p=yield h.render(),v=h.getAssertedRecaptcha();return v.getResponse(p)||new Promise(M=>{const V=W=>{W&&(h.tokenChangeListeners.delete(V),M(W))};h.tokenChangeListeners.add(V),h.isInvisible&&v.execute(p)})})()}render(){try{this.assertNotDestroyed()}catch(h){return Promise.reject(h)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(h=>{throw this.renderPromise=null,h})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(h=>{this.container.removeChild(h)})}validateStartingState(){De(!this.parameters.sitekey,this.auth,"argument-error"),De(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),De(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(h){return p=>{if(this.tokenChangeListeners.forEach(v=>v(p)),"function"==typeof h)h(p);else if("string"==typeof h){const v=an()[h];"function"==typeof v&&v(p)}}}assertNotDestroyed(){De(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var h=this;return(0,f.Z)(function*(){if(yield h.init(),!h.widgetId){let p=h.container;if(!h.isInvisible){const v=document.createElement("div");p.appendChild(v),p=v}h.widgetId=h.getAssertedRecaptcha().render(p,h.parameters)}return h.widgetId})()}init(){var h=this;return(0,f.Z)(function*(){De(ot()&&!mt(),h.auth,"internal-error"),yield function Ia(){let _=null;return new Promise(h=>{"complete"!==document.readyState?(_=()=>h(),window.addEventListener("load",_)):h()}).catch(h=>{throw _&&window.removeEventListener("load",_),h})}(),h.recaptcha=yield h._recaptchaLoader.load(h.auth,h.auth.languageCode||void 0);const p=yield function le(_){return Qe.apply(this,arguments)}(h.auth);De(p,h.auth,"internal-error"),h.parameters.sitekey=p})()}getAssertedRecaptcha(){return De(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Pl{constructor(h,p){this.verificationId=h,this.onConfirmation=p}confirm(h){const p=Ns._fromVerification(this.verificationId,h);return this.onConfirmation(p)}}function Rl(){return(Rl=(0,f.Z)(function*(_,h,p){const v=Wt(_),C=yield K(v,h,(0,L.m9)(p));return new Pl(C,M=>gh(v,M))})).apply(this,arguments)}function T(){return(T=(0,f.Z)(function*(_,h,p){const v=(0,L.m9)(_);yield ic(!1,v,"phone");const C=yield K(v.auth,h,(0,L.m9)(p));return new Pl(C,M=>Hp(v,M))})).apply(this,arguments)}function B(){return(B=(0,f.Z)(function*(_,h,p){const v=(0,L.m9)(_),C=yield K(v.auth,h,(0,L.m9)(p));return new Pl(C,M=>zp(v,M))})).apply(this,arguments)}function K(_,h,p){return ce.apply(this,arguments)}function ce(){return ce=(0,f.Z)(function*(_,h,p){var v;const C=yield p.verify();try{let M;if(De("string"==typeof C,_,"argument-error"),De(p.type===eo,_,"argument-error"),M="string"==typeof h?{phoneNumber:h}:h,"session"in M){const V=M.session;if("phoneNumber"in M)return De("enroll"===V.type,_,"internal-error"),(yield function Si(_,h){return Kt(_,"POST","/v2/accounts/mfaEnrollment:start",Zt(_,h))}(_,{idToken:V.credential,phoneEnrollmentInfo:{phoneNumber:M.phoneNumber,recaptchaToken:C}})).phoneSessionInfo.sessionInfo;{De("signin"===V.type,_,"internal-error");const W=(null===(v=M.multiFactorHint)||void 0===v?void 0:v.uid)||M.multiFactorUid;return De(W,_,"missing-multi-factor-info"),(yield function gc(_,h){return Kt(_,"POST","/v2/accounts/mfaSignIn:start",Zt(_,h))}(_,{mfaPendingCredential:V.credential,mfaEnrollmentId:W,phoneSignInInfo:{recaptchaToken:C}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:V}=yield function Os(_,h){return il.apply(this,arguments)}(_,{phoneNumber:M.phoneNumber,recaptchaToken:C});return V}}finally{p._reset()}}),ce.apply(this,arguments)}function Ge(){return(Ge=(0,f.Z)(function*(_,h){yield Fu((0,L.m9)(_),h)})).apply(this,arguments)}let je=(()=>{class _{constructor(p){this.providerId=_.PROVIDER_ID,this.auth=Wt(p)}verifyPhoneNumber(p,v){return K(this.auth,p,(0,L.m9)(v))}static credential(p,v){return Ns._fromVerification(p,v)}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{phoneNumber:v,temporaryProof:C}=p;return v&&C?Ns._fromTokenResponse(v,C):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function Xe(_,h){return h?Qr(h):(De(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class wt extends Gi{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return yr(h,this._buildIdpRequest())}_linkToIdToken(h,p){return yr(h,this._buildIdpRequest(p))}_getReauthenticationResolver(h){return yr(h,this._buildIdpRequest())}_buildIdpRequest(h){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(p.idToken=h),p}}function Ct(_){return dl(_.auth,new wt(_),_.bypassAuthState)}function Pr(_){const{auth:h,user:p}=_;return De(p,h,"internal-error"),es(p,new wt(_),_.bypassAuthState)}function ur(_){return is.apply(this,arguments)}function is(){return(is=(0,f.Z)(function*(_){const{auth:h,user:p}=_;return De(p,h,"internal-error"),Fu(p,new wt(_),_.bypassAuthState)})).apply(this,arguments)}class Mo{constructor(h,p,v,C,M=!1){this.auth=h,this.resolver=v,this.user=C,this.bypassAuthState=M,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var h=this;return new Promise(function(){var p=(0,f.Z)(function*(v,C){h.pendingPromise={resolve:v,reject:C};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(M){h.reject(M)}});return function(v,C){return p.apply(this,arguments)}}())}onAuthEvent(h){var p=this;return(0,f.Z)(function*(){const{urlResponse:v,sessionId:C,postBody:M,tenantId:V,error:W,type:he}=h;if(W)return void p.reject(W);const _e={auth:p.auth,requestUri:v,sessionId:C,tenantId:V||void 0,postBody:M||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(he)(_e))}catch(Oe){p.reject(Oe)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return Ct;case"linkViaPopup":case"linkViaRedirect":return ur;case"reauthViaPopup":case"reauthViaRedirect":return Pr;default:Ye(this.auth,"internal-error")}}resolve(h){un(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){un(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ol=new Yr(2e3,1e4);function to(){return(to=(0,f.Z)(function*(_,h,p){const v=Wt(_);Jt(_,h,Eo);const C=Xe(v,p);return new rm(v,"signInViaPopup",h,C).executeNotNull()})).apply(this,arguments)}function E_(){return(E_=(0,f.Z)(function*(_,h,p){const v=(0,L.m9)(_);Jt(v.auth,h,Eo);const C=Xe(v.auth,p);return new rm(v.auth,"reauthViaPopup",h,C,v).executeNotNull()})).apply(this,arguments)}function kh(){return(kh=(0,f.Z)(function*(_,h,p){const v=(0,L.m9)(_);Jt(v.auth,h,Eo);const C=Xe(v.auth,p);return new rm(v.auth,"linkViaPopup",h,C,v).executeNotNull()})).apply(this,arguments)}let rm=(()=>{class _ extends Mo{constructor(p,v,C,M,V){super(p,v,M,V),this.provider=C,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var p=this;return(0,f.Z)(function*(){const v=yield p.execute();return De(v,p.auth,"internal-error"),v})()}onExecution(){var p=this;return(0,f.Z)(function*(){un(1===p.filter.length,"Popup operations only handle one event");const v=xl();p.authWindow=yield p.resolver._openPopup(p.auth,p.provider,p.filter[0],v),p.authWindow.associatedEvent=v,p.resolver._originValidation(p.auth).catch(C=>{p.reject(C)}),p.resolver._isIframeWebStorageSupported(p.auth,C=>{C||p.reject(_t(p.auth,"web-storage-unsupported"))}),p.pollUserCancellation()})()}get eventId(){var p;return(null===(p=this.authWindow)||void 0===p?void 0:p.associatedEvent)||null}cancel(){this.reject(_t(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const p=()=>{var v,C;this.pollId=null!==(C=null===(v=this.authWindow)||void 0===v?void 0:v.window)&&void 0!==C&&C.closed?window.setTimeout(()=>{this.pollId=null,this.reject(_t(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(p,Ol.get())};p()}}return _.currentPopupAction=null,_})();const I_="pendingRedirect",Fh=new Map;class Nl extends Mo{constructor(h,p,v=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,v),this.eventId=null}execute(){var h=()=>super.execute,p=this;return(0,f.Z)(function*(){let v=Fh.get(p.auth._key());if(!v){try{const M=(yield function kl(_,h){return Oi.apply(this,arguments)}(p.resolver,p.auth))?yield h().call(p):null;v=()=>Promise.resolve(M)}catch(C){v=()=>Promise.reject(C)}Fh.set(p.auth._key(),v)}return p.bypassAuthState||Fh.set(p.auth._key(),()=>Promise.resolve(null)),v()})()}onAuthEvent(h){var p=()=>super.onAuthEvent,v=this;return(0,f.Z)(function*(){if("signInViaRedirect"===h.type)return p().call(v,h);if("unknown"!==h.type){if(h.eventId){const C=yield v.auth._redirectUserForId(h.eventId);if(C)return v.user=C,p().call(v,h);v.resolve(null)}}else v.resolve(null)})()}onExecution(){return(0,f.Z)(function*(){})()}cleanUp(){}}function Oi(){return(Oi=(0,f.Z)(function*(_,h){const p=Lh(h),v=Ic(_);if(!(yield v._isAvailable()))return!1;const C="true"===(yield v._get(p));return yield v._remove(p),C})).apply(this,arguments)}function no(_,h){return os.apply(this,arguments)}function os(){return(os=(0,f.Z)(function*(_,h){return Ic(_)._set(Lh(h),"true")})).apply(this,arguments)}function Ec(_,h){Fh.set(_._key(),h)}function Ic(_){return Qr(_._redirectPersistence)}function Lh(_){return Yo(I_,_.config.apiKey,_.name)}function x_(_,h,p){return function yb(_,h,p){return im.apply(this,arguments)}(_,h,p)}function im(){return(im=(0,f.Z)(function*(_,h,p){const v=Wt(_);Jt(_,h,Eo),yield v._initializationPromise;const C=Xe(v,p);return yield no(C,v),C._openRedirect(v,h,"signInViaRedirect")})).apply(this,arguments)}function om(_,h,p){return function C_(_,h,p){return vb.apply(this,arguments)}(_,h,p)}function vb(){return(vb=(0,f.Z)(function*(_,h,p){const v=(0,L.m9)(_);Jt(v.auth,h,Eo),yield v.auth._initializationPromise;const C=Xe(v.auth,p);yield no(C,v.auth);const M=yield Ju(v);return C._openRedirect(v.auth,h,"reauthViaRedirect",M)})).apply(this,arguments)}function hw(_,h,p){return function Qu(_,h,p){return Us.apply(this,arguments)}(_,h,p)}function Us(){return(Us=(0,f.Z)(function*(_,h,p){const v=(0,L.m9)(_);Jt(v.auth,h,Eo),yield v.auth._initializationPromise;const C=Xe(v.auth,p);yield ic(!1,v,h.providerId),yield no(C,v.auth);const M=yield Ju(v);return C._openRedirect(v.auth,h,"linkViaRedirect",M)})).apply(this,arguments)}function Mn(){return(Mn=(0,f.Z)(function*(_,h){return yield Wt(_)._initializationPromise,wa(_,h,!1)})).apply(this,arguments)}function wa(_,h){return ss.apply(this,arguments)}function ss(){return(ss=(0,f.Z)(function*(_,h,p=!1){const v=Wt(_),C=Xe(v,h),V=yield new Nl(v,C,p).execute();return V&&!p&&(delete V.user._redirectEventId,yield v._persistUserIfCurrent(V.user),yield v._setRedirectUser(null,h)),V})).apply(this,arguments)}function Ju(_){return fi.apply(this,arguments)}function fi(){return(fi=(0,f.Z)(function*(_){const h=xl(`${_.uid}:::`);return _._redirectEventId=h,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),h})).apply(this,arguments)}class Fl{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let p=!1;return this.consumers.forEach(v=>{this.isEventForConsumer(h,v)&&(p=!0,this.sendToConsumer(h,v),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function T_(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ll(_);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=h,p=!0)),p}sendToConsumer(h,p){var v;if(h.error&&!Ll(h)){const C=(null===(v=h.error.code)||void 0===v?void 0:v.split("auth/")[1])||"internal-error";p.onError(_t(this.auth,C))}else p.onAuthEvent(h)}isEventForConsumer(h,p){const v=null===p.eventId||!!h.eventId&&h.eventId===p.eventId;return p.filter.includes(h.type)&&v}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ed(h))}saveEventToCache(h){this.cachedEventUids.add(ed(h)),this.lastProcessedEventTime=Date.now()}}function ed(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(h=>h).join("-")}function Ll({type:_,error:h}){return"unknown"===_&&"auth/no-auth-event"===h?.code}function bb(_){return Vh.apply(this,arguments)}function Vh(){return(Vh=(0,f.Z)(function*(_,h={}){return Kt(_,"GET","/v1/projects",h)})).apply(this,arguments)}const fw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ro=/^https?/;function as(){return(as=(0,f.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:h}=yield bb(_);for(const p of h)try{if(ZA(p))return}catch{}Ye(_,"unauthorized-domain")})).apply(this,arguments)}function ZA(_){const h=Ko(),{protocol:p,hostname:v}=new URL(h);if(_.startsWith("chrome-extension://")){const V=new URL(_);return""===V.hostname&&""===v?"chrome-extension:"===p&&_.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===p&&V.hostname===v}if(!ro.test(p))return!1;if(fw.test(_))return v===_;const C=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+C+"|"+C+")$","i").test(v)}const Eb=new Yr(3e4,6e4);function Bh(){const _=an().___jsl;if(_?.H)for(const h of Object.keys(_.H))if(_.H[h].r=_.H[h].r||[],_.H[h].L=_.H[h].L||[],_.H[h].r=[..._.H[h].L],_.CP)for(let p=0;p<_.CP.length;p++)_.CP[p]=null}let td=null;const wb=new Yr(5e3,15e3),pw="__/auth/iframe",cm="emulator/auth/iframe",Ca={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lm=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nd(_){const h=_.config;De(h.authDomain,_,"auth-domain-config-required");const p=h.emulator?ws(h,cm):`https://${_.config.authDomain}/${pw}`,v={apiKey:h.apiKey,appName:_.name,v:se.SDK_VERSION},C=lm.get(_.config.apiHost);C&&(v.eid=C);const M=_._getFrameworks();return M.length&&(v.fw=M.join(",")),`${p}?${(0,L.xO)(v).slice(1)}`}function Ta(){return Ta=(0,f.Z)(function*(_){const h=yield function am(_){return td=td||function Ib(_){return new Promise((h,p)=>{var v,C,M;function V(){Bh(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{Bh(),p(_t(_,"network-request-failed"))},timeout:Eb.get()})}if(null!==(C=null===(v=an().gapi)||void 0===v?void 0:v.iframes)&&void 0!==C&&C.Iframe)h(gapi.iframes.getContext());else{if(null===(M=an().gapi)||void 0===M||!M.load){const W=Ja("iframefcb");return an()[W]=()=>{gapi.load?V():p(_t(_,"network-request-failed"))},Xa(`https://apis.google.com/js/api.js?onload=${W}`).catch(he=>p(he))}V()}}).catch(h=>{throw td=null,h})}(_),td}(_),p=an().gapi;return De(p,_,"internal-error"),h.open({where:document.body,url:nd(_),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ca,dontclear:!0},v=>new Promise(function(){var C=(0,f.Z)(function*(M,V){yield v.restyle({setHideOnLeave:!1});const W=_t(_,"network-request-failed"),he=an().setTimeout(()=>{V(W)},wb.get());function _e(){an().clearTimeout(he),M(v)}v.ping(_e).then(_e,()=>{V(W)})});return function(M,V){return C.apply(this,arguments)}}()))}),Ta.apply(this,arguments)}const Vl={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Cb{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Ul="__/auth/handler",Tb="emulator/auth/handler",Ab=encodeURIComponent("fac");function rd(_,h,p,v,C,M){return jl.apply(this,arguments)}function jl(){return(jl=(0,f.Z)(function*(_,h,p,v,C,M){De(_.config.authDomain,_,"auth-domain-config-required"),De(_.config.apiKey,_,"invalid-api-key");const V={apiKey:_.config.apiKey,appName:_.name,authType:p,redirectUrl:v,v:se.SDK_VERSION,eventId:C};if(h instanceof Eo){h.setDefaultLanguage(_.languageCode),V.providerId=h.providerId||"",(0,L.xb)(h.getCustomParameters())||(V.customParameters=JSON.stringify(h.getCustomParameters()));for(const[Oe,Ue]of Object.entries(M||{}))V[Oe]=Ue}if(h instanceof la){const Oe=h.getScopes().filter(Ue=>""!==Ue);Oe.length>0&&(V.scopes=Oe.join(","))}_.tenantId&&(V.tid=_.tenantId);const W=V;for(const Oe of Object.keys(W))void 0===W[Oe]&&delete W[Oe];const he=yield _._getAppCheckToken(),_e=he?`#${Ab}=${encodeURIComponent(he)}`:"";return`${function gw({config:_}){return _.emulator?ws(_,Tb):`https://${_.authDomain}/${Ul}`}(_)}?${(0,L.xO)(W).slice(1)}${_e}`})).apply(this,arguments)}const jh="webStorageSupport",Sb=class Db{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Mi,this._completeRedirectFn=wa,this._overrideRedirectResult=Ec}_openPopup(h,p,v,C){var M=this;return(0,f.Z)(function*(){var V;un(null===(V=M.eventManagers[h._key()])||void 0===V?void 0:V.manager,"_initialize() not called before _openPopup()");const W=yield rd(h,p,v,Ko(),C);return function mw(_,h,p,v=500,C=600){const M=Math.max((window.screen.availHeight-C)/2,0).toString(),V=Math.max((window.screen.availWidth-v)/2,0).toString();let W="";const he=Object.assign(Object.assign({},Vl),{width:v.toString(),height:C.toString(),top:M,left:V}),_e=(0,L.z$)().toLowerCase();p&&(W=Cu(_e)?"_blank":p),xu(_e)&&(h=h||"http://localhost",he.scrollbars="yes");const Oe=Object.entries(he).reduce((Mt,[jn,Ni])=>`${Mt}${jn}=${Ni},`,"");if(function Pp(_=(0,L.z$)()){var h;return Un(_)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(_e)&&"_self"!==W)return function Bl(_,h){const p=document.createElement("a");p.href=_,p.target=h;const v=document.createEvent("MouseEvent");v.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(v)}(h||"",W),new Cb(null);const Ue=window.open(h||"",W,Oe);De(Ue,_,"popup-blocked");try{Ue.focus()}catch{}return new Cb(Ue)}(h,W,xl())})()}_openRedirect(h,p,v,C){var M=this;return(0,f.Z)(function*(){return yield M._originValidation(h),function Cl(_){an().location.href=_}(yield rd(h,p,v,Ko(),C)),new Promise(()=>{})})()}_initialize(h){const p=h._key();if(this.eventManagers[p]){const{manager:C,promise:M}=this.eventManagers[p];return C?Promise.resolve(C):(un(M,"If manager is not set, promise should be"),M)}const v=this.initAndGetManager(h);return this.eventManagers[p]={promise:v},v.catch(()=>{delete this.eventManagers[p]}),v}initAndGetManager(h){var p=this;return(0,f.Z)(function*(){const v=yield function A_(_){return Ta.apply(this,arguments)}(h),C=new Fl(h);return v.register("authEvent",M=>(De(M?.authEvent,h,"invalid-auth-event"),{status:C.onEvent(M.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[h._key()]={manager:C},p.iframes[h._key()]=v,C})()}_isIframeWebStorageSupported(h,p){this.iframes[h._key()].send(jh,{type:jh},C=>{var M;const V=null===(M=C?.[0])||void 0===M?void 0:M[jh];void 0!==V&&p(!!V),Ye(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const p=h._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function sm(_){return as.apply(this,arguments)}(h)),this.originValidationPromises[p]}get _shouldInitProactively(){return Ya()||uh()||Un()}};class id{constructor(h){this.factorId=h}_process(h,p,v){switch(p.type){case"enroll":return this._finalizeEnroll(h,p.credential,v);case"signin":return this._finalizeSignIn(h,p.credential);default:return Ut("unexpected MultiFactorSessionType")}}}class Hh extends id{constructor(h){super("phone"),this.credential=h}static _fromCredential(h){return new Hh(h)}_finalizeEnroll(h,p,v){return function El(_,h){return Kt(_,"POST","/v2/accounts/mfaEnrollment:finalize",Zt(_,h))}(h,{idToken:p,displayName:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(h,p){return function Dl(_,h){return Kt(_,"POST","/v2/accounts/mfaSignIn:finalize",Zt(_,h))}(h,{mfaPendingCredential:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let S_=(()=>{class _{constructor(){}static assertion(p){return Hh._fromCredential(p)}}return _.FACTOR_ID="phone",_})();var Hl="@firebase/auth";class Aa{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var p=this;return(0,f.Z)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const p=this.auth.onIdTokenChanged(v=>{h(v?.stsTokenManager.accessToken||null)});this.internalListeners.set(h,p),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const p=this.internalListeners.get(h);p&&(this.internalListeners.delete(h),p(),this.updateProactiveRefresh())}assertAuthConfigured(){De(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function zl(){return window}(0,L.Pz)("authIdTokenMaxAge"),function P_(_){(0,se._registerComponent)(new fo.wA("auth",(h,{options:p})=>{const v=h.getProvider("app").getImmediate(),C=h.getProvider("heartbeat"),M=h.getProvider("app-check-internal"),{apiKey:V,authDomain:W}=v.options;De(V&&!V.includes(":"),"invalid-api-key",{appName:v.name});const he={apiKey:V,authDomain:W,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Qa(_)},_e=new Qo(v,C,M,he);return function Dn(_,h){const p=h?.persistence||[],v=(Array.isArray(p)?p:[p]).map(Qr);h?.errorMap&&_._updateErrorMap(h.errorMap),_._initializeWithPersistence(v,h?.popupRedirectResolver)}(_e,p),_e},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,p,v)=>{h.getProvider("auth-internal").initialize()})),(0,se._registerComponent)(new fo.wA("auth-internal",h=>{const p=Wt(h.getProvider("auth").getImmediate());return new Aa(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,se.registerVersion)(Hl,"1.3.0",function _w(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,se.registerVersion)(Hl,"1.3.0","esm2017")}("Browser");function Da(){return Da=(0,f.Z)(function*(_,h,p){var v;const{BuildInfo:C}=zl();un(h.sessionId,"AuthEvent did not contain a session ID");const M=yield function qh(_){return wc.apply(this,arguments)}(h.sessionId),V={};return Un()?V.ibi=C.packageName:nl()?V.apn=C.packageName:Ye(_,"operation-not-supported-in-this-environment"),C.displayName&&(V.appDisplayName=C.displayName),V.sessionId=M,rd(_,p,h.type,void 0,null!==(v=h.eventId)&&void 0!==v?v:void 0,V)}),Da.apply(this,arguments)}function $h(){return($h=(0,f.Z)(function*(_){const{BuildInfo:h}=zl(),p={};Un()?p.iosBundleId=h.packageName:nl()?p.androidPackageName=h.packageName:Ye(_,"operation-not-supported-in-this-environment"),yield bb(_,p)})).apply(this,arguments)}function gm(){return(gm=(0,f.Z)(function*(_,h,p){const{cordova:v}=zl();let C=()=>{};try{yield new Promise((M,V)=>{let W=null;function he(){var Ue;M();const Mt=null===(Ue=v.plugins.browsertab)||void 0===Ue?void 0:Ue.close;"function"==typeof Mt&&Mt(),"function"==typeof p?.close&&p.close()}function _e(){W||(W=window.setTimeout(()=>{V(_t(_,"redirect-cancelled-by-user"))},2e3))}function Oe(){"visible"===document?.visibilityState&&_e()}h.addPassiveListener(he),document.addEventListener("resume",_e,!1),nl()&&document.addEventListener("visibilitychange",Oe,!1),C=()=>{h.removePassiveListener(he),document.removeEventListener("resume",_e,!1),document.removeEventListener("visibilitychange",Oe,!1),W&&window.clearTimeout(W)}})}finally{C()}})).apply(this,arguments)}function wc(){return(wc=(0,f.Z)(function*(_){const h=function sd(_){if(un(/[0-9a-zA-Z]+/.test(_),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(_);const h=new ArrayBuffer(_.length),p=new Uint8Array(h);for(let v=0;v<_.length;v++)p[v]=_.charCodeAt(v);return p}(_),p=yield crypto.subtle.digest("SHA-256",h);return Array.from(new Uint8Array(p)).map(C=>C.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Pb extends Fl{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(h=>{this.resolveInialized=h})}addPassiveListener(h){this.passiveListeners.add(h)}removePassiveListener(h){this.passiveListeners.delete(h)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(h){return this.resolveInialized(),this.passiveListeners.forEach(p=>p(h)),super.onEvent(h)}initialized(){var h=this;return(0,f.Z)(function*(){yield h.initPromise})()}}function ad(_){return _m.apply(this,arguments)}function _m(){return(_m=(0,f.Z)(function*(_){const h=yield cd()._get(ym(_));return h&&(yield cd()._remove(ym(_))),h})).apply(this,arguments)}function Gl(){const _=[];for(let p=0;p<20;p++){const v=Math.floor(62*Math.random());_.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(v))}return _.join("")}function cd(){return Qr(wl)}function ym(_){return Yo("authEvent",_.config.apiKey,_.name)}function Cc(_){if(!_?.includes("?"))return{};const[h,...p]=_.split("?");return(0,L.zd)(p.join("?"))}const Vr=class Wh{constructor(){this._redirectPersistence=Mi,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=wa,this._overrideRedirectResult=Ec}_initialize(h){var p=this;return(0,f.Z)(function*(){const v=h._key();let C=p.eventManagers.get(v);return C||(C=new Pb(h),p.eventManagers.set(v,C),p.attachCallbackListeners(h,C)),C})()}_openPopup(h){Ye(h,"operation-not-supported-in-this-environment")}_openRedirect(h,p,v,C){var M=this;return(0,f.Z)(function*(){!function Gh(_){var h,p,v,C,M,V,W,he,_e,Oe;const Ue=zl();De("function"==typeof(null===(h=Ue?.universalLinks)||void 0===h?void 0:h.subscribe),_,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),De(typeof(null===(p=Ue?.BuildInfo)||void 0===p?void 0:p.packageName)<"u",_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),De("function"==typeof(null===(M=null===(C=null===(v=Ue?.cordova)||void 0===v?void 0:v.plugins)||void 0===C?void 0:C.browsertab)||void 0===M?void 0:M.openUrl),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),De("function"==typeof(null===(he=null===(W=null===(V=Ue?.cordova)||void 0===V?void 0:V.plugins)||void 0===W?void 0:W.browsertab)||void 0===he?void 0:he.isAvailable),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),De("function"==typeof(null===(Oe=null===(_e=Ue?.cordova)||void 0===_e?void 0:_e.InAppBrowser)||void 0===Oe?void 0:Oe.open),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(h);const V=yield M._initialize(h);yield V.initialized(),V.resetRedirect(),function w_(){Fh.clear()}(),yield M._originValidation(h);const W=function F_(_,h,p=null){return{type:h,eventId:p,urlResponse:null,sessionId:Gl(),postBody:null,tenantId:_.tenantId,error:_t(_,"no-auth-event")}}(h,v,C);yield function L_(_,h){return cd()._set(ym(_),h)}(h,W);const he=yield function zh(_,h,p){return Da.apply(this,arguments)}(h,W,p),_e=yield function mm(_){const{cordova:h}=zl();return new Promise(p=>{h.plugins.browsertab.isAvailable(v=>{let C=null;v?h.plugins.browsertab.openUrl(_):C=h.InAppBrowser.open(_,function Mp(_=(0,L.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}()?"_blank":"_system","location=yes"),p(C)})})}(he);return function $l(_,h,p){return gm.apply(this,arguments)}(h,V,_e)})()}_isIframeWebStorageSupported(h,p){throw new Error("Method not implemented.")}_originValidation(h){const p=h._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function k_(_){return $h.apply(this,arguments)}(h)),this.originValidationPromises[p]}attachCallbackListeners(h,p){const{universalLinks:v,handleOpenURL:C,BuildInfo:M}=zl(),V=setTimeout((0,f.Z)(function*(){yield ad(h),p.onEvent(Tc())}),500),W=function(){var Oe=(0,f.Z)(function*(Ue){clearTimeout(V);const Mt=yield ad(h);let jn=null;Mt&&Ue?.url&&(jn=function Rb(_,h){var p,v;const C=function pi(_){const h=Cc(_),p=h.link?decodeURIComponent(h.link):void 0,v=Cc(p).link,C=h.deep_link_id?decodeURIComponent(h.deep_link_id):void 0;return Cc(C).link||C||v||p||_}(h);if(C.includes("/__/auth/callback")){const M=Cc(C),V=M.firebaseError?function V_(_){try{return JSON.parse(_)}catch{return null}}(decodeURIComponent(M.firebaseError)):null,W=null===(v=null===(p=V?.code)||void 0===p?void 0:p.split("auth/"))||void 0===v?void 0:v[1],he=W?_t(W):null;return he?{type:_.type,eventId:_.eventId,tenantId:_.tenantId,error:he,urlResponse:null,sessionId:null,postBody:null}:{type:_.type,eventId:_.eventId,tenantId:_.tenantId,sessionId:_.sessionId,urlResponse:C,postBody:null}}return null}(Mt,Ue.url)),p.onEvent(jn||Tc())});return function(Mt){return Oe.apply(this,arguments)}}();typeof v<"u"&&"function"==typeof v.subscribe&&v.subscribe(null,W);const he=C,_e=`${M.packageName.toLowerCase()}://`;zl().handleOpenURL=function(){var Oe=(0,f.Z)(function*(Ue){if(Ue.toLowerCase().startsWith(_e)&&W({url:Ue}),"function"==typeof he)try{he(Ue)}catch(Mt){console.error(Mt)}});return function(Ue){return Oe.apply(this,arguments)}}()}};function Tc(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:_t("no-auth-event")}}function ld(){var _;return(null===(_=self?.location)||void 0===_?void 0:_.protocol)||null}function Fb(_=(0,L.z$)()){return!("file:"!==ld()&&"ionic:"!==ld()&&"capacitor:"!==ld()||!_.toLowerCase().match(/iphone|ipad|ipod|android/))}function bm(){try{const _=self.localStorage,h=xl();if(_)return _.setItem(h,"1"),_.removeItem(h),!function U_(_=(0,L.z$)()){return function bw(){return(0,L.w1)()&&11===document?.documentMode}()||function Ew(_=(0,L.z$)()){return/Edge\/\d+/.test(_)}(_)}()||(0,L.hl)()}catch{return Em()&&(0,L.hl)()}return!1}function Em(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Ac(){return(function kb(){return"http:"===ld()||"https:"===ld()}()||(0,L.ru)()||Fb())&&!function Lb(){return(0,L.b$)()||(0,L.UG)()}()&&bm()&&!Em()}function ct(){return Fb()&&typeof document<"u"}function js(){return(js=(0,f.Z)(function*(){return!!ct()&&new Promise(_=>{const h=setTimeout(()=>{_(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(h),_(!0)})})})).apply(this,arguments)}const wn={LOCAL:"local",NONE:"none",SESSION:"session"},cs=De,ud="persistence";function ls(_){return ql.apply(this,arguments)}function ql(){return(ql=(0,f.Z)(function*(_){yield _._initializationPromise;const h=dr(),p=Yo(ud,_.config.apiKey,_.name);h&&h.setItem(p,_._getPersistence())})).apply(this,arguments)}function dr(){var _;try{return(null===(_=function gi(){return typeof window<"u"?window:null}())||void 0===_?void 0:_.sessionStorage)||null}catch{return null}}const Kh=De;class Po{constructor(){this.browserResolver=Qr(Sb),this.cordovaResolver=Qr(Vr),this.underlyingResolver=null,this._redirectPersistence=Mi,this._completeRedirectFn=wa,this._overrideRedirectResult=Ec}_initialize(h){var p=this;return(0,f.Z)(function*(){return yield p.selectUnderlyingResolver(),p.assertedUnderlyingResolver._initialize(h)})()}_openPopup(h,p,v,C){var M=this;return(0,f.Z)(function*(){return yield M.selectUnderlyingResolver(),M.assertedUnderlyingResolver._openPopup(h,p,v,C)})()}_openRedirect(h,p,v,C){var M=this;return(0,f.Z)(function*(){return yield M.selectUnderlyingResolver(),M.assertedUnderlyingResolver._openRedirect(h,p,v,C)})()}_isIframeWebStorageSupported(h,p){this.assertedUnderlyingResolver._isIframeWebStorageSupported(h,p)}_originValidation(h){return this.assertedUnderlyingResolver._originValidation(h)}get _shouldInitProactively(){return ct()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Kh(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var h=this;return(0,f.Z)(function*(){if(h.underlyingResolver)return;const p=yield function mi(){return js.apply(this,arguments)}();h.underlyingResolver=p?h.cordovaResolver:h.browserResolver})()}}function Ro(_){return _.unwrap()}function j_(_){return Qh(_)}function Qh(_){const{_tokenResponse:h}=_ instanceof L.ZR?_.customData:_;if(!h)return null;if(!(_ instanceof L.ZR)&&"temporaryProof"in h&&"phoneNumber"in h)return je.credentialFromResult(_);const p=h.providerId;if(!p||p===ut.PASSWORD)return null;let v;switch(p){case ut.GOOGLE:v=ph;break;case ut.FACEBOOK:v=al;break;case ut.GITHUB:v=cl;break;case ut.TWITTER:v=jp;break;default:const{oauthIdToken:C,oauthAccessToken:M,oauthTokenSecret:V,pendingToken:W,nonce:he}=h;return M||V||C||W?W?p.startsWith("saml.")?di._create(p,W):ui._fromParams({providerId:p,signInMethod:p,pendingToken:W,idToken:C,accessToken:M}):new Xo(p).credential({idToken:C,accessToken:M,rawNonce:he}):null}return _ instanceof L.ZR?v.credentialFromError(_):v.credentialFromResult(_)}function Br(_,h){return h.catch(p=>{throw p instanceof L.ZR&&function Yh(_,h){var p;const v=null===(p=h.customData)||void 0===p?void 0:p._tokenResponse;if("auth/multi-factor-auth-required"===h?.code)h.resolver=new us(_,function bl(_,h){var p;const v=(0,L.m9)(_),C=h;return De(h.customData.operationType,v,"argument-error"),De(null===(p=C.customData._serverResponse)||void 0===p?void 0:p.mfaPendingCredential,v,"argument-error"),Vs._fromError(v,C)}(_,h));else if(v){const C=Qh(h),M=h;C&&(M.credential=C,M.tenantId=v.tenantId||void 0,M.email=v.email||void 0,M.phoneNumber=v.phoneNumber||void 0)}}(_,p),p}).then(p=>{const C=p.user;return{operationType:p.operationType,credential:j_(p),additionalUserInfo:qu(p),user:Hs.getOrCreate(C)}})}function Xh(_,h){return Wl.apply(this,arguments)}function Wl(){return(Wl=(0,f.Z)(function*(_,h){const p=yield h;return{verificationId:p.verificationId,confirm:v=>Br(_,p.confirm(v))}})).apply(this,arguments)}class us{constructor(h,p){this.resolver=p,this.auth=function Iw(_){return _.wrapped()}(h)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(h){return Br(Ro(this.auth),this.resolver.resolveSignIn(h))}}class Hs{constructor(h){this._delegate=h,this.multiFactor=function Ki(_){const h=(0,L.m9)(_);return vr.has(h)||vr.set(h,fc._fromUser(h)),vr.get(h)}(h)}static getOrCreate(h){return Hs.USER_MAP.has(h)||Hs.USER_MAP.set(h,new Hs(h)),Hs.USER_MAP.get(h)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(h){return this._delegate.getIdTokenResult(h)}getIdToken(h){return this._delegate.getIdToken(h)}linkAndRetrieveDataWithCredential(h){return this.linkWithCredential(h)}linkWithCredential(h){var p=this;return(0,f.Z)(function*(){return Br(p.auth,Hp(p._delegate,h))})()}linkWithPhoneNumber(h,p){var v=this;return(0,f.Z)(function*(){return Xh(v.auth,function x(_,h,p){return T.apply(this,arguments)}(v._delegate,h,p))})()}linkWithPopup(h){var p=this;return(0,f.Z)(function*(){return Br(p.auth,function ti(_,h,p){return kh.apply(this,arguments)}(p._delegate,h,Po))})()}linkWithRedirect(h){var p=this;return(0,f.Z)(function*(){return yield ls(Wt(p.auth)),hw(p._delegate,h,Po)})()}reauthenticateAndRetrieveDataWithCredential(h){return this.reauthenticateWithCredential(h)}reauthenticateWithCredential(h){var p=this;return(0,f.Z)(function*(){return Br(p.auth,zp(p._delegate,h))})()}reauthenticateWithPhoneNumber(h,p){return Xh(this.auth,function R(_,h,p){return B.apply(this,arguments)}(this._delegate,h,p))}reauthenticateWithPopup(h){return Br(this.auth,function bc(_,h,p){return E_.apply(this,arguments)}(this._delegate,h,Po))}reauthenticateWithRedirect(h){var p=this;return(0,f.Z)(function*(){return yield ls(Wt(p.auth)),om(p._delegate,h,Po)})()}sendEmailVerification(h){return function ei(_,h){return _l.apply(this,arguments)}(this._delegate,h)}unlink(h){var p=this;return(0,f.Z)(function*(){return yield function mh(_,h){return ul.apply(this,arguments)}(p._delegate,h),p})()}updateEmail(h){return function ts(_,h){return Wp((0,L.m9)(_),h,null)}(this._delegate,h)}updatePassword(h){return function Ch(_,h){return Wp((0,L.m9)(_),null,h)}(this._delegate,h)}updatePhoneNumber(h){return function ve(_,h){return Ge.apply(this,arguments)}(this._delegate,h)}updateProfile(h){return function xh(_,h){return zu.apply(this,arguments)}(this._delegate,h)}verifyBeforeUpdateEmail(h,p){return function wh(_,h,p){return hi.apply(this,arguments)}(this._delegate,h,p)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Hs.USER_MAP=new WeakMap;const Oo=De;let Im=(()=>{class _{constructor(p,v){if(this.app=p,v.isInitialized())return this._delegate=v.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:C}=p.options;Oo(C,"invalid-api-key",{appName:p.name}),Oo(C,"invalid-api-key",{appName:p.name});const M=typeof window<"u"?Po:void 0;this._delegate=v.initialize({options:{persistence:H_(C,p.name),popupRedirectResolver:M}}),this._delegate._updateErrorMap(Is),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Hs.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(p){this._delegate.languageCode=p}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(p){this._delegate.tenantId=p}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(p,v){!function vo(_,h,p){const v=Wt(_);De(v._canInitEmulator,v,"emulator-config-failed"),De(/^https?:\/\//.test(h),v,"invalid-emulator-scheme");const C=!!p?.disableWarnings,M=$i(h),{host:V,port:W}=function bt(_){const h=$i(_),p=/(\/\/)?([^?#/]+)/.exec(_.substr(h.length));if(!p)return{host:"",port:null};const v=p[2].split("@").pop()||"",C=/^(\[[^\]]+\])(:|$)/.exec(v);if(C){const M=C[1];return{host:M,port:aa(v.substr(M.length+1))}}{const[M,V]=v.split(":");return{host:M,port:aa(V)}}}(h);v.config.emulator={url:`${M}//${V}${null===W?"":`:${W}`}/`},v.settings.appVerificationDisabledForTesting=!0,v.emulatorConfig=Object.freeze({host:V,port:W,protocol:M.replace(":",""),options:Object.freeze({disableWarnings:C})}),C||function ec(){function _(){const h=document.createElement("p"),p=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}(this._delegate,p,v)}applyActionCode(p){return function ju(_,h){return vh.apply(this,arguments)}(this._delegate,p)}checkActionCode(p){return bh(this._delegate,p)}confirmPasswordReset(p,v){return function Gp(_,h,p){return ua.apply(this,arguments)}(this._delegate,p,v)}createUserWithEmailAndPassword(p,v){var C=this;return(0,f.Z)(function*(){return Br(C._delegate,function da(_,h,p){return uc.apply(this,arguments)}(C._delegate,p,v))})()}fetchProvidersForEmail(p){return this.fetchSignInMethodsForEmail(p)}fetchSignInMethodsForEmail(p){return function ha(_,h){return fa.apply(this,arguments)}(this._delegate,p)}isSignInWithEmailLink(p){return function Hu(_,h){const p=Pu.parseLink(h);return"EMAIL_SIGNIN"===p?.operation}(0,p)}getRedirectResult(){var p=this;return(0,f.Z)(function*(){Oo(Ac(),p._delegate,"operation-not-supported-in-this-environment");const v=yield function Xu(_,h){return Mn.apply(this,arguments)}(p._delegate,Po);return v?Br(p._delegate,Promise.resolve(v)):{credential:null,user:null}})()}addFrameworkForLogging(p){!function Ob(_,h){Wt(_)._logFramework(h)}(this._delegate,p)}onAuthStateChanged(p,v,C){const{next:M,error:V,complete:W}=Jh(p,v,C);return this._delegate.onAuthStateChanged(M,V,W)}onIdTokenChanged(p,v,C){const{next:M,error:V,complete:W}=Jh(p,v,C);return this._delegate.onIdTokenChanged(M,V,W)}sendSignInLinkToEmail(p,v){return function qp(_,h,p){return dc.apply(this,arguments)}(this._delegate,p,v)}sendPasswordResetEmail(p,v){return function cc(_,h,p){return lc.apply(this,arguments)}(this._delegate,p,v||void 0)}setPersistence(p){var v=this;return(0,f.Z)(function*(){let C;switch(function Zh(_,h){cs(Object.values(wn).includes(h),_,"invalid-persistence-type"),(0,L.b$)()?cs(h!==wn.SESSION,_,"unsupported-persistence-type"):(0,L.UG)()?cs(h===wn.NONE,_,"unsupported-persistence-type"):Em()?cs(h===wn.NONE||h===wn.LOCAL&&(0,L.hl)(),_,"unsupported-persistence-type"):cs(h===wn.NONE||bm(),_,"unsupported-persistence-type")}(v._delegate,p),p){case wn.SESSION:C=Mi;break;case wn.LOCAL:C=(yield Qr(Ji)._isAvailable())?Ji:wl;break;case wn.NONE:C=Bn;break;default:return Ye("argument-error",{appName:v._delegate.name})}return v._delegate.setPersistence(C)})()}signInAndRetrieveDataWithCredential(p){return this.signInWithCredential(p)}signInAnonymously(){return Br(this._delegate,function Ou(_){return ll.apply(this,arguments)}(this._delegate))}signInWithCredential(p){return Br(this._delegate,gh(this._delegate,p))}signInWithCustomToken(p){return Br(this._delegate,function yh(_,h){return $p.apply(this,arguments)}(this._delegate,p))}signInWithEmailAndPassword(p,v){return Br(this._delegate,function Ih(_,h,p){return gh((0,L.m9)(_),Bp.credential(h,p)).catch(function(){var v=(0,f.Z)(function*(C){throw"auth/password-does-not-meet-requirements"===C.code&&Ls(_),C});return function(C){return v.apply(this,arguments)}}())}(this._delegate,p,v))}signInWithEmailLink(p,v){return Br(this._delegate,function dn(_,h,p){return gl.apply(this,arguments)}(this._delegate,p,v))}signInWithPhoneNumber(p,v){return Xh(this._delegate,function vc(_,h,p){return Rl.apply(this,arguments)}(this._delegate,p,v))}signInWithPopup(p){var v=this;return(0,f.Z)(function*(){return Oo(Ac(),v._delegate,"operation-not-supported-in-this-environment"),Br(v._delegate,function Ri(_,h,p){return to.apply(this,arguments)}(v._delegate,p,Po))})()}signInWithRedirect(p){var v=this;return(0,f.Z)(function*(){return Oo(Ac(),v._delegate,"operation-not-supported-in-this-environment"),yield ls(v._delegate),x_(v._delegate,p,Po)})()}updateCurrentUser(p){return this._delegate.updateCurrentUser(p)}verifyPasswordResetCode(p){return function Eh(_,h){return ml.apply(this,arguments)}(this._delegate,p)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return _.Persistence=wn,_})();function Jh(_,h,p){let v=_;"function"!=typeof _&&({next:v,error:h,complete:p}=_);const C=v;return{next:V=>C(V&&Hs.getOrCreate(V)),error:h,complete:p}}function H_(_,h){const p=function Vb(_,h){const p=dr();if(!p)return[];const v=Yo(ud,_,h);switch(p.getItem(v)){case wn.NONE:return[Bn];case wn.LOCAL:return[Ji,Mi];case wn.SESSION:return[Mi];default:return[]}}(_,h);if(typeof self<"u"&&!p.includes(Ji)&&p.push(Ji),typeof window<"u")for(const v of[wl,Mi])p.includes(v)||p.push(v);return p.includes(Bn)||p.push(Bn),p}class wm{constructor(){this.providerId="phone",this._delegate=new je(Ro(ne.Z.auth()))}static credential(h,p){return je.credential(h,p)}verifyPhoneNumber(h,p){return this._delegate.verifyPhoneNumber(h,p)}unwrap(){return this._delegate}}wm.PHONE_SIGN_IN_METHOD=je.PHONE_SIGN_IN_METHOD,wm.PROVIDER_ID=je.PROVIDER_ID;const ef=De;class dd{constructor(h,p,v=ne.Z.app()){var C;ef(null===(C=v.options)||void 0===C?void 0:C.apiKey,"invalid-api-key",{appName:v.name}),this._delegate=new Yu(v.auth(),h,p),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function tf(_){_.INTERNAL.registerComponent(new fo.wA("auth-compat",h=>{const p=h.getProvider("app-compat").getImmediate(),v=h.getProvider("auth");return new Im(p,v)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Bp,FacebookAuthProvider:al,GithubAuthProvider:cl,GoogleAuthProvider:ph,OAuthProvider:Xo,SAMLAuthProvider:Io,PhoneAuthProvider:wm,PhoneMultiFactorGenerator:S_,RecaptchaVerifier:dd,TwitterAuthProvider:jp,Auth:Im,AuthCredential:Gi,Error:L.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),_.registerVersion("@firebase/auth-compat","0.4.6")}(ne.Z)},5861:(st,xe,F)=>{function f(L,se,re,q,ye,de,X){try{var k=L[de](X),j=k.value}catch(H){return void re(H)}k.done?se(j):Promise.resolve(j).then(q,ye)}function ne(L){return function(){var se=this,re=arguments;return new Promise(function(q,ye){var de=L.apply(se,re);function X(j){f(de,q,ye,X,k,"next",j)}function k(j){f(de,q,ye,X,k,"throw",j)}X(void 0)})}}F.d(xe,{Z:()=>ne})}},st=>{st(st.s=1783)}]);